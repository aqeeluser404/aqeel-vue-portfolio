"use strict";(self["webpackChunkvue_portfolio"]=self["webpackChunkvue_portfolio"]||[]).push([[504],{4497:function(t,e,n){n(4114);var r,i,o=n(8542),s=n(512),a=n(9813),u=n(2376),c=(r={},r["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.FA("app","Firebase",c),f="@firebase/app",h="0.6.30",p="@firebase/analytics",d="@firebase/app-check",y="@firebase/auth",v="@firebase/database",g="@firebase/functions",m="@firebase/installations",b="@firebase/messaging",w="@firebase/performance",_="@firebase/remote-config",E="@firebase/storage",T="@firebase/firestore",I="firebase-wrapper",S="[DEFAULT]",A=(i={},i[f]="fire-core",i[p]="fire-analytics",i[d]="fire-app-check",i[y]="fire-auth",i[v]="fire-rtdb",i[g]="fire-fn",i[m]="fire-iid",i[b]="fire-fcm",i[w]="fire-perf",i[_]="fire-rc",i[E]="fire-gcs",i[T]="fire-fst",i["fire-js"]="fire-js",i[I]="fire-js-all",i),C=new u.Vy("@firebase/app"),x=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,s.A4)(t),this.container=new a.h1(e.name),this._addComponent(new a.uA("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e=S),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=S),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){C.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();x.prototype.name&&x.prototype.options||x.prototype.delete||console.log("dc");var N="8.10.0";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(t){var e={},n=new Map,r={__esModule:!0,initializeApp:c,app:o,registerVersion:p,setLogLevel:u.He,onLog:d,apps:null,SDK_VERSION:N,INTERNAL:{registerComponent:h,removeApp:i,components:n,useAsService:y}};function i(t){delete e[t]}function o(t){if(t=t||S,!(0,s.gR)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(n,i){if(void 0===i&&(i={}),"object"!==typeof i||null===i){var o=i;i={name:o}}var a=i;void 0===a.name&&(a.name=S);var u=a.name;if("string"!==typeof u||!u)throw l.create("bad-app-name",{appName:String(u)});if((0,s.gR)(e,u))throw l.create("duplicate-app",{appName:u});var c=new t(n,a,r);return e[u]=c,c}function f(){return Object.keys(e).map((function(t){return e[t]}))}function h(i){var a=i.name;if(n.has(a))return C.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===i.type?r[a]:null;if(n.set(a,i),"PUBLIC"===i.type){var u=function(t){if(void 0===t&&(t=o()),"function"!==typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==i.serviceProps&&(0,s.zw)(u,i.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,a);return n.apply(this,i.multipleInstances?t:[])}}for(var c=0,f=Object.keys(e);c<f.length;c++){var h=f[c];e[h]._addComponent(i)}return"PUBLIC"===i.type?r[a]:null}function p(t,e,n){var r,i=null!==(r=A[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void C.warn(u.join(" "))}h(new a.uA(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))}function d(t,e){if(null!==t&&"function"!==typeof t)throw l.create("invalid-log-argument");(0,u.Ey)(t,e)}function y(t,e){if("serverAuth"===e)return null;var n=e;return n}return r["default"]=r,Object.defineProperty(r,"apps",{get:f}),o["App"]=t,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D(){var t=O(x);function e(e){(0,s.zw)(t,e)}return t.INTERNAL=(0,o.Cl)((0,o.Cl)({},t.INTERNAL),{createFirebaseNamespace:D,extendNamespace:e,createSubscribe:s.tD,ErrorFactory:s.FA,deepExtend:s.zw}),t}var k=D(),R=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map((function(t){if(P(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(t,e){t.INTERNAL.registerComponent(new a.uA("platform-logger",(function(t){return new R(t)}),"PRIVATE")),t.registerVersion(f,h,e),t.registerVersion("fire-js","")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if((0,s.Bd)()&&void 0!==self.firebase){C.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var M=self.firebase.SDK_VERSION;M&&M.indexOf("LITE")>=0&&C.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var F=k.initializeApp;k.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,s.Ll)()&&C.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),F.apply(void 0,t)};var j=k;L(j),e.A=j},9813:function(t,e,n){n.d(e,{h1:function(){return l},uA:function(){return o}});var r=n(8542),i=n(512),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.cY;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),r=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(c(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(p){}try{for(var i=(0,r.Ju)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=(0,r.zs)(o.value,2),u=a[0],l=a[1],f=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:f});l.resolve(h)}catch(p){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.sH)(this,void 0,void 0,(function(){var t;return(0,r.YH)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.fX)((0,r.fX)([],(0,r.zs)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),(0,r.zs)(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=s),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(this.name+"("+s+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:s,options:o});try{for(var u=(0,r.Ju)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.zs)(c.value,2),f=l[0],h=l[1],p=this.normalizeInstanceIdentifier(f);s===p&&h.resolve(a)}}catch(d){e={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var s=(0,r.Ju)(o),a=s.next();!a.done;a=s.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:u(e),options:r}),this.instances.set(e,i),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(o){}return i||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=s),this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();function u(t){return t===s?void 0:t}function c(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){var e=this.getProvider(t.name);e.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},2376:function(t,e,n){n.d(e,{$b:function(){return o},Ey:function(){return p},He:function(){return h},Vy:function(){return f}});var r;n(4114);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o,s=[];(function(t){t[t["DEBUG"]=0]="DEBUG",t[t["VERBOSE"]=1]="VERBOSE",t[t["INFO"]=2]="INFO",t[t["WARN"]=3]="WARN",t[t["ERROR"]=4]="ERROR",t[t["SILENT"]=5]="SILENT"})(o||(o={}));var a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=(r={},r[o.DEBUG]="log",r[o.VERBOSE]="log",r[o.INFO]="info",r[o.WARN]="warn",r[o.ERROR]="error",r),l=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,i(["["+o+"]  "+t.name+":"],n))}},f=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.DEBUG],t)),this._logHandler.apply(this,i([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.VERBOSE],t)),this._logHandler.apply(this,i([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.INFO],t)),this._logHandler.apply(this,i([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.WARN],t)),this._logHandler.apply(this,i([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.ERROR],t)),this._logHandler.apply(this,i([this,o.ERROR],t))},t}();function h(t){s.forEach((function(e){e.setLogLevel(t)}))}function p(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++){var u=i[r];n(u)}}},512:function(t,e,n){n.d(e,{A4:function(){return c},Bd:function(){return g},FA:function(){return A},Fy:function(){return p},Ku:function(){return P},Ll:function(){return v},ZQ:function(){return d},b8:function(){return w},cY:function(){return h},gR:function(){return N},jZ:function(){return y},lT:function(){return _},lV:function(){return b},n4:function(){return E},nr:function(){return T},sr:function(){return m},tD:function(){return O},zw:function(){return l}});n(4114),n(4979);var r=n(8542),i=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},o=function(t){var e=[],n=0,r=0;while(n<t.length){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){o=t[n++];var s=t[n++],a=t[n++],u=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&a)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{o=t[n++],s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,f=(3&o)<<4|a>>4,h=(15&a)<<2|c>>6,p=63&c;u||(p=64,s||(h=64)),r.push(n[l],n[f],n[h],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):o(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length,a=s?n[t.charAt(i)]:0;++i;var u=i<t.length,c=u?n[t.charAt(i)]:64;++i;var l=i<t.length,f=l?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==f)throw Error();var h=o<<2|a>>4;if(r.push(h),64!==c){var p=a<<4&240|c>>2;if(r.push(p),64!==f){var d=c<<6&192|f;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},a=function(t){var e=i(t);return s.encodeByteArray(e,!0)},u=function(t){return a(t).replace(/\./g,"")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function c(t){return l(void 0,t)}function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)e.hasOwnProperty(r)&&f(r)&&(t[r]=l(t[r],e[r]));return t}function f(t){return"__proto__"!==t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.Cl)({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[u(JSON.stringify(n)),u(JSON.stringify(a)),c].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function y(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())}function v(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}function g(){return"object"===typeof self&&self.self===self}function m(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function b(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function w(){return d().indexOf("Electron/")>=0}function _(){var t=d();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function E(){return d().indexOf("MSAppHost/")>=0}function T(){return!v()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var I="FirebaseError",S=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name=I,Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,A.prototype.create),o}return(0,r.C6)(e,t),e}(Error),A=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?C(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new S(i,a,r);return u},t}();function C(t,e){return t.replace(x,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var x=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function N(t,e){return Object.prototype.hasOwnProperty.call(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
(function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),s=1518500249):(o=u^c^l,s=1859775393):r<60?(o=u&c|l&(u|c),s=2400959708):(o=u^c^l,s=3395469782);i=(a<<5|a>>>27)+o+f+s+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;while(r<e){if(0===o)while(r<=n)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){while(r<e)if(i[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else while(r<e)if(i[o]=t[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}})();function O(t,e){var n=new D(t,e);return n.subscribe.bind(n)}var D=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=k(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=R),void 0===r.error&&(r.error=R),void 0===r.complete&&(r.complete=R);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function k(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}function R(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function P(t){return t&&t._delegate?t._delegate:t}},144:function(t,e,n){n.d(e,{C4:function(){return m},EW:function(){return xt},Gc:function(){return vt},IG:function(){return It},IJ:function(){return Rt},KR:function(){return kt},Kh:function(){return yt},Pr:function(){return jt},R1:function(){return Mt},X2:function(){return l},bl:function(){return b},fE:function(){return _t},g8:function(){return bt},hZ:function(){return O},i9:function(){return Dt},ju:function(){return Et},o5:function(){return c},u4:function(){return N},uY:function(){return a},ux:function(){return Tt},yC:function(){return s}});n(4114);var r=n(4232);let i,o;class s{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=i,!t&&i&&(this.index=(i.scopes||(i.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const e=i;try{return i=this,t()}finally{i=e}}else 0}on(){i=this}off(){i=this.parent}stop(t){if(this._active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const t=this.parent.scopes.pop();t&&t!==this&&(this.parent.scopes[this.index]=t,t.index=this.index)}this.parent=void 0,this._active=!1}}}function a(t){return new s(t)}function u(t,e=i){e&&e.active&&e.effects.push(t)}function c(){return i}class l{constructor(t,e,n,r){this.fn=t,this.trigger=e,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,u(this,r)}get dirty(){if(2===this._dirtyLevel||3===this._dirtyLevel){this._dirtyLevel=1,m();for(let t=0;t<this._depsLength;t++){const e=this.deps[t];if(e.computed&&(f(e.computed),this._dirtyLevel>=4))break}1===this._dirtyLevel&&(this._dirtyLevel=0),b()}return this._dirtyLevel>=4}set dirty(t){this._dirtyLevel=t?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let t=y,e=o;try{return y=!0,o=this,this._runnings++,h(this),this.fn()}finally{p(this),this._runnings--,o=e,y=t}}stop(){var t;this.active&&(h(this),p(this),null==(t=this.onStop)||t.call(this),this.active=!1)}}function f(t){return t.value}function h(t){t._trackId++,t._depsLength=0}function p(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)d(t.deps[e],t);t.deps.length=t._depsLength}}function d(t,e){const n=t.get(e);void 0!==n&&e._trackId!==n&&(t.delete(e),0===t.size&&t.cleanup())}let y=!0,v=0;const g=[];function m(){g.push(y),y=!1}function b(){const t=g.pop();y=void 0===t||t}function w(){v++}function _(){v--;while(!v&&T.length)T.shift()()}function E(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const n=t.deps[t._depsLength];n!==e?(n&&d(n,t),t.deps[t._depsLength++]=e):t._depsLength++}}const T=[];function I(t,e,n){w();for(const r of t.keys()){let n;r._dirtyLevel<e&&(null!=n?n:n=t.get(r)===r._trackId)&&(r._shouldSchedule||(r._shouldSchedule=0===r._dirtyLevel),r._dirtyLevel=e),r._shouldSchedule&&(null!=n?n:n=t.get(r)===r._trackId)&&(r.trigger(),r._runnings&&!r.allowRecurse||2===r._dirtyLevel||(r._shouldSchedule=!1,r.scheduler&&T.push(r.scheduler)))}_()}const S=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},A=new WeakMap,C=Symbol(""),x=Symbol("");function N(t,e,n){if(y&&o){let e=A.get(t);e||A.set(t,e=new Map);let r=e.get(n);r||e.set(n,r=S((()=>e.delete(n)))),E(o,r,void 0)}}function O(t,e,n,i,o,s){const a=A.get(t);if(!a)return;let u=[];if("clear"===e)u=[...a.values()];else if("length"===n&&(0,r.cy)(t)){const t=Number(i);a.forEach(((e,n)=>{("length"===n||!(0,r.Bm)(n)&&n>=t)&&u.push(e)}))}else switch(void 0!==n&&u.push(a.get(n)),e){case"add":(0,r.cy)(t)?(0,r.yI)(n)&&u.push(a.get("length")):(u.push(a.get(C)),(0,r.CE)(t)&&u.push(a.get(x)));break;case"delete":(0,r.cy)(t)||(u.push(a.get(C)),(0,r.CE)(t)&&u.push(a.get(x)));break;case"set":(0,r.CE)(t)&&u.push(a.get(C));break}w();for(const r of u)r&&I(r,4,void 0);_()}const D=(0,r.pD)("__proto__,__v_isRef,__isVue"),k=new Set(Object.getOwnPropertyNames(Symbol).filter((t=>"arguments"!==t&&"caller"!==t)).map((t=>Symbol[t])).filter(r.Bm)),R=P();function P(){const t={};return["includes","indexOf","lastIndexOf"].forEach((e=>{t[e]=function(...t){const n=Tt(this);for(let e=0,i=this.length;e<i;e++)N(n,"get",e+"");const r=n[e](...t);return-1===r||!1===r?n[e](...t.map(Tt)):r}})),["push","pop","shift","unshift","splice"].forEach((e=>{t[e]=function(...t){m(),w();const n=Tt(this)[e].apply(this,t);return _(),b(),n}})),t}function L(t){const e=Tt(this);return N(e,"has",t),e.hasOwnProperty(t)}class M{constructor(t=!1,e=!1){this._isReadonly=t,this._shallow=e}get(t,e,n){const i=this._isReadonly,o=this._shallow;if("__v_isReactive"===e)return!i;if("__v_isReadonly"===e)return i;if("__v_isShallow"===e)return o;if("__v_raw"===e)return n===(i?o?ht:ft:o?lt:ct).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const s=(0,r.cy)(t);if(!i){if(s&&(0,r.$3)(R,e))return Reflect.get(R,e,n);if("hasOwnProperty"===e)return L}const a=Reflect.get(t,e,n);return((0,r.Bm)(e)?k.has(e):D(e))?a:(i||N(t,"get",e),o?a:Dt(a)?s&&(0,r.yI)(e)?a:a.value:(0,r.Gv)(a)?i?gt(a):yt(a):a)}}class F extends M{constructor(t=!1){super(!1,t)}set(t,e,n,i){let o=t[e];if(!this._shallow){const e=wt(o);if(_t(n)||wt(n)||(o=Tt(o),n=Tt(n)),!(0,r.cy)(t)&&Dt(o)&&!Dt(n))return!e&&(o.value=n,!0)}const s=(0,r.cy)(t)&&(0,r.yI)(e)?Number(e)<t.length:(0,r.$3)(t,e),a=Reflect.set(t,e,n,i);return t===Tt(i)&&(s?(0,r.$H)(n,o)&&O(t,"set",e,n,o):O(t,"add",e,n)),a}deleteProperty(t,e){const n=(0,r.$3)(t,e),i=t[e],o=Reflect.deleteProperty(t,e);return o&&n&&O(t,"delete",e,void 0,i),o}has(t,e){const n=Reflect.has(t,e);return(0,r.Bm)(e)&&k.has(e)||N(t,"has",e),n}ownKeys(t){return N(t,"iterate",(0,r.cy)(t)?"length":C),Reflect.ownKeys(t)}}class j extends M{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const V=new F,U=new j,H=new F(!0),B=t=>t,q=t=>Reflect.getPrototypeOf(t);function K(t,e,n=!1,i=!1){t=t["__v_raw"];const o=Tt(t),s=Tt(e);n||((0,r.$H)(e,s)&&N(o,"get",e),N(o,"get",s));const{has:a}=q(o),u=i?B:n?At:St;return a.call(o,e)?u(t.get(e)):a.call(o,s)?u(t.get(s)):void(t!==o&&t.get(e))}function G(t,e=!1){const n=this["__v_raw"],i=Tt(n),o=Tt(t);return e||((0,r.$H)(t,o)&&N(i,"has",t),N(i,"has",o)),t===o?n.has(t):n.has(t)||n.has(o)}function z(t,e=!1){return t=t["__v_raw"],!e&&N(Tt(t),"iterate",C),Reflect.get(t,"size",t)}function Y(t){t=Tt(t);const e=Tt(this),n=q(e),r=n.has.call(e,t);return r||(e.add(t),O(e,"add",t,t)),this}function $(t,e){e=Tt(e);const n=Tt(this),{has:i,get:o}=q(n);let s=i.call(n,t);s||(t=Tt(t),s=i.call(n,t));const a=o.call(n,t);return n.set(t,e),s?(0,r.$H)(e,a)&&O(n,"set",t,e,a):O(n,"add",t,e),this}function W(t){const e=Tt(this),{has:n,get:r}=q(e);let i=n.call(e,t);i||(t=Tt(t),i=n.call(e,t));const o=r?r.call(e,t):void 0,s=e.delete(t);return i&&O(e,"delete",t,void 0,o),s}function Q(){const t=Tt(this),e=0!==t.size,n=void 0,r=t.clear();return e&&O(t,"clear",void 0,void 0,n),r}function X(t,e){return function(n,r){const i=this,o=i["__v_raw"],s=Tt(o),a=e?B:t?At:St;return!t&&N(s,"iterate",C),o.forEach(((t,e)=>n.call(r,a(t),a(e),i)))}}function Z(t,e,n){return function(...i){const o=this["__v_raw"],s=Tt(o),a=(0,r.CE)(s),u="entries"===t||t===Symbol.iterator&&a,c="keys"===t&&a,l=o[t](...i),f=n?B:e?At:St;return!e&&N(s,"iterate",c?x:C),{next(){const{value:t,done:e}=l.next();return e?{value:t,done:e}:{value:u?[f(t[0]),f(t[1])]:f(t),done:e}},[Symbol.iterator](){return this}}}}function J(t){return function(...e){return"delete"!==t&&("clear"===t?void 0:this)}}function tt(){const t={get(t){return K(this,t)},get size(){return z(this)},has:G,add:Y,set:$,delete:W,clear:Q,forEach:X(!1,!1)},e={get(t){return K(this,t,!1,!0)},get size(){return z(this)},has:G,add:Y,set:$,delete:W,clear:Q,forEach:X(!1,!0)},n={get(t){return K(this,t,!0)},get size(){return z(this,!0)},has(t){return G.call(this,t,!0)},add:J("add"),set:J("set"),delete:J("delete"),clear:J("clear"),forEach:X(!0,!1)},r={get(t){return K(this,t,!0,!0)},get size(){return z(this,!0)},has(t){return G.call(this,t,!0)},add:J("add"),set:J("set"),delete:J("delete"),clear:J("clear"),forEach:X(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((i=>{t[i]=Z(i,!1,!1),n[i]=Z(i,!0,!1),e[i]=Z(i,!1,!0),r[i]=Z(i,!0,!0)})),[t,n,e,r]}const[et,nt,rt,it]=tt();function ot(t,e){const n=e?t?it:rt:t?nt:et;return(e,i,o)=>"__v_isReactive"===i?!t:"__v_isReadonly"===i?t:"__v_raw"===i?e:Reflect.get((0,r.$3)(n,i)&&i in e?n:e,i,o)}const st={get:ot(!1,!1)},at={get:ot(!1,!0)},ut={get:ot(!0,!1)};const ct=new WeakMap,lt=new WeakMap,ft=new WeakMap,ht=new WeakMap;function pt(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function dt(t){return t["__v_skip"]||!Object.isExtensible(t)?0:pt((0,r.Zf)(t))}function yt(t){return wt(t)?t:mt(t,!1,V,st,ct)}function vt(t){return mt(t,!1,H,at,lt)}function gt(t){return mt(t,!0,U,ut,ft)}function mt(t,e,n,i,o){if(!(0,r.Gv)(t))return t;if(t["__v_raw"]&&(!e||!t["__v_isReactive"]))return t;const s=o.get(t);if(s)return s;const a=dt(t);if(0===a)return t;const u=new Proxy(t,2===a?i:n);return o.set(t,u),u}function bt(t){return wt(t)?bt(t["__v_raw"]):!(!t||!t["__v_isReactive"])}function wt(t){return!(!t||!t["__v_isReadonly"])}function _t(t){return!(!t||!t["__v_isShallow"])}function Et(t){return bt(t)||wt(t)}function Tt(t){const e=t&&t["__v_raw"];return e?Tt(e):t}function It(t){return Object.isExtensible(t)&&(0,r.yQ)(t,"__v_skip",!0),t}const St=t=>(0,r.Gv)(t)?yt(t):t,At=t=>(0,r.Gv)(t)?gt(t):t;class Ct{constructor(t,e,n,r){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this["__v_isReadonly"]=!1,this.effect=new l((()=>t(this._value)),(()=>Ot(this,2===this.effect._dirtyLevel?2:3))),this.effect.computed=this,this.effect.active=this._cacheable=!r,this["__v_isReadonly"]=n}get value(){const t=Tt(this);return t._cacheable&&!t.effect.dirty||!(0,r.$H)(t._value,t._value=t.effect.run())||Ot(t,4),Nt(t),t.effect._dirtyLevel>=2&&Ot(t,2),t._value}set value(t){this._setter(t)}get _dirty(){return this.effect.dirty}set _dirty(t){this.effect.dirty=t}}function xt(t,e,n=!1){let i,o;const s=(0,r.Tn)(t);s?(i=t,o=r.tE):(i=t.get,o=t.set);const a=new Ct(i,o,s||!o,n);return a}function Nt(t){var e;y&&o&&(t=Tt(t),E(o,null!=(e=t.dep)?e:t.dep=S((()=>t.dep=void 0),t instanceof Ct?t:void 0),void 0))}function Ot(t,e=4,n){t=Tt(t);const r=t.dep;r&&I(r,e,void 0)}function Dt(t){return!(!t||!0!==t.__v_isRef)}function kt(t){return Pt(t,!1)}function Rt(t){return Pt(t,!0)}function Pt(t,e){return Dt(t)?t:new Lt(t,e)}class Lt{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:Tt(t),this._value=e?t:St(t)}get value(){return Nt(this),this._value}set value(t){const e=this.__v_isShallow||_t(t)||wt(t);t=e?t:Tt(t),(0,r.$H)(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:St(t),Ot(this,4,t))}}function Mt(t){return Dt(t)?t.value:t}const Ft={get:(t,e,n)=>Mt(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Dt(i)&&!Dt(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function jt(t){return bt(t)?t:new Proxy(t,Ft)}},6768:function(t,e,n){n.d(e,{$u:function(){return Mt},$y:function(){return Y},CE:function(){return tn},Df:function(){return wt},EW:function(){return qn},FK:function(){return qe},Fv:function(){return dn},Gt:function(){return pe},Gy:function(){return lt},K9:function(){return Pe},Lk:function(){return un},MZ:function(){return bt},OW:function(){return vt},Q3:function(){return yn},QP:function(){return ht},Qi:function(){return L},WQ:function(){return de},Wv:function(){return en},bF:function(){return cn},bo:function(){return st},dY:function(){return m},eW:function(){return pn},g2:function(){return G},h:function(){return Kn},jt:function(){return M},k6:function(){return F},nI:function(){return Sn},pM:function(){return _t},pR:function(){return dt},qL:function(){return s},uX:function(){return We},wB:function(){return et}});n(4114);var r=n(144),i=n(4232);function o(t,e,n,r){try{return r?t(...r):t()}catch(i){a(i,e,n)}}function s(t,e,n,r){if((0,i.Tn)(t)){const s=o(t,e,n,r);return s&&(0,i.yL)(s)&&s.catch((t=>{a(t,e,n)})),s}const u=[];for(let i=0;i<t.length;i++)u.push(s(t[i],e,n,r));return u}function a(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let r=e.parent;const i=e.proxy,s=`https://vuejs.org/error-reference/#runtime-${n}`;while(r){const e=r.ec;if(e)for(let n=0;n<e.length;n++)if(!1===e[n](t,i,s))return;r=r.parent}const a=e.appContext.config.errorHandler;if(a)return void o(a,null,10,[t,i,s])}u(t,n,i,r)}function u(t,e,n,r=!0){console.error(t)}let c=!1,l=!1;const f=[];let h=0;const p=[];let d=null,y=0;const v=Promise.resolve();let g=null;function m(t){const e=g||v;return t?e.then(this?t.bind(this):t):e}function b(t){let e=h+1,n=f.length;while(e<n){const r=e+n>>>1,i=f[r],o=A(i);o<t||o===t&&i.pre?e=r+1:n=r}return e}function w(t){f.length&&f.includes(t,c&&t.allowRecurse?h+1:h)||(null==t.id?f.push(t):f.splice(b(t.id),0,t),_())}function _(){c||l||(l=!0,g=v.then(x))}function E(t){const e=f.indexOf(t);e>h&&f.splice(e,1)}function T(t){(0,i.cy)(t)?p.push(...t):d&&d.includes(t,t.allowRecurse?y+1:y)||p.push(t),_()}function I(t,e,n=(c?h+1:0)){for(0;n<f.length;n++){const e=f[n];if(e&&e.pre){if(t&&e.id!==t.uid)continue;0,f.splice(n,1),n--,e()}}}function S(t){if(p.length){const t=[...new Set(p)].sort(((t,e)=>A(t)-A(e)));if(p.length=0,d)return void d.push(...t);for(d=t,y=0;y<d.length;y++)d[y]();d=null,y=0}}const A=t=>null==t.id?1/0:t.id,C=(t,e)=>{const n=A(t)-A(e);if(0===n){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function x(t){l=!1,c=!0,f.sort(C);i.tE;try{for(h=0;h<f.length;h++){const t=f[h];t&&!1!==t.active&&o(t,null,14)}}finally{h=0,f.length=0,S(t),c=!1,g=null,(f.length||p.length)&&x(t)}}function N(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||i.MZ;let o=n;const a=e.startsWith("update:"),u=a&&e.slice(7);if(u&&u in r){const t=`${"modelValue"===u?"model":u}Modifiers`,{number:e,trim:s}=r[t]||i.MZ;s&&(o=n.map((t=>(0,i.Kg)(t)?t.trim():t))),e&&(o=n.map(i.bB))}let c;let l=r[c=(0,i.rU)(e)]||r[c=(0,i.rU)((0,i.PT)(e))];!l&&a&&(l=r[c=(0,i.rU)((0,i.Tg)(e))]),l&&s(l,t,6,o);const f=r[c+"Once"];if(f){if(t.emitted){if(t.emitted[c])return}else t.emitted={};t.emitted[c]=!0,s(f,t,6,o)}}function O(t,e,n=!1){const r=e.emitsCache,o=r.get(t);if(void 0!==o)return o;const s=t.emits;let a={},u=!1;if(!(0,i.Tn)(t)){const r=t=>{const n=O(t,e,!0);n&&(u=!0,(0,i.X$)(a,n))};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}return s||u?((0,i.cy)(s)?s.forEach((t=>a[t]=null)):(0,i.X$)(a,s),(0,i.Gv)(t)&&r.set(t,a),a):((0,i.Gv)(t)&&r.set(t,null),null)}function D(t,e){return!(!t||!(0,i.Mp)(e))&&(e=e.slice(2).replace(/Once$/,""),(0,i.$3)(t,e[0].toLowerCase()+e.slice(1))||(0,i.$3)(t,(0,i.Tg)(e))||(0,i.$3)(t,e))}let k=null,R=null;function P(t){const e=k;return k=t,R=t&&t.type.__scopeId||null,e}function L(t){R=t}function M(){R=null}function F(t,e=k,n){if(!e)return t;if(t._n)return t;const r=(...n)=>{r._d&&Ze(-1);const i=P(e);let o;try{o=t(...n)}finally{P(i),r._d&&Ze(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function j(t){const{type:e,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[u],slots:c,attrs:l,emit:f,render:h,renderCache:p,data:d,setupState:y,ctx:v,inheritAttrs:g}=t;let m,b;const w=P(t);try{if(4&n.shapeFlag){const t=o||r,e=t;m=vn(h.call(e,t,p,s,y,d,v)),b=l}else{const t=e;0,m=vn(t.length>1?t(s,{attrs:l,slots:c,emit:f}):t(s,null)),b=e.props?l:V(l)}}catch(E){Ye.length=0,a(E,t,1),m=cn(Ge)}let _=m;if(b&&!1!==g){const t=Object.keys(b),{shapeFlag:e}=_;t.length&&7&e&&(u&&t.some(i.CP)&&(b=U(b,u)),_=hn(_,b))}return n.dirs&&(_=hn(_),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),m=_,P(w),m}const V=t=>{let e;for(const n in t)("class"===n||"style"===n||(0,i.Mp)(n))&&((e||(e={}))[n]=t[n]);return e},U=(t,e)=>{const n={};for(const r in t)(0,i.CP)(r)&&r.slice(9)in e||(n[r]=t[r]);return n};function H(t,e,n){const{props:r,children:i,component:o}=t,{props:s,children:a,patchFlag:u}=e,c=o.emitsOptions;if(e.dirs||e.transition)return!0;if(!(n&&u>=0))return!(!i&&!a||a&&a.$stable)||r!==s&&(r?!s||B(r,s,c):!!s);if(1024&u)return!0;if(16&u)return r?B(r,s,c):!!s;if(8&u){const t=e.dynamicProps;for(let e=0;e<t.length;e++){const n=t[e];if(s[n]!==r[n]&&!D(c,n))return!0}}return!1}function B(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!D(n,o))return!0}return!1}function q({vnode:t,parent:e},n){while(e){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r!==t)break;(t=e.vnode).el=n,e=e.parent}}const K="components";function G(t,e){return $(K,t,!0,e)||t}const z=Symbol.for("v-ndc");function Y(t){return(0,i.Kg)(t)?$(K,t,!1)||t:t||z}function $(t,e,n=!0,r=!1){const o=k||In;if(o){const n=o.type;if(t===K){const t=Hn(n,!1);if(t&&(t===e||t===(0,i.PT)(e)||t===(0,i.ZH)((0,i.PT)(e))))return n}const s=W(o[t]||n[t],e)||W(o.appContext[t],e);return!s&&r?n:s}}function W(t,e){return t&&(t[e]||t[(0,i.PT)(e)]||t[(0,i.ZH)((0,i.PT)(e))])}const Q=t=>t.__isSuspense;function X(t,e){e&&e.pendingBranch?(0,i.cy)(t)?e.effects.push(...t):e.effects.push(t):T(t)}const Z=Symbol.for("v-scx"),J=()=>{{const t=de(Z);return t}};const tt={};function et(t,e,n){return nt(t,e,n)}function nt(t,e,{immediate:n,deep:a,flush:u,once:c,onTrack:l,onTrigger:f}=i.MZ){if(e&&c){const t=e;e=(...e)=>{t(...e),A()}}const h=In,p=t=>!0===a?t:ot(t,!1===a?1:void 0);let d,y,v=!1,g=!1;if((0,r.i9)(t)?(d=()=>t.value,v=(0,r.fE)(t)):(0,r.g8)(t)?(d=()=>p(t),v=!0):(0,i.cy)(t)?(g=!0,v=t.some((t=>(0,r.g8)(t)||(0,r.fE)(t))),d=()=>t.map((t=>(0,r.i9)(t)?t.value:(0,r.g8)(t)?p(t):(0,i.Tn)(t)?o(t,h,2):void 0))):d=(0,i.Tn)(t)?e?()=>o(t,h,2):()=>(y&&y(),s(t,h,3,[b])):i.tE,e&&a){const t=d;d=()=>ot(t())}let m,b=t=>{y=I.onStop=()=>{o(t,h,4),y=I.onStop=void 0}};if(Rn){if(b=i.tE,e?n&&s(e,h,3,[d(),g?[]:void 0,b]):d(),"sync"!==u)return i.tE;{const t=J();m=t.__watcherHandles||(t.__watcherHandles=[])}}let _=g?new Array(t.length).fill(tt):tt;const E=()=>{if(I.active&&I.dirty)if(e){const t=I.run();(a||v||(g?t.some(((t,e)=>(0,i.$H)(t,_[e]))):(0,i.$H)(t,_)))&&(y&&y(),s(e,h,3,[t,_===tt?void 0:g&&_[0]===tt?[]:_,b]),_=t)}else I.run()};let T;E.allowRecurse=!!e,"sync"===u?T=E:"post"===u?T=()=>Re(E,h&&h.suspense):(E.pre=!0,h&&(E.id=h.uid),T=()=>w(E));const I=new r.X2(d,i.tE,T),S=(0,r.o5)(),A=()=>{I.stop(),S&&(0,i.TF)(S.effects,I)};return e?n?E():_=I.run():"post"===u?Re(I.run.bind(I),h&&h.suspense):I.run(),m&&m.push(A),A}function rt(t,e,n){const r=this.proxy,o=(0,i.Kg)(t)?t.includes(".")?it(r,t):()=>r[t]:t.bind(r,r);let s;(0,i.Tn)(e)?s=e:(s=e.handler,n=e);const a=xn(this),u=nt(o,s.bind(r),n);return a(),u}function it(t,e){const n=e.split(".");return()=>{let e=t;for(let t=0;t<n.length&&e;t++)e=e[n[t]];return e}}function ot(t,e,n=0,o){if(!(0,i.Gv)(t)||t["__v_skip"])return t;if(e&&e>0){if(n>=e)return t;n++}if(o=o||new Set,o.has(t))return t;if(o.add(t),(0,r.i9)(t))ot(t.value,e,n,o);else if((0,i.cy)(t))for(let r=0;r<t.length;r++)ot(t[r],e,n,o);else if((0,i.vM)(t)||(0,i.CE)(t))t.forEach((t=>{ot(t,e,n,o)}));else if((0,i.Qd)(t))for(const r in t)ot(t[r],e,n,o);return t}function st(t,e){if(null===k)return t;const n=Un(k)||k.proxy,r=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[t,s,a,u=i.MZ]=e[o];t&&((0,i.Tn)(t)&&(t={mounted:t,updated:t}),t.deep&&ot(s),r.push({dir:t,instance:n,value:s,oldValue:void 0,arg:a,modifiers:u}))}return t}function at(t,e,n,i){const o=t.dirs,a=e&&e.dirs;for(let u=0;u<o.length;u++){const c=o[u];a&&(c.oldValue=a[u].value);let l=c.dir[i];l&&((0,r.C4)(),s(l,n,8,[t.el,c,t,e]),(0,r.bl)())}}const ut=Symbol("_leaveCb"),ct=Symbol("_enterCb");function lt(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Pt((()=>{t.isMounted=!0})),Ft((()=>{t.isUnmounting=!0})),t}const ft=[Function,Array],ht={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ft,onEnter:ft,onAfterEnter:ft,onEnterCancelled:ft,onBeforeLeave:ft,onLeave:ft,onAfterLeave:ft,onLeaveCancelled:ft,onBeforeAppear:ft,onAppear:ft,onAfterAppear:ft,onAppearCancelled:ft},pt={name:"BaseTransition",props:ht,setup(t,{slots:e}){const n=Sn(),i=lt();let o;return()=>{const s=e.default&&wt(e.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){let t=!1;for(const e of s)if(e.type!==Ge){0,a=e,t=!0;break}}const u=(0,r.ux)(t),{mode:c}=u;if(i.isLeaving)return gt(a);const l=mt(a);if(!l)return gt(a);const f=vt(l,u,i,n);bt(l,f);const h=n.subTree,p=h&&mt(h);let d=!1;const{getTransitionKey:y}=l.type;if(y){const t=y();void 0===o?o=t:t!==o&&(o=t,d=!0)}if(p&&p.type!==Ge&&(!rn(l,p)||d)){const t=vt(p,u,i,n);if(bt(p,t),"out-in"===c)return i.isLeaving=!0,t.afterLeave=()=>{i.isLeaving=!1,!1!==n.update.active&&(n.effect.dirty=!0,n.update())},gt(a);"in-out"===c&&l.type!==Ge&&(t.delayLeave=(t,e,n)=>{const r=yt(i,p);r[String(p.key)]=p,t[ut]=()=>{e(),t[ut]=void 0,delete f.delayedLeave},f.delayedLeave=n})}return a}}},dt=pt;function yt(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function vt(t,e,n,r){const{appear:o,mode:a,persisted:u=!1,onBeforeEnter:c,onEnter:l,onAfterEnter:f,onEnterCancelled:h,onBeforeLeave:p,onLeave:d,onAfterLeave:y,onLeaveCancelled:v,onBeforeAppear:g,onAppear:m,onAfterAppear:b,onAppearCancelled:w}=e,_=String(t.key),E=yt(n,t),T=(t,e)=>{t&&s(t,r,9,e)},I=(t,e)=>{const n=e[1];T(t,e),(0,i.cy)(t)?t.every((t=>t.length<=1))&&n():t.length<=1&&n()},S={mode:a,persisted:u,beforeEnter(e){let r=c;if(!n.isMounted){if(!o)return;r=g||c}e[ut]&&e[ut](!0);const i=E[_];i&&rn(t,i)&&i.el[ut]&&i.el[ut](),T(r,[e])},enter(t){let e=l,r=f,i=h;if(!n.isMounted){if(!o)return;e=m||l,r=b||f,i=w||h}let s=!1;const a=t[ct]=e=>{s||(s=!0,T(e?i:r,[t]),S.delayedLeave&&S.delayedLeave(),t[ct]=void 0)};e?I(e,[t,a]):a()},leave(e,r){const i=String(t.key);if(e[ct]&&e[ct](!0),n.isUnmounting)return r();T(p,[e]);let o=!1;const s=e[ut]=n=>{o||(o=!0,r(),T(n?v:y,[e]),e[ut]=void 0,E[i]===t&&delete E[i])};E[i]=t,d?I(d,[e,s]):s()},clone(t){return vt(t,e,n,r)}};return S}function gt(t){if(Tt(t))return t=hn(t),t.children=null,t}function mt(t){return Tt(t)?t.children?t.children[0]:void 0:t}function bt(t,e){6&t.shapeFlag&&t.component?bt(t.component.subTree,e):128&t.shapeFlag?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function wt(t,e=!1,n){let r=[],i=0;for(let o=0;o<t.length;o++){let s=t[o];const a=null==n?s.key:String(n)+String(null!=s.key?s.key:o);s.type===qe?(128&s.patchFlag&&i++,r=r.concat(wt(s.children,e,a))):(e||s.type!==Ge)&&r.push(null!=a?hn(s,{key:a}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}
/*! #__NO_SIDE_EFFECTS__ */function _t(t,e){return(0,i.Tn)(t)?(()=>(0,i.X$)({name:t.name},e,{setup:t}))():t}const Et=t=>!!t.type.__asyncLoader
/*! #__NO_SIDE_EFFECTS__ */;const Tt=t=>t.type.__isKeepAlive;RegExp,RegExp;function It(t,e){return(0,i.cy)(t)?t.some((t=>It(t,e))):(0,i.Kg)(t)?t.split(",").includes(e):!!(0,i.gd)(t)&&t.test(e)}function St(t,e){Ct(t,"a",e)}function At(t,e){Ct(t,"da",e)}function Ct(t,e,n=In){const r=t.__wdc||(t.__wdc=()=>{let e=n;while(e){if(e.isDeactivated)return;e=e.parent}return t()});if(Dt(e,r,n),n){let t=n.parent;while(t&&t.parent)Tt(t.parent.vnode)&&xt(r,e,n,t),t=t.parent}}function xt(t,e,n,r){const o=Dt(e,t,r,!0);jt((()=>{(0,i.TF)(r[e],o)}),n)}function Nt(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Ot(t){return 128&t.shapeFlag?t.ssContent:t}function Dt(t,e,n=In,i=!1){if(n){const o=n[t]||(n[t]=[]),a=e.__weh||(e.__weh=(...i)=>{if(n.isUnmounted)return;(0,r.C4)();const o=xn(n),a=s(e,n,t,i);return o(),(0,r.bl)(),a});return i?o.unshift(a):o.push(a),a}}const kt=t=>(e,n=In)=>(!Rn||"sp"===t)&&Dt(t,((...t)=>e(...t)),n),Rt=kt("bm"),Pt=kt("m"),Lt=kt("bu"),Mt=kt("u"),Ft=kt("bum"),jt=kt("um"),Vt=kt("sp"),Ut=kt("rtg"),Ht=kt("rtc");function Bt(t,e=In){Dt("ec",t,e)}const qt=t=>t?On(t)?Un(t)||t.proxy:qt(t.parent):null,Kt=(0,i.X$)(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>qt(t.parent),$root:t=>qt(t.root),$emit:t=>t.emit,$options:t=>Jt(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,w(t.update)}),$nextTick:t=>t.n||(t.n=m.bind(t.proxy)),$watch:t=>rt.bind(t)}),Gt=(t,e)=>t!==i.MZ&&!t.__isScriptSetup&&(0,i.$3)(t,e),zt={get({_:t},e){const{ctx:n,setupState:o,data:s,props:a,accessCache:u,type:c,appContext:l}=t;let f;if("$"!==e[0]){const r=u[e];if(void 0!==r)switch(r){case 1:return o[e];case 2:return s[e];case 4:return n[e];case 3:return a[e]}else{if(Gt(o,e))return u[e]=1,o[e];if(s!==i.MZ&&(0,i.$3)(s,e))return u[e]=2,s[e];if((f=t.propsOptions[0])&&(0,i.$3)(f,e))return u[e]=3,a[e];if(n!==i.MZ&&(0,i.$3)(n,e))return u[e]=4,n[e];$t&&(u[e]=0)}}const h=Kt[e];let p,d;return h?("$attrs"===e&&(0,r.u4)(t,"get",e),h(t)):(p=c.__cssModules)&&(p=p[e])?p:n!==i.MZ&&(0,i.$3)(n,e)?(u[e]=4,n[e]):(d=l.config.globalProperties,(0,i.$3)(d,e)?d[e]:void 0)},set({_:t},e,n){const{data:r,setupState:o,ctx:s}=t;return Gt(o,e)?(o[e]=n,!0):r!==i.MZ&&(0,i.$3)(r,e)?(r[e]=n,!0):!(0,i.$3)(t.props,e)&&(("$"!==e[0]||!(e.slice(1)in t))&&(s[e]=n,!0))},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:o,propsOptions:s}},a){let u;return!!n[a]||t!==i.MZ&&(0,i.$3)(t,a)||Gt(e,a)||(u=s[0])&&(0,i.$3)(u,a)||(0,i.$3)(r,a)||(0,i.$3)(Kt,a)||(0,i.$3)(o.config.globalProperties,a)},defineProperty(t,e,n){return null!=n.get?t._.accessCache[e]=0:(0,i.$3)(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Yt(t){return(0,i.cy)(t)?t.reduce(((t,e)=>(t[e]=null,t)),{}):t}let $t=!0;function Wt(t){const e=Jt(t),n=t.proxy,o=t.ctx;$t=!1,e.beforeCreate&&Xt(e.beforeCreate,t,"bc");const{data:s,computed:a,methods:u,watch:c,provide:l,inject:f,created:h,beforeMount:p,mounted:d,beforeUpdate:y,updated:v,activated:g,deactivated:m,beforeDestroy:b,beforeUnmount:w,destroyed:_,unmounted:E,render:T,renderTracked:I,renderTriggered:S,errorCaptured:A,serverPrefetch:C,expose:x,inheritAttrs:N,components:O,directives:D,filters:k}=e,R=null;if(f&&Qt(f,o,R),u)for(const r in u){const t=u[r];(0,i.Tn)(t)&&(o[r]=t.bind(n))}if(s){0;const e=s.call(n,n);0,(0,i.Gv)(e)&&(t.data=(0,r.Kh)(e))}if($t=!0,a)for(const r in a){const t=a[r],e=(0,i.Tn)(t)?t.bind(n,n):(0,i.Tn)(t.get)?t.get.bind(n,n):i.tE;0;const s=!(0,i.Tn)(t)&&(0,i.Tn)(t.set)?t.set.bind(n):i.tE,u=qn({get:e,set:s});Object.defineProperty(o,r,{enumerable:!0,configurable:!0,get:()=>u.value,set:t=>u.value=t})}if(c)for(const r in c)Zt(c[r],o,n,r);if(l){const t=(0,i.Tn)(l)?l.call(n):l;Reflect.ownKeys(t).forEach((e=>{pe(e,t[e])}))}function P(t,e){(0,i.cy)(e)?e.forEach((e=>t(e.bind(n)))):e&&t(e.bind(n))}if(h&&Xt(h,t,"c"),P(Rt,p),P(Pt,d),P(Lt,y),P(Mt,v),P(St,g),P(At,m),P(Bt,A),P(Ht,I),P(Ut,S),P(Ft,w),P(jt,E),P(Vt,C),(0,i.cy)(x))if(x.length){const e=t.exposed||(t.exposed={});x.forEach((t=>{Object.defineProperty(e,t,{get:()=>n[t],set:e=>n[t]=e})}))}else t.exposed||(t.exposed={});T&&t.render===i.tE&&(t.render=T),null!=N&&(t.inheritAttrs=N),O&&(t.components=O),D&&(t.directives=D)}function Qt(t,e,n=i.tE){(0,i.cy)(t)&&(t=ie(t));for(const o in t){const n=t[o];let s;s=(0,i.Gv)(n)?"default"in n?de(n.from||o,n.default,!0):de(n.from||o):de(n),(0,r.i9)(s)?Object.defineProperty(e,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:t=>s.value=t}):e[o]=s}}function Xt(t,e,n){s((0,i.cy)(t)?t.map((t=>t.bind(e.proxy))):t.bind(e.proxy),e,n)}function Zt(t,e,n,r){const o=r.includes(".")?it(n,r):()=>n[r];if((0,i.Kg)(t)){const n=e[t];(0,i.Tn)(n)&&et(o,n)}else if((0,i.Tn)(t))et(o,t.bind(n));else if((0,i.Gv)(t))if((0,i.cy)(t))t.forEach((t=>Zt(t,e,n,r)));else{const r=(0,i.Tn)(t.handler)?t.handler.bind(n):e[t.handler];(0,i.Tn)(r)&&et(o,r,t)}else 0}function Jt(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=t.appContext,u=s.get(e);let c;return u?c=u:o.length||n||r?(c={},o.length&&o.forEach((t=>te(c,t,a,!0))),te(c,e,a)):c=e,(0,i.Gv)(e)&&s.set(e,c),c}function te(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&te(t,o,n,!0),i&&i.forEach((e=>te(t,e,n,!0)));for(const s in e)if(r&&"expose"===s);else{const r=ee[s]||n&&n[s];t[s]=r?r(t[s],e[s]):e[s]}return t}const ee={data:ne,props:ae,emits:ae,methods:se,computed:se,beforeCreate:oe,created:oe,beforeMount:oe,mounted:oe,beforeUpdate:oe,updated:oe,beforeDestroy:oe,beforeUnmount:oe,destroyed:oe,unmounted:oe,activated:oe,deactivated:oe,errorCaptured:oe,serverPrefetch:oe,components:se,directives:se,watch:ue,provide:ne,inject:re};function ne(t,e){return e?t?function(){return(0,i.X$)((0,i.Tn)(t)?t.call(this,this):t,(0,i.Tn)(e)?e.call(this,this):e)}:e:t}function re(t,e){return se(ie(t),ie(e))}function ie(t){if((0,i.cy)(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function oe(t,e){return t?[...new Set([].concat(t,e))]:e}function se(t,e){return t?(0,i.X$)(Object.create(null),t,e):e}function ae(t,e){return t?(0,i.cy)(t)&&(0,i.cy)(e)?[...new Set([...t,...e])]:(0,i.X$)(Object.create(null),Yt(t),Yt(null!=e?e:{})):e}function ue(t,e){if(!t)return e;if(!e)return t;const n=(0,i.X$)(Object.create(null),t);for(const r in e)n[r]=oe(t[r],e[r]);return n}function ce(){return{app:null,config:{isNativeTag:i.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let le=0;function fe(t,e){return function(n,r=null){(0,i.Tn)(n)||(n=(0,i.X$)({},n)),null==r||(0,i.Gv)(r)||(r=null);const o=ce(),s=new WeakSet;let a=!1;const u=o.app={_uid:le++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:Gn,get config(){return o.config},set config(t){0},use(t,...e){return s.has(t)||(t&&(0,i.Tn)(t.install)?(s.add(t),t.install(u,...e)):(0,i.Tn)(t)&&(s.add(t),t(u,...e))),u},mixin(t){return o.mixins.includes(t)||o.mixins.push(t),u},component(t,e){return e?(o.components[t]=e,u):o.components[t]},directive(t,e){return e?(o.directives[t]=e,u):o.directives[t]},mount(i,s,c){if(!a){0;const l=cn(n,r);return l.appContext=o,!0===c?c="svg":!1===c&&(c=void 0),s&&e?e(l,i):t(l,i,c),a=!0,u._container=i,i.__vue_app__=u,Un(l.component)||l.component.proxy}},unmount(){a&&(t(null,u._container),delete u._container.__vue_app__)},provide(t,e){return o.provides[t]=e,u},runWithContext(t){const e=he;he=u;try{return t()}finally{he=e}}};return u}}let he=null;function pe(t,e){if(In){let n=In.provides;const r=In.parent&&In.parent.provides;r===n&&(n=In.provides=Object.create(r)),n[t]=e}else 0}function de(t,e,n=!1){const r=In||k;if(r||he){const o=r?null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:he._context.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&(0,i.Tn)(e)?e.call(r&&r.proxy):e}else 0}function ye(t,e,n,o=!1){const s={},a={};(0,i.yQ)(a,on,1),t.propsDefaults=Object.create(null),ge(t,e,s,a);for(const r in t.propsOptions[0])r in s||(s[r]=void 0);n?t.props=o?s:(0,r.Gc)(s):t.type.props?t.props=s:t.props=a,t.attrs=a}function ve(t,e,n,o){const{props:s,attrs:a,vnode:{patchFlag:u}}=t,c=(0,r.ux)(s),[l]=t.propsOptions;let f=!1;if(!(o||u>0)||16&u){let r;ge(t,e,s,a)&&(f=!0);for(const o in c)e&&((0,i.$3)(e,o)||(r=(0,i.Tg)(o))!==o&&(0,i.$3)(e,r))||(l?!n||void 0===n[o]&&void 0===n[r]||(s[o]=me(l,c,o,void 0,t,!0)):delete s[o]);if(a!==c)for(const t in a)e&&(0,i.$3)(e,t)||(delete a[t],f=!0)}else if(8&u){const n=t.vnode.dynamicProps;for(let r=0;r<n.length;r++){let o=n[r];if(D(t.emitsOptions,o))continue;const u=e[o];if(l)if((0,i.$3)(a,o))u!==a[o]&&(a[o]=u,f=!0);else{const e=(0,i.PT)(o);s[e]=me(l,c,e,u,t,!1)}else u!==a[o]&&(a[o]=u,f=!0)}}f&&(0,r.hZ)(t,"set","$attrs")}function ge(t,e,n,o){const[s,a]=t.propsOptions;let u,c=!1;if(e)for(let r in e){if((0,i.SU)(r))continue;const l=e[r];let f;s&&(0,i.$3)(s,f=(0,i.PT)(r))?a&&a.includes(f)?(u||(u={}))[f]=l:n[f]=l:D(t.emitsOptions,r)||r in o&&l===o[r]||(o[r]=l,c=!0)}if(a){const e=(0,r.ux)(n),o=u||i.MZ;for(let r=0;r<a.length;r++){const u=a[r];n[u]=me(s,e,u,o[u],t,!(0,i.$3)(o,u))}}return c}function me(t,e,n,r,o,s){const a=t[n];if(null!=a){const t=(0,i.$3)(a,"default");if(t&&void 0===r){const t=a.default;if(a.type!==Function&&!a.skipFactory&&(0,i.Tn)(t)){const{propsDefaults:i}=o;if(n in i)r=i[n];else{const s=xn(o);r=i[n]=t.call(null,e),s()}}else r=t}a[0]&&(s&&!t?r=!1:!a[1]||""!==r&&r!==(0,i.Tg)(n)||(r=!0))}return r}function be(t,e,n=!1){const r=e.propsCache,o=r.get(t);if(o)return o;const s=t.props,a={},u=[];let c=!1;if(!(0,i.Tn)(t)){const r=t=>{c=!0;const[n,r]=be(t,e,!0);(0,i.X$)(a,n),r&&u.push(...r)};!n&&e.mixins.length&&e.mixins.forEach(r),t.extends&&r(t.extends),t.mixins&&t.mixins.forEach(r)}if(!s&&!c)return(0,i.Gv)(t)&&r.set(t,i.Oj),i.Oj;if((0,i.cy)(s))for(let f=0;f<s.length;f++){0;const t=(0,i.PT)(s[f]);we(t)&&(a[t]=i.MZ)}else if(s){0;for(const t in s){const e=(0,i.PT)(t);if(we(e)){const n=s[t],r=a[e]=(0,i.cy)(n)||(0,i.Tn)(n)?{type:n}:(0,i.X$)({},n);if(r){const t=Te(Boolean,r.type),n=Te(String,r.type);r[0]=t>-1,r[1]=n<0||t<n,(t>-1||(0,i.$3)(r,"default"))&&u.push(e)}}}}const l=[a,u];return(0,i.Gv)(t)&&r.set(t,l),l}function we(t){return"$"!==t[0]&&!(0,i.SU)(t)}function _e(t){if(null===t)return"null";if("function"===typeof t)return t.name||"";if("object"===typeof t){const e=t.constructor&&t.constructor.name;return e||""}return""}function Ee(t,e){return _e(t)===_e(e)}function Te(t,e){return(0,i.cy)(e)?e.findIndex((e=>Ee(e,t))):(0,i.Tn)(e)&&Ee(e,t)?0:-1}const Ie=t=>"_"===t[0]||"$stable"===t,Se=t=>(0,i.cy)(t)?t.map(vn):[vn(t)],Ae=(t,e,n)=>{if(e._n)return e;const r=F(((...t)=>Se(e(...t))),n);return r._c=!1,r},Ce=(t,e,n)=>{const r=t._ctx;for(const o in t){if(Ie(o))continue;const n=t[o];if((0,i.Tn)(n))e[o]=Ae(o,n,r);else if(null!=n){0;const t=Se(n);e[o]=()=>t}}},xe=(t,e)=>{const n=Se(e);t.slots.default=()=>n},Ne=(t,e)=>{if(32&t.vnode.shapeFlag){const n=e._;n?(t.slots=(0,r.ux)(e),(0,i.yQ)(e,"_",n)):Ce(e,t.slots={})}else t.slots={},e&&xe(t,e);(0,i.yQ)(t.slots,on,1)},Oe=(t,e,n)=>{const{vnode:r,slots:o}=t;let s=!0,a=i.MZ;if(32&r.shapeFlag){const t=e._;t?n&&1===t?s=!1:((0,i.X$)(o,e),n||1!==t||delete o._):(s=!e.$stable,Ce(e,o)),a=e}else e&&(xe(t,e),a={default:1});if(s)for(const i in o)Ie(i)||null!=a[i]||delete o[i]};function De(t,e,n,s,a=!1){if((0,i.cy)(t))return void t.forEach(((t,r)=>De(t,e&&((0,i.cy)(e)?e[r]:e),n,s,a)));if(Et(s)&&!a)return;const u=4&s.shapeFlag?Un(s.component)||s.component.proxy:s.el,c=a?null:u,{i:l,r:f}=t;const h=e&&e.r,p=l.refs===i.MZ?l.refs={}:l.refs,d=l.setupState;if(null!=h&&h!==f&&((0,i.Kg)(h)?(p[h]=null,(0,i.$3)(d,h)&&(d[h]=null)):(0,r.i9)(h)&&(h.value=null)),(0,i.Tn)(f))o(f,l,12,[c,p]);else{const e=(0,i.Kg)(f),o=(0,r.i9)(f);if(e||o){const r=()=>{if(t.f){const n=e?(0,i.$3)(d,f)?d[f]:p[f]:f.value;a?(0,i.cy)(n)&&(0,i.TF)(n,u):(0,i.cy)(n)?n.includes(u)||n.push(u):e?(p[f]=[u],(0,i.$3)(d,f)&&(d[f]=p[f])):(f.value=[u],t.k&&(p[t.k]=f.value))}else e?(p[f]=c,(0,i.$3)(d,f)&&(d[f]=c)):o&&(f.value=c,t.k&&(p[t.k]=c))};c?(r.id=-1,Re(r,n)):r()}else 0}}function ke(){"boolean"!==typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__&&((0,i.We)().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const Re=X;function Pe(t){return Le(t)}function Le(t,e){ke();const n=(0,i.We)();n.__VUE__=!0;const{insert:o,remove:s,patchProp:a,createElement:u,createText:c,createComment:l,setText:f,setElementText:h,parentNode:p,nextSibling:d,setScopeId:y=i.tE,insertStaticContent:v}=t,g=(t,e,n,r=null,i=null,o=null,s=void 0,a=null,u=!!e.dynamicChildren)=>{if(t===e)return;t&&!rn(t,e)&&(r=Z(t),Y(t,i,o,!0),t=null),-2===e.patchFlag&&(u=!1,e.dynamicChildren=null);const{type:c,ref:l,shapeFlag:f}=e;switch(c){case Ke:m(t,e,n,r);break;case Ge:b(t,e,n,r);break;case ze:null==t&&_(e,n,r,s);break;case qe:P(t,e,n,r,i,o,s,a,u);break;default:1&f?C(t,e,n,r,i,o,s,a,u):6&f?L(t,e,n,r,i,o,s,a,u):(64&f||128&f)&&c.process(t,e,n,r,i,o,s,a,u,et)}null!=l&&i&&De(l,t&&t.ref,o,e||t,!e)},m=(t,e,n,r)=>{if(null==t)o(e.el=c(e.children),n,r);else{const n=e.el=t.el;e.children!==t.children&&f(n,e.children)}},b=(t,e,n,r)=>{null==t?o(e.el=l(e.children||""),n,r):e.el=t.el},_=(t,e,n,r)=>{[t.el,t.anchor]=v(t.children,e,n,r,t.el,t.anchor)},T=({el:t,anchor:e},n,r)=>{let i;while(t&&t!==e)i=d(t),o(t,n,r),t=i;o(e,n,r)},A=({el:t,anchor:e})=>{let n;while(t&&t!==e)n=d(t),s(t),t=n;s(e)},C=(t,e,n,r,i,o,s,a,u)=>{"svg"===e.type?s="svg":"math"===e.type&&(s="mathml"),null==t?x(e,n,r,i,o,s,a,u):D(t,e,i,o,s,a,u)},x=(t,e,n,r,s,c,l,f)=>{let p,d;const{props:y,shapeFlag:v,transition:g,dirs:m}=t;if(p=t.el=u(t.type,c,y&&y.is,y),8&v?h(p,t.children):16&v&&O(t.children,p,null,r,s,Me(t,c),l,f),m&&at(t,null,r,"created"),N(p,t,t.scopeId,l,r),y){for(const e in y)"value"===e||(0,i.SU)(e)||a(p,e,null,y[e],c,t.children,r,s,X);"value"in y&&a(p,"value",null,y.value,c),(d=y.onVnodeBeforeMount)&&wn(d,r,t)}m&&at(t,null,r,"beforeMount");const b=je(s,g);b&&g.beforeEnter(p),o(p,e,n),((d=y&&y.onVnodeMounted)||b||m)&&Re((()=>{d&&wn(d,r,t),b&&g.enter(p),m&&at(t,null,r,"mounted")}),s)},N=(t,e,n,r,i)=>{if(n&&y(t,n),r)for(let o=0;o<r.length;o++)y(t,r[o]);if(i){let n=i.subTree;if(e===n){const e=i.vnode;N(t,e,e.scopeId,e.slotScopeIds,i.parent)}}},O=(t,e,n,r,i,o,s,a,u=0)=>{for(let c=u;c<t.length;c++){const u=t[c]=a?gn(t[c]):vn(t[c]);g(null,u,e,n,r,i,o,s,a)}},D=(t,e,n,r,o,s,u)=>{const c=e.el=t.el;let{patchFlag:l,dynamicChildren:f,dirs:p}=e;l|=16&t.patchFlag;const d=t.props||i.MZ,y=e.props||i.MZ;let v;if(n&&Fe(n,!1),(v=y.onVnodeBeforeUpdate)&&wn(v,n,e,t),p&&at(e,t,n,"beforeUpdate"),n&&Fe(n,!0),f?k(t.dynamicChildren,f,c,n,r,Me(e,o),s):u||B(t,e,c,null,n,r,Me(e,o),s,!1),l>0){if(16&l)R(c,e,d,y,n,r,o);else if(2&l&&d.class!==y.class&&a(c,"class",null,y.class,o),4&l&&a(c,"style",d.style,y.style,o),8&l){const i=e.dynamicProps;for(let e=0;e<i.length;e++){const s=i[e],u=d[s],l=y[s];l===u&&"value"!==s||a(c,s,u,l,o,t.children,n,r,X)}}1&l&&t.children!==e.children&&h(c,e.children)}else u||null!=f||R(c,e,d,y,n,r,o);((v=y.onVnodeUpdated)||p)&&Re((()=>{v&&wn(v,n,e,t),p&&at(e,t,n,"updated")}),r)},k=(t,e,n,r,i,o,s)=>{for(let a=0;a<e.length;a++){const u=t[a],c=e[a],l=u.el&&(u.type===qe||!rn(u,c)||70&u.shapeFlag)?p(u.el):n;g(u,c,l,null,r,i,o,s,!0)}},R=(t,e,n,r,o,s,u)=>{if(n!==r){if(n!==i.MZ)for(const c in n)(0,i.SU)(c)||c in r||a(t,c,n[c],null,u,e.children,o,s,X);for(const c in r){if((0,i.SU)(c))continue;const l=r[c],f=n[c];l!==f&&"value"!==c&&a(t,c,f,l,u,e.children,o,s,X)}"value"in r&&a(t,"value",n.value,r.value,u)}},P=(t,e,n,r,i,s,a,u,l)=>{const f=e.el=t?t.el:c(""),h=e.anchor=t?t.anchor:c("");let{patchFlag:p,dynamicChildren:d,slotScopeIds:y}=e;y&&(u=u?u.concat(y):y),null==t?(o(f,n,r),o(h,n,r),O(e.children||[],n,h,i,s,a,u,l)):p>0&&64&p&&d&&t.dynamicChildren?(k(t.dynamicChildren,d,n,i,s,a,u),(null!=e.key||i&&e===i.subTree)&&Ve(t,e,!0)):B(t,e,n,h,i,s,a,u,l)},L=(t,e,n,r,i,o,s,a,u)=>{e.slotScopeIds=a,null==t?512&e.shapeFlag?i.ctx.activate(e,n,r,s,u):M(e,n,r,i,o,s,u):F(t,e,u)},M=(t,e,n,r,i,o,s)=>{const a=t.component=Tn(t,r,i);if(Tt(t)&&(a.ctx.renderer=et),Pn(a),a.asyncDep){if(i&&i.registerDep(a,V),!t.el){const t=a.subTree=cn(Ge);b(null,t,e,n)}}else V(a,t,e,n,i,o,s)},F=(t,e,n)=>{const r=e.component=t.component;if(H(t,e,n)){if(r.asyncDep&&!r.asyncResolved)return void U(r,e,n);r.next=e,E(r.update),r.effect.dirty=!0,r.update()}else e.el=t.el,r.vnode=e},V=(t,e,n,o,s,a,u)=>{const c=()=>{if(t.isMounted){let{next:e,bu:n,u:r,parent:o,vnode:l}=t;{const n=He(t);if(n)return e&&(e.el=l.el,U(t,e,u)),void n.asyncDep.then((()=>{t.isUnmounted||c()}))}let f,h=e;0,Fe(t,!1),e?(e.el=l.el,U(t,e,u)):e=l,n&&(0,i.DY)(n),(f=e.props&&e.props.onVnodeBeforeUpdate)&&wn(f,o,e,l),Fe(t,!0);const d=j(t);0;const y=t.subTree;t.subTree=d,g(y,d,p(y.el),Z(y),t,s,a),e.el=d.el,null===h&&q(t,d.el),r&&Re(r,s),(f=e.props&&e.props.onVnodeUpdated)&&Re((()=>wn(f,o,e,l)),s)}else{let r;const{el:u,props:c}=e,{bm:l,m:f,parent:h}=t,p=Et(e);if(Fe(t,!1),l&&(0,i.DY)(l),!p&&(r=c&&c.onVnodeBeforeMount)&&wn(r,h,e),Fe(t,!0),u&&rt){const n=()=>{t.subTree=j(t),rt(u,t.subTree,t,s,null)};p?e.type.__asyncLoader().then((()=>!t.isUnmounted&&n())):n()}else{0;const r=t.subTree=j(t);0,g(null,r,n,o,t,s,a),e.el=r.el}if(f&&Re(f,s),!p&&(r=c&&c.onVnodeMounted)){const t=e;Re((()=>wn(r,h,t)),s)}(256&e.shapeFlag||h&&Et(h.vnode)&&256&h.vnode.shapeFlag)&&t.a&&Re(t.a,s),t.isMounted=!0,e=n=o=null}},l=t.effect=new r.X2(c,i.tE,(()=>w(f)),t.scope),f=t.update=()=>{l.dirty&&l.run()};f.id=t.uid,Fe(t,!0),f()},U=(t,e,n)=>{e.component=t;const i=t.vnode.props;t.vnode=e,t.next=null,ve(t,e.props,i,n),Oe(t,e.children,n),(0,r.C4)(),I(t),(0,r.bl)()},B=(t,e,n,r,i,o,s,a,u=!1)=>{const c=t&&t.children,l=t?t.shapeFlag:0,f=e.children,{patchFlag:p,shapeFlag:d}=e;if(p>0){if(128&p)return void G(c,f,n,r,i,o,s,a,u);if(256&p)return void K(c,f,n,r,i,o,s,a,u)}8&d?(16&l&&X(c,i,o),f!==c&&h(n,f)):16&l?16&d?G(c,f,n,r,i,o,s,a,u):X(c,i,o,!0):(8&l&&h(n,""),16&d&&O(f,n,r,i,o,s,a,u))},K=(t,e,n,r,o,s,a,u,c)=>{t=t||i.Oj,e=e||i.Oj;const l=t.length,f=e.length,h=Math.min(l,f);let p;for(p=0;p<h;p++){const r=e[p]=c?gn(e[p]):vn(e[p]);g(t[p],r,n,null,o,s,a,u,c)}l>f?X(t,o,s,!0,!1,h):O(e,n,r,o,s,a,u,c,h)},G=(t,e,n,r,o,s,a,u,c)=>{let l=0;const f=e.length;let h=t.length-1,p=f-1;while(l<=h&&l<=p){const r=t[l],i=e[l]=c?gn(e[l]):vn(e[l]);if(!rn(r,i))break;g(r,i,n,null,o,s,a,u,c),l++}while(l<=h&&l<=p){const r=t[h],i=e[p]=c?gn(e[p]):vn(e[p]);if(!rn(r,i))break;g(r,i,n,null,o,s,a,u,c),h--,p--}if(l>h){if(l<=p){const t=p+1,i=t<f?e[t].el:r;while(l<=p)g(null,e[l]=c?gn(e[l]):vn(e[l]),n,i,o,s,a,u,c),l++}}else if(l>p)while(l<=h)Y(t[l],o,s,!0),l++;else{const d=l,y=l,v=new Map;for(l=y;l<=p;l++){const t=e[l]=c?gn(e[l]):vn(e[l]);null!=t.key&&v.set(t.key,l)}let m,b=0;const w=p-y+1;let _=!1,E=0;const T=new Array(w);for(l=0;l<w;l++)T[l]=0;for(l=d;l<=h;l++){const r=t[l];if(b>=w){Y(r,o,s,!0);continue}let i;if(null!=r.key)i=v.get(r.key);else for(m=y;m<=p;m++)if(0===T[m-y]&&rn(r,e[m])){i=m;break}void 0===i?Y(r,o,s,!0):(T[i-y]=l+1,i>=E?E=i:_=!0,g(r,e[i],n,null,o,s,a,u,c),b++)}const I=_?Ue(T):i.Oj;for(m=I.length-1,l=w-1;l>=0;l--){const t=y+l,i=e[t],h=t+1<f?e[t+1].el:r;0===T[l]?g(null,i,n,h,o,s,a,u,c):_&&(m<0||l!==I[m]?z(i,n,h,2):m--)}}},z=(t,e,n,r,i=null)=>{const{el:s,type:a,transition:u,children:c,shapeFlag:l}=t;if(6&l)return void z(t.component.subTree,e,n,r);if(128&l)return void t.suspense.move(e,n,r);if(64&l)return void a.move(t,e,n,et);if(a===qe){o(s,e,n);for(let t=0;t<c.length;t++)z(c[t],e,n,r);return void o(t.anchor,e,n)}if(a===ze)return void T(t,e,n);const f=2!==r&&1&l&&u;if(f)if(0===r)u.beforeEnter(s),o(s,e,n),Re((()=>u.enter(s)),i);else{const{leave:t,delayLeave:r,afterLeave:i}=u,a=()=>o(s,e,n),c=()=>{t(s,(()=>{a(),i&&i()}))};r?r(s,a,c):c()}else o(s,e,n)},Y=(t,e,n,r=!1,i=!1)=>{const{type:o,props:s,ref:a,children:u,dynamicChildren:c,shapeFlag:l,patchFlag:f,dirs:h}=t;if(null!=a&&De(a,null,n,t,!0),256&l)return void e.ctx.deactivate(t);const p=1&l&&h,d=!Et(t);let y;if(d&&(y=s&&s.onVnodeBeforeUnmount)&&wn(y,e,t),6&l)Q(t.component,n,r);else{if(128&l)return void t.suspense.unmount(n,r);p&&at(t,null,e,"beforeUnmount"),64&l?t.type.remove(t,e,n,i,et,r):c&&(o!==qe||f>0&&64&f)?X(c,e,n,!1,!0):(o===qe&&384&f||!i&&16&l)&&X(u,e,n),r&&$(t)}(d&&(y=s&&s.onVnodeUnmounted)||p)&&Re((()=>{y&&wn(y,e,t),p&&at(t,null,e,"unmounted")}),n)},$=t=>{const{type:e,el:n,anchor:r,transition:i}=t;if(e===qe)return void W(n,r);if(e===ze)return void A(t);const o=()=>{s(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&t.shapeFlag&&i&&!i.persisted){const{leave:e,delayLeave:r}=i,s=()=>e(n,o);r?r(t.el,o,s):s()}else o()},W=(t,e)=>{let n;while(t!==e)n=d(t),s(t),t=n;s(e)},Q=(t,e,n)=>{const{bum:r,scope:o,update:s,subTree:a,um:u}=t;r&&(0,i.DY)(r),o.stop(),s&&(s.active=!1,Y(a,t,e,n)),u&&Re(u,e),Re((()=>{t.isUnmounted=!0}),e),e&&e.pendingBranch&&!e.isUnmounted&&t.asyncDep&&!t.asyncResolved&&t.suspenseId===e.pendingId&&(e.deps--,0===e.deps&&e.resolve())},X=(t,e,n,r=!1,i=!1,o=0)=>{for(let s=o;s<t.length;s++)Y(t[s],e,n,r,i)},Z=t=>6&t.shapeFlag?Z(t.component.subTree):128&t.shapeFlag?t.suspense.next():d(t.anchor||t.el);let J=!1;const tt=(t,e,n)=>{null==t?e._vnode&&Y(e._vnode,null,null,!0):g(e._vnode||null,t,e,null,null,null,n),J||(J=!0,I(),S(),J=!1),e._vnode=t},et={p:g,um:Y,m:z,r:$,mt:M,mc:O,pc:B,pbc:k,n:Z,o:t};let nt,rt;return e&&([nt,rt]=e(et)),{render:tt,hydrate:nt,createApp:fe(tt,nt)}}function Me({type:t,props:e},n){return"svg"===n&&"foreignObject"===t||"mathml"===n&&"annotation-xml"===t&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Fe({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function je(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ve(t,e,n=!1){const r=t.children,o=e.children;if((0,i.cy)(r)&&(0,i.cy)(o))for(let i=0;i<r.length;i++){const t=r[i];let e=o[i];1&e.shapeFlag&&!e.dynamicChildren&&((e.patchFlag<=0||32===e.patchFlag)&&(e=o[i]=gn(o[i]),e.el=t.el),n||Ve(t,e)),e.type===Ke&&(e.el=t.el)}}function Ue(t){const e=t.slice(),n=[0];let r,i,o,s,a;const u=t.length;for(r=0;r<u;r++){const u=t[r];if(0!==u){if(i=n[n.length-1],t[i]<u){e[r]=i,n.push(r);continue}o=0,s=n.length-1;while(o<s)a=o+s>>1,t[n[a]]<u?o=a+1:s=a;u<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}o=n.length,s=n[o-1];while(o-- >0)n[o]=s,s=e[s];return n}function He(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:He(e)}const Be=t=>t.__isTeleport;const qe=Symbol.for("v-fgt"),Ke=Symbol.for("v-txt"),Ge=Symbol.for("v-cmt"),ze=Symbol.for("v-stc"),Ye=[];let $e=null;function We(t=!1){Ye.push($e=t?null:[])}function Qe(){Ye.pop(),$e=Ye[Ye.length-1]||null}let Xe=1;function Ze(t){Xe+=t}function Je(t){return t.dynamicChildren=Xe>0?$e||i.Oj:null,Qe(),Xe>0&&$e&&$e.push(t),t}function tn(t,e,n,r,i,o){return Je(un(t,e,n,r,i,o,!0))}function en(t,e,n,r,i){return Je(cn(t,e,n,r,i,!0))}function nn(t){return!!t&&!0===t.__v_isVNode}function rn(t,e){return t.type===e.type&&t.key===e.key}const on="__vInternal",sn=({key:t})=>null!=t?t:null,an=({ref:t,ref_key:e,ref_for:n})=>("number"===typeof t&&(t=""+t),null!=t?(0,i.Kg)(t)||(0,r.i9)(t)||(0,i.Tn)(t)?{i:k,r:t,k:e,f:!!n}:t:null);function un(t,e=null,n=null,r=0,o=null,s=(t===qe?0:1),a=!1,u=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&sn(e),ref:e&&an(e),scopeId:R,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:k};return u?(mn(c,n),128&s&&t.normalize(c)):n&&(c.shapeFlag|=(0,i.Kg)(n)?8:16),Xe>0&&!a&&$e&&(c.patchFlag>0||6&s)&&32!==c.patchFlag&&$e.push(c),c}const cn=ln;function ln(t,e=null,n=null,o=0,s=null,a=!1){if(t&&t!==z||(t=Ge),nn(t)){const r=hn(t,e,!0);return n&&mn(r,n),Xe>0&&!a&&$e&&(6&r.shapeFlag?$e[$e.indexOf(t)]=r:$e.push(r)),r.patchFlag|=-2,r}if(Bn(t)&&(t=t.__vccOpts),e){e=fn(e);let{class:t,style:n}=e;t&&!(0,i.Kg)(t)&&(e.class=(0,i.C4)(t)),(0,i.Gv)(n)&&((0,r.ju)(n)&&!(0,i.cy)(n)&&(n=(0,i.X$)({},n)),e.style=(0,i.Tr)(n))}const u=(0,i.Kg)(t)?1:Q(t)?128:Be(t)?64:(0,i.Gv)(t)?4:(0,i.Tn)(t)?2:0;return un(t,e,n,o,s,u,a,!0)}function fn(t){return t?(0,r.ju)(t)||on in t?(0,i.X$)({},t):t:null}function hn(t,e,n=!1){const{props:r,ref:o,patchFlag:s,children:a}=t,u=e?bn(r||{},e):r,c={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&sn(u),ref:e&&e.ref?n&&o?(0,i.cy)(o)?o.concat(an(e)):[o,an(e)]:an(e):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==qe?-1===s?16:16|s:s,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&hn(t.ssContent),ssFallback:t.ssFallback&&hn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c}function pn(t=" ",e=0){return cn(Ke,null,t,e)}function dn(t,e){const n=cn(ze,null,t);return n.staticCount=e,n}function yn(t="",e=!1){return e?(We(),en(Ge,null,t)):cn(Ge,null,t)}function vn(t){return null==t||"boolean"===typeof t?cn(Ge):(0,i.cy)(t)?cn(qe,null,t.slice()):"object"===typeof t?gn(t):cn(Ke,null,String(t))}function gn(t){return null===t.el&&-1!==t.patchFlag||t.memo?t:hn(t)}function mn(t,e){let n=0;const{shapeFlag:r}=t;if(null==e)e=null;else if((0,i.cy)(e))n=16;else if("object"===typeof e){if(65&r){const n=e.default;return void(n&&(n._c&&(n._d=!1),mn(t,n()),n._c&&(n._d=!0)))}{n=32;const r=e._;r||on in e?3===r&&k&&(1===k.slots._?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=k}}else(0,i.Tn)(e)?(e={default:e,_ctx:k},n=32):(e=String(e),64&r?(n=16,e=[pn(e)]):n=8);t.children=e,t.shapeFlag|=n}function bn(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const t in r)if("class"===t)e.class!==r.class&&(e.class=(0,i.C4)([e.class,r.class]));else if("style"===t)e.style=(0,i.Tr)([e.style,r.style]);else if((0,i.Mp)(t)){const n=e[t],o=r[t];!o||n===o||(0,i.cy)(n)&&n.includes(o)||(e[t]=n?[].concat(n,o):o)}else""!==t&&(e[t]=r[t])}return e}function wn(t,e,n,r=null){s(t,e,7,[n,r])}const _n=ce();let En=0;function Tn(t,e,n){const o=t.type,s=(e?e.appContext:t.appContext)||_n,a={uid:En++,vnode:t,type:o,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new r.yC(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:be(o,s),emitsOptions:O(o,s),emit:null,emitted:null,propsDefaults:i.MZ,inheritAttrs:o.inheritAttrs,ctx:i.MZ,data:i.MZ,props:i.MZ,attrs:i.MZ,slots:i.MZ,refs:i.MZ,setupState:i.MZ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=N.bind(null,a),t.ce&&t.ce(a),a}let In=null;const Sn=()=>In||k;let An,Cn;{const t=(0,i.We)(),e=(e,n)=>{let r;return(r=t[e])||(r=t[e]=[]),r.push(n),t=>{r.length>1?r.forEach((e=>e(t))):r[0](t)}};An=e("__VUE_INSTANCE_SETTERS__",(t=>In=t)),Cn=e("__VUE_SSR_SETTERS__",(t=>Rn=t))}const xn=t=>{const e=In;return An(t),t.scope.on(),()=>{t.scope.off(),An(e)}},Nn=()=>{In&&In.scope.off(),An(null)};function On(t){return 4&t.vnode.shapeFlag}let Dn,kn,Rn=!1;function Pn(t,e=!1){e&&Cn(e);const{props:n,children:r}=t.vnode,i=On(t);ye(t,n,i,e),Ne(t,r);const o=i?Ln(t,e):void 0;return e&&Cn(!1),o}function Ln(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=(0,r.IG)(new Proxy(t.ctx,zt));const{setup:s}=n;if(s){const n=t.setupContext=s.length>1?Vn(t):null,u=xn(t);(0,r.C4)();const c=o(s,t,0,[t.props,n]);if((0,r.bl)(),u(),(0,i.yL)(c)){if(c.then(Nn,Nn),e)return c.then((n=>{Mn(t,n,e)})).catch((e=>{a(e,t,0)}));t.asyncDep=c}else Mn(t,c,e)}else Fn(t,e)}function Mn(t,e,n){(0,i.Tn)(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:(0,i.Gv)(e)&&(t.setupState=(0,r.Pr)(e)),Fn(t,n)}function Fn(t,e,n){const o=t.type;if(!t.render){if(!e&&Dn&&!o.render){const e=o.template||Jt(t).template;if(e){0;const{isCustomElement:n,compilerOptions:r}=t.appContext.config,{delimiters:s,compilerOptions:a}=o,u=(0,i.X$)((0,i.X$)({isCustomElement:n,delimiters:s},r),a);o.render=Dn(e,u)}}t.render=o.render||i.tE,kn&&kn(t)}{const e=xn(t);(0,r.C4)();try{Wt(t)}finally{(0,r.bl)(),e()}}}function jn(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return(0,r.u4)(t,"get","$attrs"),e[n]}}))}function Vn(t){const e=e=>{t.exposed=e||{}};return{get attrs(){return jn(t)},slots:t.slots,emit:t.emit,expose:e}}function Un(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy((0,r.Pr)((0,r.IG)(t.exposed)),{get(e,n){return n in e?e[n]:n in Kt?Kt[n](t):void 0},has(t,e){return e in t||e in Kt}}))}function Hn(t,e=!0){return(0,i.Tn)(t)?t.displayName||t.name:t.name||e&&t.__name}function Bn(t){return(0,i.Tn)(t)&&"__vccOpts"in t}const qn=(t,e)=>(0,r.EW)(t,e,Rn);function Kn(t,e,n){const r=arguments.length;return 2===r?(0,i.Gv)(e)&&!(0,i.cy)(e)?nn(e)?cn(t,null,[e]):cn(t,e):cn(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&nn(n)&&(n=[n]),cn(t,e,n))}const Gn="3.4.19"},5130:function(t,e,n){n.d(e,{Ef:function(){return _t},Jo:function(){return gt},eB:function(){return d}});n(4114);var r=n(6768),i=n(4232),o=n(144);
/**
* @vue/runtime-dom v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
const s="http://www.w3.org/2000/svg",a="http://www.w3.org/1998/Math/MathML",u="undefined"!==typeof document?document:null,c=u&&u.createElement("template"),l={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i="svg"===e?u.createElementNS(s,t):"mathml"===e?u.createElementNS(a,t):u.createElement(t,n?{is:n}:void 0);return"select"===t&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:t=>u.createTextNode(t),createComment:t=>u.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>u.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,o){const s=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling)){while(1)if(e.insertBefore(i.cloneNode(!0),n),i===o||!(i=i.nextSibling))break}else{c.innerHTML="svg"===r?`<svg>${t}</svg>`:"mathml"===r?`<math>${t}</math>`:t;const i=c.content;if("svg"===r||"mathml"===r){const t=i.firstChild;while(t.firstChild)i.appendChild(t.firstChild);i.removeChild(t)}e.insertBefore(i,n)}return[s?s.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},f="transition",h="animation",p=Symbol("_vtc"),d=(t,{slots:e})=>(0,r.h)(r.pR,b(t),e);d.displayName="Transition";const y={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},v=d.props=(0,i.X$)({},r.QP,y),g=(t,e=[])=>{(0,i.cy)(t)?t.forEach((t=>t(...e))):t&&t(...e)},m=t=>!!t&&((0,i.cy)(t)?t.some((t=>t.length>1)):t.length>1);function b(t){const e={};for(const i in t)i in y||(e[i]=t[i]);if(!1===t.css)return e;const{name:n="v",type:r,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:u=`${n}-enter-to`,appearFromClass:c=s,appearActiveClass:l=a,appearToClass:f=u,leaveFromClass:h=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,v=w(o),b=v&&v[0],_=v&&v[1],{onBeforeEnter:S,onEnter:C,onEnterCancelled:x,onLeave:N,onLeaveCancelled:D,onBeforeAppear:k=S,onAppear:R=C,onAppearCancelled:P=x}=e,L=(t,e,n)=>{T(t,e?f:u),T(t,e?l:a),n&&n()},M=(t,e)=>{t._isLeaving=!1,T(t,h),T(t,d),T(t,p),e&&e()},F=t=>(e,n)=>{const i=t?R:C,o=()=>L(e,t,n);g(i,[e,o]),I((()=>{T(e,t?c:s),E(e,t?f:u),m(i)||A(e,r,b,o)}))};return(0,i.X$)(e,{onBeforeEnter(t){g(S,[t]),E(t,s),E(t,a)},onBeforeAppear(t){g(k,[t]),E(t,c),E(t,l)},onEnter:F(!1),onAppear:F(!0),onLeave(t,e){t._isLeaving=!0;const n=()=>M(t,e);E(t,h),O(),E(t,p),I((()=>{t._isLeaving&&(T(t,h),E(t,d),m(N)||A(t,r,_,n))})),g(N,[t,n])},onEnterCancelled(t){L(t,!1),g(x,[t])},onAppearCancelled(t){L(t,!0),g(P,[t])},onLeaveCancelled(t){M(t),g(D,[t])}})}function w(t){if(null==t)return null;if((0,i.Gv)(t))return[_(t.enter),_(t.leave)];{const e=_(t);return[e,e]}}function _(t){const e=(0,i.Ro)(t);return e}function E(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.add(e))),(t[p]||(t[p]=new Set)).add(e)}function T(t,e){e.split(/\s+/).forEach((e=>e&&t.classList.remove(e)));const n=t[p];n&&(n.delete(e),n.size||(t[p]=void 0))}function I(t){requestAnimationFrame((()=>{requestAnimationFrame(t)}))}let S=0;function A(t,e,n,r){const i=t._endId=++S,o=()=>{i===t._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:u}=C(t,e);if(!s)return r();const c=s+"end";let l=0;const f=()=>{t.removeEventListener(c,h),o()},h=e=>{e.target===t&&++l>=u&&f()};setTimeout((()=>{l<u&&f()}),a+1),t.addEventListener(c,h)}function C(t,e){const n=window.getComputedStyle(t),r=t=>(n[t]||"").split(", "),i=r(`${f}Delay`),o=r(`${f}Duration`),s=x(i,o),a=r(`${h}Delay`),u=r(`${h}Duration`),c=x(a,u);let l=null,p=0,d=0;e===f?s>0&&(l=f,p=s,d=o.length):e===h?c>0&&(l=h,p=c,d=u.length):(p=Math.max(s,c),l=p>0?s>c?f:h:null,d=l?l===f?o.length:u.length:0);const y=l===f&&/\b(transform|all)(,|$)/.test(r(`${f}Property`).toString());return{type:l,timeout:p,propCount:d,hasTransform:y}}function x(t,e){while(t.length<e.length)t=t.concat(t);return Math.max(...e.map(((e,n)=>N(e)+N(t[n]))))}function N(t){return"auto"===t?0:1e3*Number(t.slice(0,-1).replace(",","."))}function O(){return document.body.offsetHeight}function D(t,e,n){const r=t[p];r&&(e=(e?[e,...r]:[...r]).join(" ")),null==e?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const k=Symbol("_vod");const R=Symbol("");const P=/(^|;)\s*display\s*:/;function L(t,e,n){const r=t.style,o=(0,i.Kg)(n),s=r.display;let a=!1;if(n&&!o){if(e&&!(0,i.Kg)(e))for(const t in e)null==n[t]&&F(r,t,"");for(const t in n)"display"===t&&(a=!0),F(r,t,n[t])}else if(o){if(e!==n){const t=r[R];t&&(n+=";"+t),r.cssText=n,a=P.test(n)}}else e&&t.removeAttribute("style");k in t&&(t[k]=a?r.display:"",r.display=s)}const M=/\s*!important$/;function F(t,e,n){if((0,i.cy)(n))n.forEach((n=>F(t,e,n)));else if(null==n&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=U(t,e);M.test(n)?t.setProperty((0,i.Tg)(r),n.replace(M,""),"important"):t[r]=n}}const j=["Webkit","Moz","ms"],V={};function U(t,e){const n=V[e];if(n)return n;let r=(0,i.PT)(e);if("filter"!==r&&r in t)return V[e]=r;r=(0,i.ZH)(r);for(let i=0;i<j.length;i++){const n=j[i]+r;if(n in t)return V[e]=n}return e}const H="http://www.w3.org/1999/xlink";function B(t,e,n,r,o){if(r&&e.startsWith("xlink:"))null==n?t.removeAttributeNS(H,e.slice(6,e.length)):t.setAttributeNS(H,e,n);else{const r=(0,i.J$)(e);null==n||r&&!(0,i.Y2)(n)?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}function q(t,e,n,r,o,s,a){if("innerHTML"===e||"textContent"===e)return r&&a(r,o,s),void(t[e]=null==n?"":n);const u=t.tagName;if("value"===e&&"PROGRESS"!==u&&!u.includes("-")){t._value=n;const r="OPTION"===u?t.getAttribute("value"):t.value,i=null==n?"":n;return r!==i&&(t.value=i),void(null==n&&t.removeAttribute(e))}let c=!1;if(""===n||null==n){const r=typeof t[e];"boolean"===r?n=(0,i.Y2)(n):null==n&&"string"===r?(n="",c=!0):"number"===r&&(n=0,c=!0)}try{t[e]=n}catch(l){0}c&&t.removeAttribute(e)}function K(t,e,n,r){t.addEventListener(e,n,r)}function G(t,e,n,r){t.removeEventListener(e,n,r)}const z=Symbol("_vei");function Y(t,e,n,r,i=null){const o=t[z]||(t[z]={}),s=o[e];if(r&&s)s.value=r;else{const[n,a]=W(e);if(r){const s=o[e]=J(r,i);K(t,n,s,a)}else s&&(G(t,n,s,a),o[e]=void 0)}}const $=/(?:Once|Passive|Capture)$/;function W(t){let e;if($.test(t)){let n;e={};while(n=t.match($))t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}const n=":"===t[2]?t.slice(3):(0,i.Tg)(t.slice(2));return[n,e]}let Q=0;const X=Promise.resolve(),Z=()=>Q||(X.then((()=>Q=0)),Q=Date.now());function J(t,e){const n=t=>{if(t._vts){if(t._vts<=n.attached)return}else t._vts=Date.now();(0,r.qL)(tt(t,n.value),e,5,[t])};return n.value=t,n.attached=Z(),n}function tt(t,e){if((0,i.cy)(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map((t=>e=>!e._stopped&&t&&t(e)))}return e}const et=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,nt=(t,e,n,r,o,s,a,u,c)=>{const l="svg"===o;"class"===e?D(t,r,l):"style"===e?L(t,n,r):(0,i.Mp)(e)?(0,i.CP)(e)||Y(t,e,n,r,a):("."===e[0]?(e=e.slice(1),1):"^"===e[0]?(e=e.slice(1),0):rt(t,e,r,l))?q(t,e,r,s,a,u,c):("true-value"===e?t._trueValue=r:"false-value"===e&&(t._falseValue=r),B(t,e,r,l))};function rt(t,e,n,r){if(r)return"innerHTML"===e||"textContent"===e||!!(e in t&&et(e)&&(0,i.Tn)(n));if("spellcheck"===e||"draggable"===e||"translate"===e)return!1;if("form"===e)return!1;if("list"===e&&"INPUT"===t.tagName)return!1;if("type"===e&&"TEXTAREA"===t.tagName)return!1;if("width"===e||"height"===e){const e=t.tagName;if("IMG"===e||"VIDEO"===e||"CANVAS"===e||"SOURCE"===e)return!1}return(!et(e)||!(0,i.Kg)(n))&&e in t}
/*! #__NO_SIDE_EFFECTS__ */
/*! #__NO_SIDE_EFFECTS__ */
"undefined"!==typeof HTMLElement&&HTMLElement;const it=new WeakMap,ot=new WeakMap,st=Symbol("_moveCb"),at=Symbol("_enterCb"),ut={name:"TransitionGroup",props:(0,i.X$)({},v,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=(0,r.nI)(),i=(0,r.Gy)();let s,a;return(0,r.$u)((()=>{if(!s.length)return;const e=t.moveClass||`${t.name||"v"}-move`;if(!ht(s[0].el,n.vnode.el,e))return;s.forEach(ct),s.forEach(lt);const r=s.filter(ft);O(),r.forEach((t=>{const n=t.el,r=n.style;E(n,e),r.transform=r.webkitTransform=r.transitionDuration="";const i=n[st]=t=>{t&&t.target!==n||t&&!/transform$/.test(t.propertyName)||(n.removeEventListener("transitionend",i),n[st]=null,T(n,e))};n.addEventListener("transitionend",i)}))})),()=>{const u=(0,o.ux)(t),c=b(u);let l=u.tag||r.FK;s=a,a=e.default?(0,r.Df)(e.default()):[];for(let t=0;t<a.length;t++){const e=a[t];null!=e.key&&(0,r.MZ)(e,(0,r.OW)(e,c,i,n))}if(s)for(let t=0;t<s.length;t++){const e=s[t];(0,r.MZ)(e,(0,r.OW)(e,c,i,n)),it.set(e,e.el.getBoundingClientRect())}return(0,r.bF)(l,null,a)}}};ut.props;function ct(t){const e=t.el;e[st]&&e[st](),e[at]&&e[at]()}function lt(t){ot.set(t,t.el.getBoundingClientRect())}function ft(t){const e=it.get(t),n=ot.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const e=t.el.style;return e.transform=e.webkitTransform=`translate(${r}px,${i}px)`,e.transitionDuration="0s",t}}function ht(t,e,n){const r=t.cloneNode(),i=t[p];i&&i.forEach((t=>{t.split(/\s+/).forEach((t=>t&&r.classList.remove(t)))})),n.split(/\s+/).forEach((t=>t&&r.classList.add(t))),r.style.display="none";const o=1===e.nodeType?e:e.parentNode;o.appendChild(r);const{hasTransform:s}=C(r);return o.removeChild(r),s}const pt=t=>{const e=t.props["onUpdate:modelValue"]||!1;return(0,i.cy)(e)?t=>(0,i.DY)(e,t):e};function dt(t){t.target.composing=!0}function yt(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const vt=Symbol("_assign"),gt={created(t,{modifiers:{lazy:e,trim:n,number:r}},o){t[vt]=pt(o);const s=r||o.props&&"number"===o.props.type;K(t,e?"change":"input",(e=>{if(e.target.composing)return;let r=t.value;n&&(r=r.trim()),s&&(r=(0,i.bB)(r)),t[vt](r)})),n&&K(t,"change",(()=>{t.value=t.value.trim()})),e||(K(t,"compositionstart",dt),K(t,"compositionend",yt),K(t,"change",yt))},mounted(t,{value:e}){t.value=null==e?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:r,number:o}},s){if(t[vt]=pt(s),t.composing)return;const a=o||"number"===t.type?(0,i.bB)(t.value):t.value,u=null==e?"":e;if(a!==u){if(document.activeElement===t&&"range"!==t.type){if(n)return;if(r&&t.value.trim()===u)return}t.value=u}}};const mt=(0,i.X$)({patchProp:nt},l);let bt;function wt(){return bt||(bt=(0,r.K9)(mt))}const _t=(...t)=>{const e=wt().createApp(...t);const{mount:n}=e;return e.mount=t=>{const r=Tt(t);if(!r)return;const o=e._component;(0,i.Tn)(o)||o.render||o.template||(o.template=r.innerHTML),r.innerHTML="";const s=n(r,!1,Et(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),s},e};function Et(t){return t instanceof SVGElement?"svg":"function"===typeof MathMLElement&&t instanceof MathMLElement?"mathml":void 0}function Tt(t){if((0,i.Kg)(t)){const e=document.querySelector(t);return e}return t}},4232:function(t,e,n){n.d(e,{$3:function(){return p},$H:function(){return F},BH:function(){return G},BX:function(){return nt},Bm:function(){return _},C4:function(){return X},CE:function(){return y},CP:function(){return c},DY:function(){return j},Gv:function(){return E},J$:function(){return J},Kg:function(){return w},MZ:function(){return i},Mp:function(){return u},NO:function(){return a},Oj:function(){return o},PT:function(){return k},Qd:function(){return C},Ro:function(){return H},SU:function(){return N},TF:function(){return f},Tg:function(){return P},Tn:function(){return b},Tr:function(){return z},We:function(){return q},X$:function(){return l},Y2:function(){return tt},ZH:function(){return L},Zf:function(){return A},bB:function(){return U},cy:function(){return d},gd:function(){return m},pD:function(){return r},rU:function(){return M},tE:function(){return s},u3:function(){return rt},vM:function(){return v},v_:function(){return it},yI:function(){return x},yL:function(){return T},yQ:function(){return V}});n(4114);
/**
* @vue/shared v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
function r(t,e){const n=new Set(t.split(","));return e?t=>n.has(t.toLowerCase()):t=>n.has(t)}const i={},o=[],s=()=>{},a=()=>!1,u=t=>111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),c=t=>t.startsWith("onUpdate:"),l=Object.assign,f=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},h=Object.prototype.hasOwnProperty,p=(t,e)=>h.call(t,e),d=Array.isArray,y=t=>"[object Map]"===S(t),v=t=>"[object Set]"===S(t),g=t=>"[object Date]"===S(t),m=t=>"[object RegExp]"===S(t),b=t=>"function"===typeof t,w=t=>"string"===typeof t,_=t=>"symbol"===typeof t,E=t=>null!==t&&"object"===typeof t,T=t=>(E(t)||b(t))&&b(t.then)&&b(t.catch),I=Object.prototype.toString,S=t=>I.call(t),A=t=>S(t).slice(8,-1),C=t=>"[object Object]"===S(t),x=t=>w(t)&&"NaN"!==t&&"-"!==t[0]&&""+parseInt(t,10)===t,N=r(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),O=t=>{const e=Object.create(null);return n=>{const r=e[n];return r||(e[n]=t(n))}},D=/-(\w)/g,k=O((t=>t.replace(D,((t,e)=>e?e.toUpperCase():"")))),R=/\B([A-Z])/g,P=O((t=>t.replace(R,"-$1").toLowerCase())),L=O((t=>t.charAt(0).toUpperCase()+t.slice(1))),M=O((t=>{const e=t?`on${L(t)}`:"";return e})),F=(t,e)=>!Object.is(t,e),j=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},V=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},U=t=>{const e=parseFloat(t);return isNaN(e)?t:e},H=t=>{const e=w(t)?Number(t):NaN;return isNaN(e)?t:e};let B;const q=()=>B||(B="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{});const K="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",G=r(K);function z(t){if(d(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=w(r)?Q(r):z(r);if(i)for(const t in i)e[t]=i[t]}return e}if(w(t)||E(t))return t}const Y=/;(?![^(]*\))/g,$=/:([^]+)/,W=/\/\*[^]*?\*\//g;function Q(t){const e={};return t.replace(W,"").split(Y).forEach((t=>{if(t){const n=t.split($);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}function X(t){let e="";if(w(t))e=t;else if(d(t))for(let n=0;n<t.length;n++){const r=X(t[n]);r&&(e+=r+" ")}else if(E(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Z="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",J=r(Z);function tt(t){return!!t||""===t}function et(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=nt(t[r],e[r]);return n}function nt(t,e){if(t===e)return!0;let n=g(t),r=g(e);if(n||r)return!(!n||!r)&&t.getTime()===e.getTime();if(n=_(t),r=_(e),n||r)return t===e;if(n=d(t),r=d(e),n||r)return!(!n||!r)&&et(t,e);if(n=E(t),r=E(e),n||r){if(!n||!r)return!1;const i=Object.keys(t).length,o=Object.keys(e).length;if(i!==o)return!1;for(const n in t){const r=t.hasOwnProperty(n),i=e.hasOwnProperty(n);if(r&&!i||!r&&i||!nt(t[n],e[n]))return!1}}return String(t)===String(e)}function rt(t,e){return t.findIndex((t=>nt(t,e)))}const it=t=>w(t)?t:null==t?"":d(t)||E(t)&&(t.toString===I||!b(t.toString))?JSON.stringify(t,ot,2):String(t),ot=(t,e)=>e&&e.__v_isRef?ot(t,e.value):y(e)?{[`Map(${e.size})`]:[...e.entries()].reduce(((t,[e,n],r)=>(t[st(e,r)+" =>"]=n,t)),{})}:v(e)?{[`Set(${e.size})`]:[...e.values()].map((t=>st(t)))}:_(e)?st(e):!E(e)||d(e)||C(e)?e:String(e),st=(t,e="")=>{var n;return _(t)?`Symbol(${null!=(n=t.description)?n:e})`:t}},2829:function(t,e,n){n.d(e,{A:function(){return r.A}});var r=n(4497),i="firebase",o="8.10.1";
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
r.A.registerVersion(i,o,"app"),r.A.SDK_VERSION=o},5833:function(t,e,n){var r=n(4497),i=(n(4114),n(7467),n(4732),n(9577),n(6280),n(7913),n(7801),n(4979),n(8542)),o=n(512),s=n(2376),a=function(t,e){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},a(t,e)};function u(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function c(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var l,f="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},h=h||{},p=f||self;function d(){}function y(t){var e=typeof t;return e="object"!=e?e:t?Array.isArray(t)?"array":e:"null","array"==e||"object"==e&&"number"==typeof t.length}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++b)}var m="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function E(t,e,n){return E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_,E.apply(null,arguments)}function T(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function I(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function S(){this.s=this.s,this.o=this.o}var A=0,C={};S.prototype.s=!1,S.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0!=A)){var t=g(this);delete C[t]}},S.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var x=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},N=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function O(t){t:{for(var e=$n,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}function D(t){return Array.prototype.concat.apply([],arguments)}function k(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function R(t){return/^[\s\xa0]*$/.test(t)}var P,L=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function M(t,e){return-1!=t.indexOf(e)}function F(t,e){return t<e?-1:t>e?1:0}t:{var j=p.navigator;if(j){var V=j.userAgent;if(V){P=V;break t}}P=""}function U(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function H(t){var e={};for(var n in t)e[n]=t[n];return e}var B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(var o=0;o<B.length;o++)n=B[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function K(t){return K[" "](t),t}function G(t){var e=it;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}K[" "]=d;var z,Y=M(P,"Opera"),$=M(P,"Trident")||M(P,"MSIE"),W=M(P,"Edge"),Q=W||$,X=M(P,"Gecko")&&!(M(P.toLowerCase(),"webkit")&&!M(P,"Edge"))&&!(M(P,"Trident")||M(P,"MSIE"))&&!M(P,"Edge"),Z=M(P.toLowerCase(),"webkit")&&!M(P,"Edge");function J(){var t=p.document;return t?t.documentMode:void 0}t:{var tt="",et=function(){var t=P;return X?/rv:([^\);]+)(\)|;)/.exec(t):W?/Edge\/([\d\.]+)/.exec(t):$?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Z?/WebKit\/(\S+)/.exec(t):Y?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(et&&(tt=et?et[1]:""),$){var nt=J();if(null!=nt&&nt>parseFloat(tt)){z=String(nt);break t}}z=tt}var rt,it={};function ot(){return G((function(){for(var t=0,e=L(String(z)).split("."),n=L("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",s=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;t=F(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||F(0==o[2].length,0==s[2].length)||F(o[2],s[2]),o=o[3],s=s[3]}while(0==t)}return 0<=t}))}if(p.document&&$){var st=J();rt=st||(parseInt(z,10)||void 0)}else rt=void 0;var at=rt,ut=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{p.addEventListener("test",d,e),p.removeEventListener("test",d,e)}catch(n){}return t}();function ct(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function lt(t,e){if(ct.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(X){t:{try{K(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:ft[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&lt.Z.h.call(this)}}ct.prototype.h=function(){this.defaultPrevented=!0},I(lt,ct);var ft={2:"touch",3:"pen",4:"mouse"};lt.prototype.h=function(){lt.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ht="closure_listenable_"+(1e6*Math.random()|0),pt=0;function dt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++pt,this.ca=this.fa=!1}function yt(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function vt(t){this.src=t,this.g={},this.h=0}function gt(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=x(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(yt(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function mt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}vt.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=mt(t,e,r,i);return-1<s?(e=t[s],n||(e.fa=!1)):(e=new dt(e,this.src,o,!!r,i),e.fa=n,t.push(e)),e};var bt="closure_lm_"+(1e6*Math.random()|0),wt={};function _t(t,e,n,r,i){if(r&&r.once)return It(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)_t(t,e[o],n,r,i);return null}return n=Dt(n),t&&t[ht]?t.N(e,n,v(r)?!!r.capture:!!r,i):Et(t,e,n,!1,r,i)}function Et(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=v(i)?!!i.capture:!!i,a=Nt(t);if(a||(t[bt]=a=new vt(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=Tt(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ut||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ct(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Tt(){function t(n){return e.call(t.src,t.listener,n)}var e=xt;return t}function It(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)It(t,e[o],n,r,i);return null}return n=Dt(n),t&&t[ht]?t.O(e,n,v(r)?!!r.capture:!!r,i):Et(t,e,n,!0,r,i)}function St(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)St(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=Dt(n),t&&t[ht]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=mt(o,n,r,i),-1<n&&(yt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--)))):t&&(t=Nt(t))&&(e=t.g[e.toString()],t=-1,e&&(t=mt(e,n,r,i)),(n=-1<t?e[t]:null)&&At(n))}function At(t){if("number"!==typeof t&&t&&!t.ca){var e=t.src;if(e&&e[ht])gt(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ct(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Nt(e))?(gt(n,t),0==n.h&&(n.src=null,e[bt]=null)):yt(t)}}}function Ct(t){return t in wt?wt[t]:wt[t]="on"+t}function xt(t,e){if(t.ca)t=!0;else{e=new lt(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&At(t),t=n.call(r,e)}return t}function Nt(t){return t=t[bt],t instanceof vt?t:null}var Ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dt(t){return"function"===typeof t?t:(t[Ot]||(t[Ot]=function(e){return t.handleEvent(e)}),t[Ot])}function kt(){S.call(this),this.i=new vt(this),this.P=this,this.I=null}function Rt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"===typeof e)e=new ct(e,t);else if(e instanceof ct)e.target=e.target||t;else{var i=e;e=new ct(r,t),q(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=Pt(s,r,!0,e)&&i}if(s=e.g=t,i=Pt(s,r,!0,e)&&i,i=Pt(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=Pt(s,r,!1,e)&&i}function Pt(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,u=s.ia||s.src;s.fa&&gt(t.i,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}I(kt,S),kt.prototype[ht]=!0,kt.prototype.removeEventListener=function(t,e,n,r){St(this,t,e,n,r)},kt.prototype.M=function(){if(kt.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)yt(n[r]);delete e.g[t],e.h--}}this.I=null},kt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},kt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Lt=p.JSON.stringify;function Mt(){var t=Gt,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Ft,jt=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Vt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Vt=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},t}())((function(){return new Ut}),(function(t){return t.reset()})),Ut=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Ht(t){p.setTimeout((function(){throw t}),0)}function Bt(t,e){Ft||qt(),Kt||(Ft(),Kt=!0),Gt.add(t,e)}function qt(){var t=p.Promise.resolve(void 0);Ft=function(){t.then(zt)}}var Kt=!1,Gt=new jt;function zt(){for(var t;t=Mt();){try{t.h.call(t.g)}catch(n){Ht(n)}var e=Vt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Kt=!1}function Yt(t,e){kt.call(this),this.h=t||1,this.g=e||p,this.j=E(this.kb,this),this.l=Date.now()}function $t(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Wt(t,e,n){if("function"===typeof t)n&&(t=E(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=E(t.handleEvent,t)}return 2147483647<Number(e)?-1:p.setTimeout(t,e||0)}function Qt(t){t.g=Wt((function(){t.g=null,t.i&&(t.i=!1,Qt(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}I(Yt,kt),l=Yt.prototype,l.da=!1,l.S=null,l.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Rt(this,"tick"),this.da&&($t(this),this.start()))}},l.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},l.M=function(){Yt.Z.M.call(this),$t(this),delete this.g};var Xt=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return u(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Qt(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(S);function Zt(t){S.call(this),this.h=t,this.g={}}I(Zt,S);var Jt=[];function te(t,e,n,r){Array.isArray(n)||(n&&(Jt[0]=n.toString()),n=Jt);for(var i=0;i<n.length;i++){var o=_t(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function ee(t){U(t.g,(function(t,e){this.g.hasOwnProperty(e)&&At(t)}),t),t.g={}}function ne(){this.g=!0}function re(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");s=2<=f.length&&"type"==f[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}function ie(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}function oe(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+ae(t,n)+(r?" "+r:"")}))}function se(t,e){t.info((function(){return"TIMEOUT: "+e}))}function ae(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Lt(n)}catch(a){return e}}Zt.prototype.M=function(){Zt.Z.M.call(this),ee(this)},Zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ne.prototype.Aa=function(){this.g=!1},ne.prototype.info=function(){};var ue={},ce=null;function le(){return ce=ce||new kt}function fe(t){ct.call(this,ue.Ma,t)}function he(t){var e=le();Rt(e,new fe(e,t))}function pe(t,e){ct.call(this,ue.STAT_EVENT,t),this.stat=e}function de(t){var e=le();Rt(e,new pe(e,t))}function ye(t,e){ct.call(this,ue.Na,t),this.size=e}function ve(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return p.setTimeout((function(){t()}),e)}ue.Ma="serverreachability",I(fe,ct),ue.STAT_EVENT="statevent",I(pe,ct),ue.Na="timingevent",I(ye,ct);var ge={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},me={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function be(){}function we(t){return t.h||(t.h=t.i())}function _e(){}be.prototype.h=null;var Ee,Te={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ie(){ct.call(this,"d")}function Se(){ct.call(this,"c")}function Ae(){}function Ce(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Zt(this),this.P=Ne,t=Q?125:void 0,this.W=new Yt(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new xe}function xe(){this.i=null,this.g="",this.h=!1}I(Ie,ct),I(Se,ct),I(Ae,be),Ae.prototype.g=function(){return new XMLHttpRequest},Ae.prototype.i=function(){return{}},Ee=new Ae;var Ne=45e3,Oe={},De={};function ke(t,e,n){t.K=1,t.v=rn(Xe(e)),t.s=n,t.U=!0,Re(t,null)}function Re(t,e){t.F=Date.now(),Fe(t),t.A=Xe(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),bn(n.h,"t",r),t.C=0,n=t.l.H,t.h=new xe,t.g=Sr(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Xt(E(t.Ia,t,t.g),t.O)),te(t.V,t.g,"readystatechange",t.gb),e=t.H?H(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),he(1),re(t.j,t.u,t.A,t.m,t.X,t.s)}function Pe(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Ba)}function Le(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if(r=Me(t,n),r==De){4==e&&(t.o=4,de(14),i=!1),oe(t.j,t.m,null,"[Incomplete Response]");break}if(r==Oe){t.o=4,de(15),oe(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}oe(t.j,t.m,r,null),Be(t,r)}Pe(t)&&r!=De&&r!=Oe&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,de(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),gr(e),e.L=!0,de(11))):(oe(t.j,t.m,n,"[Invalid Chunked Response]"),He(t),Ue(t))}function Me(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?De:(n=Number(e.substring(n,r)),isNaN(n)?Oe:(r+=1,r+n>e.length?De:(e=e.substr(r,n),t.C=r+n,e)))}function Fe(t){t.Y=Date.now()+t.P,je(t,t.P)}function je(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ve(E(t.eb,t),e)}function Ve(t){t.B&&(p.clearTimeout(t.B),t.B=null)}function Ue(t){0==t.l.G||t.I||wr(t.l,t)}function He(t){Ve(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,$t(t.W),ee(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Be(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Cn(n.i,t)))if(n.I=t.N,!t.J&&Cn(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;br(n),ar(n)}vr(n),de(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ve(E(n.ab,n),6e3));if(1>=An(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else Er(n,11)}else if((t.J||n.g==t)&&br(n),!R(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var s=o[3];null!=s&&(n.ma=s,n.h.info("VER="+n.ma));var a=o[4];null!=a&&(n.za=a,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(M(l,"spdy")||M(l,"quic")||M(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(xn(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,nn(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var p=t;if(r.oa=Ir(r,r.H?r.la:null,r.W),p.J){Nn(r.i,p);var d=p,y=r.K;y&&d.setTimeout(y),d.B&&(Ve(d),Fe(d)),r.g=p}else yr(r);0<n.l.length&&lr(n)}else"stop"!=o[0]&&"close"!=o[0]||Er(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?Er(n,7):sr(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}he(4)}catch(o){}}function qe(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"===typeof t)return t.split("");if(y(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Ke(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(y(t)||"string"===typeof t)N(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(y(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=qe(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ge(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ge)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ze(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ye(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],Ye(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Ye(t,e){return Object.prototype.hasOwnProperty.call(t,e)}l=Ce.prototype,l.setTimeout=function(t){this.P=t},l.gb=function(t){t=t.target;var e=this.L;e&&3==tr(t)?e.l():this.Ia(t)},l.Ia=function(t){try{if(t==this.g)t:{var e=tr(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||Q||this.g&&(this.h.h||this.g.ga()||er(this.g)))){this.I||4!=e||7==n||he(8==n||0>=r?3:2),Ve(this);var i=this.g.ba();this.N=i;e:if(Pe(this)){var o=er(this.g);t="";var s=o.length,a=4==tr(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){He(this),Ue(this);var u="";break e}this.h.i=new p.TextDecoder}for(n=0;n<s;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:a&&n==s-1});o.splice(0,s),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,ie(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(c)){var f=c;break e}}f=null}if(!(i=f)){this.i=!1,this.o=3,de(12),He(this),Ue(this);break t}oe(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Be(this,i)}this.U?(Le(this,e,u),Q&&this.i&&3==e&&(te(this.V,this.W,"tick",this.fb),this.W.start())):(oe(this.j,this.m,u,null),Be(this,u)),4==e&&He(this),this.i&&!this.I&&(4==e?wr(this.l,this):(this.i=!1,Fe(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,de(12)):(this.o=0,de(13)),He(this),Ue(this)}}}catch(e){}},l.fb=function(){if(this.g){var t=tr(this.g),e=this.g.ga();this.C<e.length&&(Ve(this),Le(this,t,e),this.i&&4!=t&&Fe(this))}},l.cancel=function(){this.I=!0,He(this)},l.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(se(this.j,this.A),2!=this.K&&(he(3),de(17)),He(this),this.o=2,Ue(this)):je(this,this.Y-t)},l=Ge.prototype,l.R=function(){ze(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},l.T=function(){return ze(this),this.g.concat()},l.get=function(t,e){return Ye(this.h,t)?this.h[t]:e},l.set=function(t,e){Ye(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},l.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var $e=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function We(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Qe(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Qe){this.g=void 0!==e?e:t.g,Ze(this,t.j),this.s=t.s,Je(this,t.i),tn(this,t.m),this.l=t.l,e=t.h;var n=new yn;n.i=e.i,e.g&&(n.g=new Ge(e.g),n.h=e.h),en(this,n),this.o=t.o}else t&&(n=String(t).match($e))?(this.g=!!e,Ze(this,n[1]||"",!0),this.s=an(n[2]||""),Je(this,n[3]||"",!0),tn(this,n[4]),this.l=an(n[5]||"",!0),en(this,n[6]||"",!0),this.o=an(n[7]||"")):(this.g=!!e,this.h=new yn(null,this.g))}function Xe(t){return new Qe(t)}function Ze(t,e,n){t.j=n?an(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Je(t,e,n){t.i=n?an(e,!0):e}function tn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function en(t,e,n){e instanceof yn?(t.h=e,_n(t.h,t.g)):(n||(e=un(e,pn)),t.h=new yn(e,t.g))}function nn(t,e,n){t.h.set(e,n)}function rn(t){return nn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function on(t){return t instanceof Qe?Xe(t):new Qe(t,void 0)}function sn(t,e,n,r){var i=new Qe(null,void 0);return t&&Ze(i,t),e&&Je(i,e),n&&tn(i,n),r&&(i.l=r),i}function an(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function un(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,cn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function cn(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}Qe.prototype.toString=function(){var t=[],e=this.j;e&&t.push(un(e,ln,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(un(e,ln,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,null!=n&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(un(n,"/"==n.charAt(0)?hn:fn,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",un(n,dn)),t.join("")};var ln=/[#\/\?@]/g,fn=/[#\?:]/g,hn=/[#\?]/g,pn=/[#\?@]/g,dn=/#/g;function yn(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function vn(t){t.g||(t.g=new Ge,t.h=0,t.i&&We(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function gn(t,e){vn(t),e=wn(t,e),Ye(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,Ye(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&ze(t)))}function mn(t,e){return vn(t),e=wn(t,e),Ye(t.g.h,e)}function bn(t,e,n){gn(t,e),0<n.length&&(t.i=null,t.g.set(wn(t,e),k(n)),t.h+=n.length)}function wn(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function _n(t,e){e&&!t.j&&(vn(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(gn(this,e),bn(this,n,t))}),t)),t.j=e}l=yn.prototype,l.add=function(t,e){vn(this),this.i=null,t=wn(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},l.forEach=function(t,e){vn(this),this.g.forEach((function(n,r){N(n,(function(n){t.call(e,n,r,this)}),this)}),this)},l.T=function(){vn(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},l.R=function(t){vn(this);var e=[];if("string"===typeof t)mn(this,t)&&(e=D(e,this.g.get(wn(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=D(e,t[n])}return e},l.set=function(t,e){return vn(this),this.i=null,t=wn(this,t),mn(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},l.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e},l.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.i=t.join("&")};var En=function(){function t(t,e){this.h=t,this.g=e}return t}();function Tn(t){this.l=t||In,p.PerformanceNavigationTiming?(t=p.performance.getEntriesByType("navigation"),t=0<t.length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol)):t=!!(p.g&&p.g.Ea&&p.g.Ea()&&p.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var In=10;function Sn(t){return!!t.h||!!t.g&&t.g.size>=t.j}function An(t){return t.h?1:t.g?t.g.size:0}function Cn(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function xn(t,e){t.g?t.g.add(e):t.h=e}function Nn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function On(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=c(t.g.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.D)}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return k(t.i)}function Dn(){}function kn(){this.g=new Dn}function Rn(t,e,n){var r=n||"";try{Ke(t,(function(t,n){var i=t;v(t)&&(i=Lt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Pn(t,e){var n=new ne;if(p.Image){var r=new Image;r.onload=T(Ln,n,r,"TestLoadImage: loaded",!0,e),r.onerror=T(Ln,n,r,"TestLoadImage: error",!1,e),r.onabort=T(Ln,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=T(Ln,n,r,"TestLoadImage: timeout",!1,e),p.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}function Ln(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function Mn(t){this.l=t.$b||null,this.j=t.ib||!1}function Fn(t,e){kt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=jn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Tn.prototype.cancel=function(){var t,e;if(this.i=On(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=c(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Dn.prototype.stringify=function(t){return p.JSON.stringify(t,void 0)},Dn.prototype.parse=function(t){return p.JSON.parse(t,void 0)},I(Mn,be),Mn.prototype.g=function(){return new Fn(this.l,this.j)},Mn.prototype.i=function(t){return function(){return t}}({}),I(Fn,kt);var jn=0;function Vn(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Un(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Hn(t)}function Hn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}l=Fn.prototype,l.open=function(t,e){if(this.readyState!=jn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Hn(this)},l.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||p).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},l.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Un(this)),this.readyState=jn},l.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof p.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Vn(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},l.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Un(this):Hn(this),3==this.readyState&&Vn(this)}},l.Ua=function(t){this.g&&(this.response=this.responseText=t,Un(this))},l.Ta=function(t){this.g&&(this.response=t,Un(this))},l.ha=function(){this.g&&Un(this)},l.setRequestHeader=function(t,e){this.v.append(t,e)},l.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Fn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Bn=p.JSON.parse;function qn(t){kt.call(this),this.headers=new Ge,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Kn,this.K=this.L=!1}I(qn,kt);var Kn="",Gn=/^https?$/i,zn=["POST","PUT"];function Yn(t){return $&&ot()&&"number"===typeof t.timeout&&void 0!==t.ontimeout}function $n(t){return"content-type"==t.toLowerCase()}function Wn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Qn(t),Zn(t)}function Qn(t){t.D||(t.D=!0,Rt(t,"complete"),Rt(t,"error"))}function Xn(t){if(t.h&&"undefined"!=typeof h&&(!t.C[1]||4!=tr(t)||2!=t.ba()))if(t.v&&4==tr(t))Wt(t.Fa,0,t);else if(Rt(t,"readystatechange"),4==tr(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match($e)[1]||null;if(!o&&p.self&&p.self.location){var s=p.self.location.protocol;o=s.substr(0,s.length-1)}i=!Gn.test(o?o.toLowerCase():"")}e=i}if(e)Rt(t,"complete"),Rt(t,"success");else{t.m=6;try{var a=2<tr(t)?t.g.statusText:""}catch(u){a=""}t.j=a+" ["+t.ba()+"]",Qn(t)}}finally{Zn(t)}}}function Zn(t,e){if(t.g){Jn(t);var n=t.g,r=t.C[0]?d:null;t.g=null,t.C=null,e||Rt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function Jn(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(p.clearTimeout(t.A),t.A=null)}function tr(t){return t.g?t.g.readyState:0}function er(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Kn:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function nr(t){var e="";return U(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function rr(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=nr(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):nn(t,e,n))}function ir(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function or(t){this.za=0,this.l=[],this.h=new ne,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ir("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ir("baseRetryDelayMs",5e3,t),this.$a=ir("retryDelaySeedMs",1e4,t),this.Ya=ir("forwardChannelMaxRetries",2,t),this.ra=ir("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Tn(t&&t.concurrentRequestLimit),this.Ca=new kn,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function sr(t){if(ur(t),3==t.G){var e=t.V++,n=Xe(t.F);nn(n,"SID",t.J),nn(n,"RID",e),nn(n,"TYPE","terminate"),pr(t,n),e=new Ce(t,t.h,e,void 0),e.K=2,e.v=rn(Xe(n)),n=!1,p.navigator&&p.navigator.sendBeacon&&(n=p.navigator.sendBeacon(e.v.toString(),"")),!n&&p.Image&&((new Image).src=e.v,n=!0),n||(e.g=Sr(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Fe(e)}Tr(t)}function ar(t){t.g&&(gr(t),t.g.cancel(),t.g=null)}function ur(t){ar(t),t.u&&(p.clearTimeout(t.u),t.u=null),br(t),t.i.cancel(),t.m&&("number"===typeof t.m&&p.clearTimeout(t.m),t.m=null)}function cr(t,e){t.l.push(new En(t.Za++,e)),3==t.G&&lr(t)}function lr(t){Sn(t.i)||t.m||(t.m=!0,Bt(t.Ha,t),t.C=0)}function fr(t,e){return!(An(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.l=e.D.concat(t.l),!0):!(1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya))&&(t.m=ve(E(t.Ha,t,e),_r(t,t.C)),t.C++,!0))}function hr(t,e){var n;n=e?e.m:t.V++;var r=Xe(t.F);nn(r,"SID",t.J),nn(r,"RID",n),nn(r,"AID",t.U),pr(t,r),t.o&&t.s&&rr(r,t.o,t.s),n=new Ce(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=dr(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),xn(t.i,n),ke(n,r,e)}function pr(t,e){t.j&&Ke({},(function(t,n){nn(e,n,t)}))}function dr(t,e,n){n=Math.min(t.l.length,n);var r=t.j?E(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].h,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(c-=o,0>c)o=Math.max(0,i[u].h-100),a=!1;else try{Rn(l,s,"req"+c+"_")}catch(si){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function yr(t){t.g||t.u||(t.Y=1,Bt(t.Ga,t),t.A=0)}function vr(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=ve(E(t.Ga,t),_r(t,t.A)),t.A++,!0)}function gr(t){null!=t.B&&(p.clearTimeout(t.B),t.B=null)}function mr(t){t.g=new Ce(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Xe(t.oa);nn(e,"RID","rpc"),nn(e,"SID",t.J),nn(e,"CI",t.N?"0":"1"),nn(e,"AID",t.U),pr(t,e),nn(e,"TYPE","xmlhttp"),t.o&&t.s&&rr(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=rn(Xe(e)),n.s=null,n.U=!0,Re(n,t)}function br(t){null!=t.v&&(p.clearTimeout(t.v),t.v=null)}function wr(t,e){var n=null;if(t.g==e){br(t),gr(t),t.g=null;var r=2}else{if(!Cn(t.i,e))return;n=e.D,Nn(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=le(),Rt(r,new ye(r,n,e,i)),lr(t)}else yr(t);else if(i=e.o,3==i||0==i&&0<t.I||!(1==r&&fr(t,e)||2==r&&vr(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Er(t,5);break;case 4:Er(t,10);break;case 3:Er(t,6);break;default:Er(t,2)}}function _r(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Er(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=E(t.jb,t);n||(n=new Qe("//www.google.com/images/cleardot.gif"),p.location&&"http"==p.location.protocol||Ze(n,"https"),rn(n)),Pn(n.toString(),r)}else de(2);t.G=0,t.j&&t.j.va(e),Tr(t),ur(t)}function Tr(t){t.G=0,t.I=-1,t.j&&(0==On(t.i).length&&0==t.l.length||(t.i.i.length=0,k(t.l),t.l.length=0),t.j.ua())}function Ir(t,e,n){var r=on(n);if(""!=r.i)e&&Je(r,e+"."+r.i),tn(r,r.m);else{var i=p.location;r=sn(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&U(t.aa,(function(t,e){nn(r,e,t)})),e=t.D,n=t.sa,e&&n&&nn(r,e,n),nn(r,"VER",t.ma),pr(t,r),r}function Sr(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new qn(new Mn({ib:!0})):new qn(t.qa),e.L=t.H,e}function Ar(){}function Cr(){if($&&!(10<=Number(at)))throw Error("Environmental error: no available transport.")}function xr(t,e){kt.call(this),this.g=new or(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!R(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!R(e)&&(this.g.D=e,t=this.h,null!==t&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Dr(this)}function Nr(t){Ie.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Or(){Se.call(this),this.status=1}function Dr(t){this.g=t}l=qn.prototype,l.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ee.g(),this.C=this.u?we(this.u):we(Ee),this.g.onreadystatechange=E(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Wn(this,o)}t=n||"";var i=new Ge(this.headers);r&&Ke(r,(function(t,e){i.set(e,t)})),r=O(i.T()),n=p.FormData&&t instanceof p.FormData,!(0<=x(zn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Jn(this),0<this.B&&((this.K=Yn(this.g))?(this.g.timeout=this.B,this.g.ontimeout=E(this.pa,this)):this.A=Wt(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Wn(this,o)}},l.pa=function(){"undefined"!=typeof h&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Rt(this,"timeout"),this.abort(8))},l.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Rt(this,"complete"),Rt(this,"abort"),Zn(this))},l.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Zn(this,!0)),qn.Z.M.call(this)},l.Fa=function(){this.s||(this.F||this.v||this.l?Xn(this):this.cb())},l.cb=function(){Xn(this)},l.ba=function(){try{return 2<tr(this)?this.g.status:-1}catch(t){return-1}},l.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},l.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Bn(e)}},l.Da=function(){return this.m},l.La=function(){return"string"===typeof this.j?this.j:String(this.j)},l=or.prototype,l.ma=8,l.G=1,l.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},l.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Ce(this,this.h,t,void 0),n=this.s;if(this.P&&(n?(n=H(n),q(n,this.P)):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(o="__data__"in o.g&&(o=o.g.__data__,"string"===typeof o)?o.length:void 0,void 0===o)break;if(r+=o,4096<r){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=dr(this,e,r),i=Xe(this.F),nn(i,"RID",t),nn(i,"CVER",22),this.D&&nn(i,"X-HTTP-Session-Id",this.D),pr(this,i),this.o&&n&&rr(i,this.o,n),xn(this.i,e),this.Ra&&nn(i,"TYPE","init"),this.ja?(nn(i,"$req",r),nn(i,"SID","null"),e.$=!0,ke(e,i,null)):ke(e,i,r),this.G=2}}else 3==this.G&&(t?hr(this,t):0==this.l.length||Sn(this.i)||hr(this))},l.Ga=function(){if(this.u=null,mr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=ve(E(this.bb,this),t)}},l.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,de(10),ar(this),mr(this))},l.ab=function(){null!=this.v&&(this.v=null,ar(this),vr(this),de(19))},l.jb=function(t){t?(this.h.info("Successfully pinged google.com"),de(2)):(this.h.info("Failed to ping google.com"),de(1))},l=Ar.prototype,l.xa=function(){},l.wa=function(){},l.va=function(){},l.ua=function(){},l.Oa=function(){},Cr.prototype.g=function(t,e){return new xr(t,e)},I(xr,kt),xr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Bt(E(t.hb,t,e))),de(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Ir(t,null,t.W),lr(t)},xr.prototype.close=function(){sr(this.g)},xr.prototype.u=function(t){if("string"===typeof t){var e={};e.__data__=t,cr(this.g,e)}else this.v?(e={},e.__data__=Lt(t),cr(this.g,e)):cr(this.g,t)},xr.prototype.M=function(){this.g.j=null,delete this.j,sr(this.g),delete this.g,xr.Z.M.call(this)},I(Nr,Ie),I(Or,Se),I(Dr,Ar),Dr.prototype.xa=function(){Rt(this.g,"a")},Dr.prototype.wa=function(t){Rt(this.g,new Nr(t))},Dr.prototype.va=function(t){Rt(this.g,new Or(t))},Dr.prototype.ua=function(){Rt(this.g,"b")},Cr.prototype.createWebChannel=Cr.prototype.g,xr.prototype.send=xr.prototype.u,xr.prototype.open=xr.prototype.m,xr.prototype.close=xr.prototype.close,ge.NO_ERROR=0,ge.TIMEOUT=8,ge.HTTP_ERROR=6,me.COMPLETE="complete",_e.EventType=Te,Te.OPEN="a",Te.CLOSE="b",Te.ERROR="c",Te.MESSAGE="d",kt.prototype.listen=kt.prototype.N,qn.prototype.listenOnce=qn.prototype.O,qn.prototype.getLastError=qn.prototype.La,qn.prototype.getLastErrorCode=qn.prototype.Da,qn.prototype.getStatus=qn.prototype.ba,qn.prototype.getResponseJson=qn.prototype.Qa,qn.prototype.getResponseText=qn.prototype.ga,qn.prototype.send=qn.prototype.ea;var kr=function(){return new Cr},Rr=function(){return le()},Pr=ge,Lr=me,Mr=ue,Fr={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},jr=Mn,Vr=_e,Ur=qn,Hr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Hr.o=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Br={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},qr=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,i.C6)(e,t),e}(Error),Kr=new s.Vy("@firebase/firestore");function Gr(){return Kr.logLevel}function zr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Kr.logLevel<=s.$b.DEBUG){var r=e.map(Wr);Kr.debug.apply(Kr,(0,i.fX)(["Firestore (8.10.1): "+t],r))}}function Yr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Kr.logLevel<=s.$b.ERROR){var r=e.map(Wr);Kr.error.apply(Kr,(0,i.fX)(["Firestore (8.10.1): "+t],r))}}function $r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Kr.logLevel<=s.$b.WARN){var r=e.map(Wr);Kr.warn.apply(Kr,(0,i.fX)(["Firestore (8.10.1): "+t],r))}}function Wr(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw Yr(e),new Error(e)}function Xr(t,e){t||Qr()}function Zr(t,e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ti=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Jr(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function ei(t,e){return t<e?-1:t>e?1:0}function ni(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function ri(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ii=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new qr(Br.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new qr(Br.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new qr(Br.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new qr(Br.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?ei(this.nanoseconds,t.nanoseconds):ei(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),oi=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new ii(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ai(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ui(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ci=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Qr(),void 0===n?n=t.length-e:n>t.length-e&&Qr(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),li=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new qr(Br.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(ci),fi=/^[_a-zA-Z][_a-zA-Z0-9]*$/,hi=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return fi.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new qr(Br.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new qr(Br.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new qr(Br.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new qr(Br.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(ci),pi=function(){function t(t){this.fields=t,t.sort(hi.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return ni(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),di=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return ei(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();di.EMPTY_BYTE_STRING=new di("");var yi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(t){if(Xr(!!t),"string"==typeof t){var e=0,n=yi.exec(t);if(Xr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:gi(t.seconds),nanos:gi(t.nanos)}}function gi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function mi(t){return"string"==typeof t?di.fromBase64String(t):di.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function wi(t){var e=t.mapValue.fields.__previous_value__;return bi(e)?wi(e):e}function _i(t){var e=vi(t.mapValue.fields.__local_write_time__.timestampValue);return new ii(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t){return null==t}function Ti(t){return 0===t&&1/t==-1/0}function Ii(t){return"number"==typeof t&&Number.isInteger(t)&&!Ti(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Si=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(li.fromString(e))},t.fromName=function(e){return new t(li.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===li.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return li.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new li(e.slice()))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ai(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bi(t)?4:10:Qr()}function Ci(t,e){var n=Ai(t);if(n!==Ai(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _i(t).isEqual(_i(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=vi(t.timestampValue),r=vi(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return mi(t.bytesValue).isEqual(mi(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return gi(t.geoPointValue.latitude)===gi(e.geoPointValue.latitude)&&gi(t.geoPointValue.longitude)===gi(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return gi(t.integerValue)===gi(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=gi(t.doubleValue),r=gi(e.doubleValue);return n===r?Ti(n)===Ti(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ni(t.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(si(n)!==si(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ci(n[i],r[i])))return!1;return!0}(t,e);default:return Qr()}}function xi(t,e){return void 0!==(t.values||[]).find((function(t){return Ci(t,e)}))}function Ni(t,e){var n=Ai(t),r=Ai(e);if(n!==r)return ei(n,r);switch(n){case 0:return 0;case 1:return ei(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=gi(t.integerValue||t.doubleValue),r=gi(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Oi(t.timestampValue,e.timestampValue);case 4:return Oi(_i(t),_i(e));case 5:return ei(t.stringValue,e.stringValue);case 6:return function(t,e){var n=mi(t),r=mi(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=ei(n[i],r[i]);if(0!==o)return o}return ei(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=ei(gi(t.latitude),gi(e.latitude));return 0!==n?n:ei(gi(t.longitude),gi(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Ni(n[i],r[i]);if(o)return o}return ei(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=ei(r[s],o[s]);if(0!==a)return a;var u=Ni(n[r[s]],i[o[s]]);if(0!==u)return u}return ei(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Qr()}}function Oi(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return ei(t,e);var n=vi(t),r=vi(e),i=ei(n.seconds,r.seconds);return 0!==i?i:ei(n.nanos,r.nanos)}function Di(t){return ki(t)}function ki(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=vi(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?mi(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Si.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=ki(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+ki(t.fields[o])}return e+"}"}(t.mapValue):Qr();var e,n}function Ri(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function Pi(t){return!!t&&"integerValue"in t}function Li(t){return!!t&&"arrayValue"in t}function Mi(t){return!!t&&"nullValue"in t}function Fi(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ji(t){return!!t&&"mapValue"in t}function Vi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return ai(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=Vi(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Vi(t.arrayValue.values[r]);return n}return Object.assign({},t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ui=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!ji(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vi(e)},t.prototype.setAll=function(t){var e=this,n=hi.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var s=e.getFieldsMap(n);e.applyChanges(s,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=Vi(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());ji(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return Ci(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];ji(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){ai(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete t[o]}},t.prototype.clone=function(){return new t(Vi(this.value))},t}();function Hi(t){var e=[];return ai(t.fields,(function(t,n){var r=new hi([t]);if(ji(n)){var i=Hi(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new pi(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Bi=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,oi.min(),Ui.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Ui.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Ui.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Ui.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Ui.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),qi=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new qi(t,e,n,r,i,o,s)}function Gi(t){var e=Zr(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Di(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),Ei(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=io(e.startAt)),e.endAt&&(n+="|ub:",n+=io(e.endAt)),e.h=n}return e.h}function zi(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!so(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Ci(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uo(t.startAt,e.startAt)&&uo(t.endAt,e.endAt)}function Yi(t){return Si.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var $i=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,i.C6)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Wi(t,n,r):"array-contains"===n?new Ji(t,r):"in"===n?new to(t,r):"not-in"===n?new eo(t,r):"array-contains-any"===n?new no(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Qi(t,n):new Xi(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Ni(e,this.value)):null!==e&&Ai(this.value)===Ai(e)&&this.m(Ni(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Qr()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Wi=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Si.fromName(r.referenceValue),i}return(0,i.C6)(e,t),e.prototype.matches=function(t){var e=Si.comparator(t.key,this.key);return this.m(e)},e}($i),Qi=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Zi("in",n),r}return(0,i.C6)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}($i),Xi=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Zi("not-in",n),r}return(0,i.C6)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}($i);function Zi(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return Si.fromName(t.referenceValue)}))}var Ji=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,i.C6)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Li(e)&&xi(e.arrayValue,this.value)},e}($i),to=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,i.C6)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&xi(this.value.arrayValue,e)},e}($i),eo=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,i.C6)(e,t),e.prototype.matches=function(t){if(xi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!xi(this.value.arrayValue,e)},e}($i),no=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,i.C6)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Li(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return xi(e.value.arrayValue,t)}))},e}($i),ro=function(t,e){this.position=t,this.before=e};function io(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Di(t)})).join(",")}var oo=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function so(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function ao(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?Si.comparator(Si.fromName(s.referenceValue),n.key):Ni(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function uo(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ci(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var co=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null,this.startAt,this.endAt};function lo(t,e,n,r,i,o,s,a){return new co(t,e,n,r,i,o,s,a)}function fo(t){return new co(t)}function ho(t){return!Ei(t.limit)&&"F"===t.limitType}function po(t){return!Ei(t.limit)&&"L"===t.limitType}function yo(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function vo(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function go(t){return null!==t.collectionGroup}function mo(t){var e=Zr(t);if(null===e.p){e.p=[];var n=vo(e),r=yo(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new oo(n)),e.p.push(new oo(hi.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new oo(hi.keyField(),u))}}}return e.p}function bo(t){var e=Zr(t);if(!e.T)if("F"===e.limitType)e.T=Ki(e.path,e.collectionGroup,mo(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=mo(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new oo(o.field,s))}var a=e.endAt?new ro(e.endAt.position,!e.endAt.before):null,u=e.startAt?new ro(e.startAt.position,!e.startAt.before):null;e.T=Ki(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.T}function wo(t,e,n){return new co(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function _o(t,e){return zi(bo(t),bo(e))&&t.limitType===e.limitType}function Eo(t){return Gi(bo(t))+"|lt:"+t.limitType}function To(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Di(e.value);var e})).join(", ")+"]"),Ei(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+io(t.startAt)),t.endAt&&(e+=", endAt: "+io(t.endAt)),"Target("+e+")"}(bo(t))+"; limitType="+t.limitType+")"}function Io(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Si.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ao(t.startAt,mo(t),e))&&(!t.endAt||!ao(t.endAt,mo(t),e))}(t,e)}function So(t){return function(e,n){for(var r=!1,i=0,o=mo(t);i<o.length;i++){var s=o[i],a=Ao(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function Ao(t,e,n){var r=t.field.isKeyField()?Si.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Ni(r,i):Qr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Qr()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ti(e)?"-0":e}}function xo(t){return{integerValue:""+t}}function No(t,e){return Ii(e)?xo(e):Co(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oo=function(){this._=void 0};function Do(t,e,n){return t instanceof Po?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Lo?Mo(t,e):t instanceof Fo?jo(t,e):function(t,e){var n=Ro(t,e),r=Uo(n)+Uo(t.A);return Pi(n)&&Pi(t.A)?xo(r):Co(t.R,r)}(t,e)}function ko(t,e,n){return t instanceof Lo?Mo(t,e):t instanceof Fo?jo(t,e):n}function Ro(t,e){return t instanceof Vo?Pi(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Po=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),e}(Oo),Lo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,i.C6)(e,t),e}(Oo);function Mo(t,e){for(var n=Ho(e),r=function(t){n.some((function(e){return Ci(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Fo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,i.C6)(e,t),e}(Oo);function jo(t,e){for(var n=Ho(e),r=function(t){n=n.filter((function(e){return!Ci(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Vo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,i.C6)(e,t),e}(Oo);function Uo(t){return gi(t.integerValue||t.doubleValue)}function Ho(t){return Li(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bo=function(t,e){this.field=t,this.transform=e},qo=function(t,e){this.version=t,this.transformResults=e},Ko=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Go(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var zo=function(){};function Yo(t,e,n){t instanceof Zo?function(t,e,n){var r=t.value.clone(),i=es(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Jo?function(t,e,n){if(Go(t.precondition,e)){var r=es(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(ts(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function $o(t,e,n){t instanceof Zo?function(t,e,n){if(Go(t.precondition,e)){var r=t.value.clone(),i=ns(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Xo(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Jo?function(t,e,n){if(Go(t.precondition,e)){var r=ns(t.fieldTransforms,n,e),i=e.data;i.setAll(ts(t)),i.setAll(r),e.convertToFoundDocument(Xo(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Go(t.precondition,e)&&e.convertToNoDocument(oi.min())}(t,e)}function Wo(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Ro(o.transform,s||null);null!=a&&(null==n&&(n=Ui.empty()),n.set(o.field,a))}return n||null}function Qo(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&ni(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Lo&&e instanceof Lo||t instanceof Fo&&e instanceof Fo?ni(t.elements,e.elements,Ci):t instanceof Vo&&e instanceof Vo?Ci(t.A,e.A):t instanceof Po&&e instanceof Po}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Xo(t){return t.isFoundDocument()?t.version:oi.min()}var Zo=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,i.C6)(e,t),e}(zo),Jo=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return(0,i.C6)(e,t),e}(zo);function ts(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function es(t,e,n){var r=new Map;Xr(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,ko(s,a,n[i]))}return r}function ns(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,Do(a,u,e))}return r}var rs,is,os=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,i.C6)(e,t),e}(zo),ss=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,i.C6)(e,t),e}(zo),as=function(t){this.count=t};function us(t){switch(t){case Br.OK:return Qr();case Br.CANCELLED:case Br.UNKNOWN:case Br.DEADLINE_EXCEEDED:case Br.RESOURCE_EXHAUSTED:case Br.INTERNAL:case Br.UNAVAILABLE:case Br.UNAUTHENTICATED:return!1;case Br.INVALID_ARGUMENT:case Br.NOT_FOUND:case Br.ALREADY_EXISTS:case Br.PERMISSION_DENIED:case Br.FAILED_PRECONDITION:case Br.ABORTED:case Br.OUT_OF_RANGE:case Br.UNIMPLEMENTED:case Br.DATA_LOSS:return!0;default:return Qr()}}function cs(t){if(void 0===t)return Yr("GRPC error has no .code"),Br.UNKNOWN;switch(t){case rs.OK:return Br.OK;case rs.CANCELLED:return Br.CANCELLED;case rs.UNKNOWN:return Br.UNKNOWN;case rs.DEADLINE_EXCEEDED:return Br.DEADLINE_EXCEEDED;case rs.RESOURCE_EXHAUSTED:return Br.RESOURCE_EXHAUSTED;case rs.INTERNAL:return Br.INTERNAL;case rs.UNAVAILABLE:return Br.UNAVAILABLE;case rs.UNAUTHENTICATED:return Br.UNAUTHENTICATED;case rs.INVALID_ARGUMENT:return Br.INVALID_ARGUMENT;case rs.NOT_FOUND:return Br.NOT_FOUND;case rs.ALREADY_EXISTS:return Br.ALREADY_EXISTS;case rs.PERMISSION_DENIED:return Br.PERMISSION_DENIED;case rs.FAILED_PRECONDITION:return Br.FAILED_PRECONDITION;case rs.ABORTED:return Br.ABORTED;case rs.OUT_OF_RANGE:return Br.OUT_OF_RANGE;case rs.UNIMPLEMENTED:return Br.UNIMPLEMENTED;case rs.DATA_LOSS:return Br.DATA_LOSS;default:return Qr()}}(is=rs||(rs={}))[is.OK=0]="OK",is[is.CANCELLED=1]="CANCELLED",is[is.UNKNOWN=2]="UNKNOWN",is[is.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",is[is.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",is[is.NOT_FOUND=5]="NOT_FOUND",is[is.ALREADY_EXISTS=6]="ALREADY_EXISTS",is[is.PERMISSION_DENIED=7]="PERMISSION_DENIED",is[is.UNAUTHENTICATED=16]="UNAUTHENTICATED",is[is.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",is[is.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",is[is.ABORTED=10]="ABORTED",is[is.OUT_OF_RANGE=11]="OUT_OF_RANGE",is[is.UNIMPLEMENTED=12]="UNIMPLEMENTED",is[is.INTERNAL=13]="INTERNAL",is[is.UNAVAILABLE=14]="UNAVAILABLE",is[is.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ls=function(){function t(t,e){this.comparator=t,this.root=e||hs.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hs.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hs.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new fs(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new fs(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new fs(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new fs(this.root,t,this.comparator,!0)},t}(),fs=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),hs=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Qr();if(this.right.isRed())throw Qr();var t=this.left.check();if(t!==this.right.check())throw Qr();return t+(this.isRed()?0:1)},t}();hs.EMPTY=null,hs.RED=!0,hs.BLACK=!1,hs.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Qr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Qr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Qr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Qr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Qr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new hs(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ps=function(){function t(t){this.comparator=t,this.data=new ls(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new ds(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new ds(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),ds=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),ys=new ls(Si.comparator);function vs(){return ys}var gs=new ls(Si.comparator);function ms(){return gs}var bs=new ls(Si.comparator);function ws(){return bs}var _s=new ps(Si.comparator);function Es(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=_s,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Ts=new ps(ei);function Is(){return Ts}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ss=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,As.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(oi.min(),r,Is(),vs(),Es())},t}(),As=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(di.EMPTY_BYTE_STRING,n,Es(),Es(),Es())},t}(),Cs=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},xs=function(t,e){this.targetId=t,this.V=e},Ns=function(t,e,n,r){void 0===n&&(n=di.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Os=function(){function t(){this.S=0,this.D=Rs(),this.C=di.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=Es(),e=Es(),n=Es();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Qr()}})),new As(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=Rs()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),Ds=function(){function t(t){this.W=t,this.G=new Map,this.H=vs(),this.J=ks(),this.Y=new ps(ei)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Qr()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Yi(i))if(0===n){var o=new Si(i.path);this.tt(e,o,Bi.newNoDocument(o,oi.min()))}else Xr(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&Yi(o.target)){var s=new Si(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Bi.newNoDocument(s,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=Es();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Ss(t,n,this.Y,this.H,r);return this.H=vs(),this.J=ks(),this.Y=new ps(ei),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Os,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new ps(ei),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||zr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Os),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function ks(){return new ls(Si.comparator)}function Rs(){return new ls(Si.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ps={asc:"ASCENDING",desc:"DESCENDING"},Ls={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ms=function(t,e){this.databaseId=t,this.I=e};function Fs(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function js(t,e){return t.I?e.toBase64():e.toUint8Array()}function Vs(t,e){return Fs(t,e.toTimestamp())}function Us(t){return Xr(!!t),oi.fromTimestamp(function(t){var e=vi(t);return new ii(e.seconds,e.nanos)}(t))}function Hs(t,e){return function(t){return new li(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Bs(t){var e=li.fromString(t);return Xr(ha(e)),e}function qs(t,e){return Hs(t.databaseId,e.path)}function Ks(t,e){var n=Bs(e);if(n.get(1)!==t.databaseId.projectId)throw new qr(Br.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new qr(Br.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Si($s(n))}function Gs(t,e){return Hs(t.databaseId,e)}function zs(t){var e=Bs(t);return 4===e.length?li.emptyPath():$s(e)}function Ys(t){return new li(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $s(t){return Xr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Ws(t,e,n){return{name:qs(t,e),fields:n.value.mapValue.fields}}function Qs(t,e,n){var r=Ks(t,e.name),i=Us(e.updateTime),o=new Ui({mapValue:{fields:e.fields}}),s=Bi.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Xs(t,e){var n;if(e instanceof Zo)n={update:Ws(t,e.key,e.value)};else if(e instanceof os)n={delete:qs(t,e.key)};else if(e instanceof Jo)n={update:Ws(t,e.key,e.data),updateMask:fa(e.fieldMask)};else{if(!(e instanceof ss))return Qr();n={verify:qs(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Po)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Lo)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Fo)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Vo)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Qr()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Vs(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Qr()}(t,e.precondition)),n}function Zs(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ko.updateTime(Us(t.updateTime)):void 0!==t.exists?Ko.exists(t.exists):Ko.none()}(e.currentDocument):Ko.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Xr("REQUEST_TIME"===e.setToServerValue),n=new Po;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Lo(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Fo(i)}else"increment"in e?n=new Vo(t,e.increment):Qr();var o=hi.fromServerFormat(e.fieldPath);return new Bo(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=Ks(t,e.update.name),o=new Ui({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){var e=t.fieldPaths||[];return new pi(e.map((function(t){return hi.fromServerFormat(t)})))}(e.updateMask);return new Jo(i,o,s,n,r)}return new Zo(i,o,n,r)}if(e.delete){var a=Ks(t,e.delete);return new os(a,n)}if(e.verify){var u=Ks(t,e.verify);return new ss(u,n)}return Qr()}function Js(t,e){return{documents:[Gs(t,e.path)]}}function ta(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Gs(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Gs(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Fi(t.value))return{unaryFilter:{field:aa(t.field),op:"IS_NAN"}};if(Mi(t.value))return{unaryFilter:{field:aa(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Fi(t.value))return{unaryFilter:{field:aa(t.field),op:"IS_NOT_NAN"}};if(Mi(t.value))return{unaryFilter:{field:aa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:aa(t.field),op:sa(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:aa(t.field),direction:oa(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||Ei(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=ra(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ra(e.endAt)),n}function ea(t){var e=zs(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Xr(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=na(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new oo(ua(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Ei(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=ia(n.startAt));var l=null;return n.endAt&&(l=ia(n.endAt)),lo(e,i,a,s,u,"F",c,l)}function na(t){return t?void 0!==t.unaryFilter?[la(t)]:void 0!==t.fieldFilter?[ca(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return na(t)})).reduce((function(t,e){return t.concat(e)})):Qr():[]}function ra(t){return{before:t.before,values:t.position}}function ia(t){var e=!!t.before,n=t.values||[];return new ro(n,e)}function oa(t){return Ps[t]}function sa(t){return Ls[t]}function aa(t){return{fieldPath:t.canonicalString()}}function ua(t){return hi.fromServerFormat(t.fieldPath)}function ca(t){return $i.create(ua(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Qr()}}(t.fieldFilter.op),t.fieldFilter.value)}function la(t){switch(t.unaryFilter.op){case"IS_NAN":var e=ua(t.unaryFilter.field);return $i.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=ua(t.unaryFilter.field);return $i.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ua(t.unaryFilter.field);return $i.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ua(t.unaryFilter.field);return $i.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Qr()}}function fa(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function ha(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pa(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ya(e)),e=da(t.get(n),e);return ya(e)}function da(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function ya(t){return t+""}function va(t){var e=t.length;if(Xr(e>=2),2===e)return Xr(""===t.charAt(0)&&""===t.charAt(1)),li.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&Qr(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:Qr()}o=s+2}return new li(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ga=function(t,e){this.seconds=t,this.nanoseconds=e},ma=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};ma.store="owner",ma.key="owner";var ba=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ba.store="mutationQueues",ba.keyPath="userId";var wa=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};wa.store="mutations",wa.keyPath="batchId",wa.userMutationsIndex="userMutationsIndex",wa.userMutationsKeyPath=["userId","batchId"];var _a=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,pa(e)]},t.key=function(t,e,n){return[t,pa(e),n]},t}();_a.store="documentMutations",_a.PLACEHOLDER=new _a;var Ea=function(t,e){this.path=t,this.readTime=e},Ta=function(t,e){this.path=t,this.version=e},Ia=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Ia.store="remoteDocuments",Ia.readTimeIndex="readTimeIndex",Ia.readTimeIndexPath="readTime",Ia.collectionReadTimeIndex="collectionReadTimeIndex",Ia.collectionReadTimeIndexPath=["parentPath","readTime"];var Sa=function(t){this.byteSize=t};Sa.store="remoteDocumentGlobal",Sa.key="remoteDocumentGlobalKey";var Aa=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Aa.store="targets",Aa.keyPath="targetId",Aa.queryTargetsIndexName="queryTargetsIndex",Aa.queryTargetsKeyPath=["canonicalId","targetId"];var Ca=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Ca.store="targetDocuments",Ca.keyPath=["targetId","path"],Ca.documentTargetsIndex="documentTargetsIndex",Ca.documentTargetsKeyPath=["path","targetId"];var xa=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};xa.key="targetGlobalKey",xa.store="targetGlobal";var Na=function(t,e){this.collectionId=t,this.parent=e};Na.store="collectionParents",Na.keyPath=["collectionId","parent"];var Oa=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Oa.store="clientMetadata",Oa.keyPath="clientId";var Da=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Da.store="bundles",Da.keyPath="bundleId";var ka=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};ka.store="namedQueries",ka.keyPath="name";var Ra=(0,i.fX)((0,i.fX)([],(0,i.fX)((0,i.fX)([],(0,i.fX)((0,i.fX)([],(0,i.fX)((0,i.fX)([],[ba.store,wa.store,_a.store,Ia.store,Aa.store,ma.store,xa.store,Ca.store]),[Oa.store])),[Sa.store])),[Na.store])),[Da.store,ka.store]),Pa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",La=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),Ma=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Fa=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Qr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),ja=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new Ma,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Ha(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=za(e.target.error);n.ft.reject(new Ha(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Ha(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(zr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new qa(e)},t}(),Va=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,o.ZQ)())&&Yr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return zr("SimpleDb","Removing database:",t),Ka(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,o.ZQ)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t={NODE_ENV:"production",BASE_URL:"/"})||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,i.sH)(this,void 0,void 0,(function(){var e,n=this;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(zr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Ha(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new qr(Br.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Ha(t,n))},i.onupgradeneeded=function(t){zr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){zr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,i.sH)(this,void 0,void 0,(function(){var o,s,a,u,c;return(0,i.YH)(this,(function(l){switch(l.label){case 0:o="readonly"===e,s=0,a=function(){var e,a,c,l,f;return(0,i.YH)(this,(function(i){switch(i.label){case 0:++s,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,u.At(t)];case 2:return u.db=i.sent(),e=ja.open(u.db,t,o?"readonly":"readwrite",n),a=r(e).catch((function(t){return e.abort(t),Fa.reject(t)})).toPromise(),c={},a.catch((function(){})),[4,e.dt];case 3:return[2,(c.value=(i.sent(),a),c)];case 4:return l=i.sent(),f="FirebaseError"!==l.name&&s<3,zr("SimpleDb","Transaction failed with error:",l.message,"Retrying:",f),u.close(),f?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},u=this,l.label=1;case 1:return[5,a()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Ua=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Ka(this.Pt.delete())},t}(),Ha=function(t){function e(e,n){var r=this;return(r=t.call(this,Br.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,i.C6)(e,t),e}(qr);function Ba(t){return"IndexedDbTransactionError"===t.name}var qa=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(zr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(zr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ka(n)},t.prototype.add=function(t){return zr("SimpleDb","ADD",this.store.name,t,t),Ka(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ka(this.store.get(t)).next((function(n){return void 0===n&&(n=null),zr("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return zr("SimpleDb","DELETE",this.store.name,t),Ka(this.store.delete(t))},t.prototype.count=function(){return zr("SimpleDb","COUNT",this.store.name),Ka(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.kt=function(t,e){zr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new Fa((function(n,r){e.onerror=function(t){var e=za(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new Fa((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new Ua(i),s=e(i.primaryKey,i.value,o);if(s instanceof Fa){var a=s.catch((function(t){return o.done(),Fa.reject(t)}));n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return Fa.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ka(t){return new Fa((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=za(t.target.error);n(e)}}))}var Ga=!1;function za(t){var e=Va._t((0,o.ZQ)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new qr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Ga||(Ga=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ya=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,i.C6)(e,t),e}(La);function $a(t,e){var n=Zr(t);return Va.It(n.Mt,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wa=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Yo(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&$o(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&$o(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(oi.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Es())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&ni(this.mutations,t.mutations,(function(t,e){return Qo(t,e)}))&&ni(this.baseMutations,t.baseMutations,(function(t,e){return Qo(t,e)}))},t}(),Qa=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Xr(e.mutations.length===r.length);for(var i=ws(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),Xa=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=oi.min()),void 0===o&&(o=oi.min()),void 0===s&&(s=di.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Za=function(t){this.Lt=t};function Ja(t,e){if(e.document)return Qs(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Si.fromSegments(e.noDocument.path),r=iu(e.noDocument.readTime),i=Bi.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=Si.fromSegments(e.unknownDocument.path);return r=iu(e.unknownDocument.version),Bi.newUnknownDocument(o,r)}return Qr()}function tu(t,e,n){var r=eu(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:qs(t,e.key),fields:e.data.value.mapValue.fields,updateTime:Fs(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new Ia(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=ru(e.version);return s=e.hasCommittedMutations,new Ia(null,new Ea(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=ru(e.version);return new Ia(new Ta(c,l),null,null,!0,r,i)}return Qr()}function eu(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function nu(t){var e=new ii(t[0],t[1]);return oi.fromTimestamp(e)}function ru(t){var e=t.toTimestamp();return new ga(e.seconds,e.nanoseconds)}function iu(t){var e=new ii(t.seconds,t.nanoseconds);return oi.fromTimestamp(e)}function ou(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Zs(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var s=e.mutations.map((function(e){return Zs(t.Lt,e)})),a=ii.fromMillis(e.localWriteTimeMs);return new Wa(e.batchId,a,n,s)}function su(t){var e,n,r=iu(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?iu(t.lastLimboFreeSnapshotVersion):oi.min();return void 0!==t.query.documents?(Xr(1===(n=t.query).documents.length),e=bo(fo(zs(n.documents[0])))):e=function(t){return bo(ea(t))}(t.query),new Xa(e,t.targetId,0,t.lastListenSequenceNumber,r,i,di.fromBase64String(t.resumeToken))}function au(t,e){var n,r=ru(e.snapshotVersion),i=ru(e.lastLimboFreeSnapshotVersion);n=Yi(e.target)?Js(t.Lt,e.target):ta(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Aa(e.targetId,Gi(e.target),r,o,e.sequenceNumber,i,n)}function uu(t){var e=ea({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?wo(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cu=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return lu(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:iu(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return lu(t).put({bundleId:(n=e).id,createTime:ru(Us(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return fu(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:uu(e.bundledQuery),readTime:iu(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return fu(t).put(function(t){return{name:t.name,readTime:ru(Us(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function lu(t){return $a(t,Da.store)}function fu(t){return $a(t,ka.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hu=function(){function t(){this.Bt=new pu}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Fa.resolve()},t.prototype.getCollectionParents=function(t,e){return Fa.resolve(this.Bt.getEntries(e))},t}(),pu=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new ps(li.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new ps(li.comparator)).toArray()},t}(),du=function(){function t(){this.qt=new pu}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:pa(i)};return yu(t).put(o)}return Fa.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[ri(e),""],!1,!0);return yu(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(va(o.parent))}return n}))},t}();function yu(t){return $a(t,Na.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gu=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t,e,n){var r=t.store(wa.store),i=t.store(_a.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.$t({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Xr(1===a)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],p=_a.key(e,h.key.path,n.batchId);o.push(i.delete(p)),c.push(h.key)}return Fa.waitFor(o).next((function(){return c}))}function bu(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Qr();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gu.DEFAULT_COLLECTION_PERCENTILE=10,gu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gu.DEFAULT=new gu(41943040,gu.DEFAULT_COLLECTION_PERCENTILE,gu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gu.DISABLED=new gu(-1,0,0);var wu=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Xr(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Eu(t).$t({index:wa.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Tu(t),s=Eu(t);return s.add({}).next((function(a){Xr("number"==typeof a);for(var u=new Wa(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Xs(t.Lt,e)})),i=n.mutations.map((function(e){return Xs(t.Lt,e)}));return new wa(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],f=new ps((function(t,e){return ei(t.canonicalString(),e.canonicalString())})),h=0,p=r;h<p.length;h++){var d=p[h],y=_a.key(i.userId,d.key.path,a);f=f.add(d.key.path.popLast()),l.push(s.put(c)),l.push(o.put(y,_a.PLACEHOLDER))}return f.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Kt[a]=u.keys()})),Fa.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Eu(t).get(e).next((function(t){return t?(Xr(t.userId===n.userId),ou(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?Fa.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Eu(t).$t({index:wa.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Xr(e.batchId>=r),o=ou(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Eu(t).$t({index:wa.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Eu(t).Nt(wa.userMutationsIndex,n).next((function(t){return t.map((function(t){return ou(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=_a.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Tu(t).$t({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],l=va(u);if(a===n.userId&&e.path.isEqual(l))return Eu(t).get(c).next((function(t){if(!t)throw Qr();Xr(t.userId===n.userId),o.push(ou(n.R,t))}));s.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ps(ei),i=[];return e.forEach((function(e){var o=_a.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=Tu(t).$t({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=va(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),Fa.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=_a.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new ps(ei);return Tu(t).$t({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],l=va(u);s===n.userId&&r.isPrefixOf(l)?l.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Wt(t,a)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Eu(t).get(e).next((function(t){if(null===t)throw Qr();Xr(t.userId===n.userId),r.push(ou(n.R,t))})))})),Fa.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return mu(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),Fa.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return Fa.resolve();var r=IDBKeyRange.lowerBound(_a.prefixForUser(e.userId)),i=[];return Tu(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=va(t[1]);i.push(o)}else r.done()})).next((function(){Xr(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return _u(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return Iu(t).get(this.userId).next((function(t){return t||new ba(e.userId,-1,"")}))},t}();function _u(t,e,n){var r=_a.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Tu(t).$t({range:o,Ft:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function Eu(t){return $a(t,wa.store)}function Tu(t){return $a(t,_a.store)}function Iu(t){return $a(t,ba.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Su=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Au=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new Su(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return oi.fromTimestamp(new ii(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return Cu(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return Xr(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Cu(t).$t((function(s,a){var u=su(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return Fa.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return Cu(t).$t((function(t,n){var r=su(n);e(r)}))},t.prototype.Xt=function(t){return xu(t).get(xa.key).next((function(t){return Xr(null!==t),t}))},t.prototype.Zt=function(t,e){return xu(t).put(xa.key,e)},t.prototype.te=function(t,e){return Cu(t).put(au(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=Gi(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Cu(t).$t({range:r,index:Aa.queryTargetsIndexName},(function(t,n,r){var o=su(n);zi(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Nu(t);return e.forEach((function(e){var s=pa(e.path);i.push(o.put(new Ca(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))})),Fa.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Nu(t);return Fa.forEach(e,(function(e){var o=pa(e.path);return Fa.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Nu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Nu(t),i=Es();return r.$t({range:n,Ft:!0},(function(t,e,n){var r=va(t[1]),o=new Si(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=pa(e.path),r=IDBKeyRange.bound([n],[ri(n)],!1,!0),i=0;return Nu(t).$t({index:Ca.documentTargetsIndex,Ft:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return Cu(t).get(e).next((function(t){return t?su(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t){return $a(t,Aa.store)}function xu(t){return $a(t,xa.store)}function Nu(t){return $a(t,Ca.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(t){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){if(t.code!==Br.FAILED_PRECONDITION||t.message!==Pa)throw t;return zr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=ei(n,i);return 0===s?ei(r,o):s}var ku=function(){function t(t){this.ne=t,this.buffer=new ps(Du),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Du(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Ru=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;zr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,i.sH)(e,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Ba(e=n.sent())?(zr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Ou(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Pu=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Fa.resolve(Hr.o);var r=new ku(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(zr("LruGarbageCollector","Garbage collection skipped; disabled"),Fa.resolve(vu)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(zr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),vu):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,a,u,c,l=this,f=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>l.params.maximumSequenceNumbersToCollect?(zr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),r=l.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),l.nthSequenceNumber(t,r)})).next((function(r){return n=r,a=Date.now(),l.removeTargets(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.removeOrphanedDocuments(t,n)})).next((function(t){return c=Date.now(),Gr()<=s.$b.DEBUG&&zr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-f)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-f)+"ms"),Fa.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),Lu=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Pu(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return Mu(t,n)},t.prototype.removeReference=function(t,e,n){return Mu(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return Mu(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return Iu(t).Ot((function(r){return _u(t,r,e).next((function(t){return t&&(n=!0),Fa.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(s,a){if(a<=e){var u=n._e(t,s).next((function(e){if(!e)return o++,r.getEntry(t,s).next((function(){return r.removeEntry(s),Nu(t).delete([0,pa(s.path)])}))}));i.push(u)}})).next((function(){return Fa.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Mu(t,e)},t.prototype.we=function(t,e){var n,r=Nu(t),i=Hr.o;return r.$t({index:Ca.documentTargetsIndex},(function(t,r){var o=t[0];t[1];var s=r.path,a=r.sequenceNumber;0===o?(i!==Hr.o&&e(new Si(va(n)),i),i=a,n=s):i=Hr.o})).next((function(){i!==Hr.o&&e(new Si(va(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function Mu(t,e){return Nu(t).put(function(t,e){return new Ca(0,pa(t.path),e)}(e,t.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fu=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.equalsFn(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){ai(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype.isEmpty=function(){return ui(this.inner)},t}(),ju=function(){function t(){this.changes=new Fu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:oi.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Bi.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Fa.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Vu=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Bu(t).put(qu(e),n)},t.prototype.removeEntry=function(t,e){var n=Bu(t),r=qu(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return Bu(t).get(qu(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return Bu(t).get(qu(e)).next((function(t){return{document:n.ye(e,t),size:bu(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=vs();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=vs(),i=new ls(Si.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,bu(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Fa.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Bu(t).$t({range:r},(function(t,e,r){for(var s=Si.fromSegments(t);o&&Si.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=vs(),o=e.path.length+1,s={};if(n.isEqual(oi.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=eu(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Ia.collectionReadTimeIndex}return Bu(t).$t(s,(function(t,n,s){if(t.length===o){var a=Ja(r.R,n);e.path.isPrefixOf(a.key.path)?Io(e,a)&&(i=i.insert(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new Uu(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Hu(t).get(Sa.key).next((function(t){return Xr(!!t),t}))},t.prototype.me=function(t,e){return Hu(t).put(Sa.key,e)},t.prototype.ye=function(t,e){if(e){var n=Ja(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(oi.min()))return n}return Bi.newInvalidDocument(t)},t}(),Uu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Fu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return(0,i.C6)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new ps((function(t,e){return ei(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=tu(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=bu(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=tu(e.Ie.R,Bi.newNoDocument(o,oi.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),Fa.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(ju);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t){return $a(t,Sa.store)}function Bu(t){return $a(t,Ia.store)}function qu(t){return t.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ku=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Xr(n<r&&n>=0&&r<=11);var o=new ja("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(ma.store)}(t),function(t){t.createObjectStore(ba.store,{keyPath:ba.keyPath}),t.createObjectStore(wa.store,{keyPath:wa.keyPath,autoIncrement:!0}).createIndex(wa.userMutationsIndex,wa.userMutationsKeyPath,{unique:!0}),t.createObjectStore(_a.store)}(t),Gu(t),function(t){t.createObjectStore(Ia.store)}(t));var s=Fa.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Ca.store),t.deleteObjectStore(Aa.store),t.deleteObjectStore(xa.store)}(t),Gu(t)),s=s.next((function(){return function(t){var e=t.store(xa.store),n=new xa(0,0,oi.min().toTimestamp(),0);return e.put(xa.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(wa.store).Nt().next((function(n){t.deleteObjectStore(wa.store),t.createObjectStore(wa.store,{keyPath:wa.keyPath,autoIncrement:!0}).createIndex(wa.userMutationsIndex,wa.userMutationsKeyPath,{unique:!0});var r=e.store(wa.store),i=n.map((function(t){return r.put(t)}));return Fa.waitFor(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Oa.store,{keyPath:Oa.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Re(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(Sa.store)}(t),i.be(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ve(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Ia.store);e.createIndex(Ia.readTimeIndex,Ia.readTimeIndexPath,{unique:!1}),e.createIndex(Ia.collectionReadTimeIndex,Ia.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(Da.store,{keyPath:Da.keyPath})}(t),function(t){t.createObjectStore(ka.store,{keyPath:ka.keyPath})}(t)}))),s},t.prototype.be=function(t){var e=0;return t.store(Ia.store).$t((function(t,n){e+=bu(n)})).next((function(){var n=new Sa(e);return t.store(Sa.store).put(Sa.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(ba.store),r=t.store(wa.store);return n.Nt().next((function(n){return Fa.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(wa.userMutationsIndex,i).next((function(r){return Fa.forEach(r,(function(r){Xr(r.userId===n.userId);var i=ou(e.R,r);return mu(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(Ca.store),n=t.store(Ia.store);return t.store(xa.store).get(xa.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new li(n),s=function(t){return[0,pa(t)]}(o);r.push(e.get(s).next((function(n){return n?Fa.resolve():function(n){return e.put(new Ca(0,pa(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Fa.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(Na.store,{keyPath:Na.keyPath});var n=e.store(Na.store),r=new pu,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:pa(i)})}};return e.store(Ia.store).$t({Ft:!0},(function(t,e){var n=new li(t);return i(n.popLast())})).next((function(){return e.store(_a.store).$t({Ft:!0},(function(t,e){t[0];var n=t[1];t[2];var r=va(n);return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(Aa.store);return n.$t((function(t,r){var i=su(r),o=au(e.R,i);return n.put(o)}))},t}();function Gu(t){t.createObjectStore(Ca.store,{keyPath:Ca.keyPath}).createIndex(Ca.documentTargetsIndex,Ca.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Aa.store,{keyPath:Aa.keyPath}).createIndex(Aa.queryTargetsIndexName,Aa.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(xa.store)}var zu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Yu=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new qr(Br.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Lu(this,i),this.Le=n+"main",this.R=new Za(u),this.Be=new Va(this.Le,11,new Ku(this.R)),this.qe=new Au(this.referenceDelegate,this.R),this.Ut=new du,this.Ue=function(t,e){return new Vu(t,e)}(this.R,this.Ut),this.Ke=new cu,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Yr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new qr(Br.FAILED_PRECONDITION,zu);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Hr(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,i.sH)(e,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return(0,i.sH)(e,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return(0,i.sH)(e,void 0,void 0,(function(){return(0,i.YH)(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Wu(e).put(new Oa(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(Ba(e))return zr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return zr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return $u(t).get(ma.key).next((function(t){return Fa.resolve(e.tn(t))}))},t.prototype.en=function(t){return Wu(t).delete(this.clientId)},t.prototype.nn=function(){return(0,i.sH)(this,void 0,void 0,(function(){var t,e,n,r,o=this;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=$a(t,Oa.store);return e.Nt().next((function(t){var n=o.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Fa.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)r=n[e],this.Qe.removeItem(this.on(r.clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Fa.resolve(!0):$u(t).get(ma.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new qr(Br.FAILED_PRECONDITION,zu);return!1}}return!(!e.networkEnabled||!e.inForeground)||Wu(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&zr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return(0,i.sH)(this,void 0,void 0,(function(){var t=this;return(0,i.YH)(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ma.store,Oa.store],(function(e){var n=new Ya(e,Hr.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Wu(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return wu.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;zr("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,Ra,(function(o){return i=new Ya(o,r.Ne?r.Ne.next():Hr.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw Yr("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new qr(Br.FAILED_PRECONDITION,Pa);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return $u(t).get(ma.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new qr(Br.FAILED_PRECONDITION,zu)}))},t.prototype.Ze=function(t){var e=new ma(this.clientId,this.allowTabSynchronization,Date.now());return $u(t).put(ma.key,e)},t.yt=function(){return Va.yt()},t.prototype.Xe=function(t){var e=this,n=$u(t);return n.get(ma.key).next((function(t){return e.tn(t)?(zr("IndexedDbPersistence","Releasing primary lease."),n.delete(ma.key)):Fa.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Yr("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),(0,o.nr)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return zr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Yr("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Yr("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function $u(t){return $a(t,ma.store)}function Wu(t){return $a(t,Oa.store)}function Qu(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Xu=function(t,e){this.progress=t,this.wn=e},Zu=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return Si.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):go(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new Si(e)).next((function(t){var e=ms();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=ms();return this.Ut.getCollectionParents(t,i).next((function(s){return Fa.forEach(s,(function(s){var a=function(t,e){return new co(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Bi.newInvalidDocument(c),r=r.insert(c,l)),$o(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){Io(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=Es(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Jo&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),Ju=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Es(),i=Es(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),tc=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(oi.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var a=i.Cn(e,o);return(ho(e)||po(e))&&i.Nn(e.limitType,a,r,n)?i.Dn(t,e):(Gr()<=s.$b.DEBUG&&zr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),To(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return a.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new ps(So(t));return e.forEach((function(e,r){Io(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Gr()<=s.$b.DEBUG&&zr("QueryEngine","Using full collection scan to execute query:",To(e)),this.Sn.getDocumentsMatchingQuery(t,e,oi.min())},t}(),ec=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new ls(ei),this.Fn=new Fu((function(t){return Gi(t)}),zi),this.$n=oi.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Zu(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.kn)}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(t,e,n,r){return new ec(t,e,n,r)}function rc(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o,s;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return n=Zr(t),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var i;return n._n.getAllMutationBatches(t).next((function(s){return i=s,r=n.persistence.getMutationQueue(e),o=new Zu(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],s=Es(),a=0,u=i;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];s=s.add(h.key)}}for(var p=0,d=e;p<d.length;p++){var y=d[p];r.push(y.batchId);for(var v=0,g=y.mutations;v<g.length;v++){var m=g[v];s=s.add(m.key)}}return o.pn(t,s).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return s=i.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),s)]}}))}))}function ic(t,e){var n=Zr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Fa.resolve();return o.forEach((function(t){s=s.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);Xr(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),s.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function oc(t){var e=Zr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function sc(t,e){var n=Zr(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var s=[];e.targetChanges.forEach((function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Xr(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}}));var a=vs();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),s.push(ac(t,o,e.documentUpdates,r,void 0).next((function(t){a=t}))),!r.isEqual(oi.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));s.push(u)}return Fa.waitFor(s).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,a)})).next((function(){return a}))})).then((function(t){return n.kn=i,t}))}function ac(t,e,n,r,i){var o=Es();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=vs();return n.forEach((function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(oi.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):zr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),o}))}function uc(t,e){var n=Zr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function cc(t,e){var n=Zr(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,Fa.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new Xa(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t}))}function lc(t,e,n){return(0,i.sH)(this,void 0,void 0,(function(){var r,o,s,a;return(0,i.YH)(this,(function(i){switch(i.label){case 0:r=Zr(t),o=r.kn.get(e),s=n?"readwrite":"readwrite-primary",i.label=1;case 1:return i.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,(function(t){return r.persistence.referenceDelegate.removeTarget(t,o)}))];case 2:i.sent(),i.label=3;case 3:return[3,5];case 4:if(!Ba(a=i.sent()))throw a;return zr("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(o.target),[2]}}))}))}function fc(t,e,n){var r=Zr(t),i=oi.min(),o=Es();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Zr(t),i=r.Fn.get(n);return void 0!==i?Fa.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,bo(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:oi.min(),n?o:Es())})).next((function(t){return{documents:t,Bn:o}}))}))}function hc(t,e){var n=Zr(t),r=Zr(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function pc(t){var e=Zr(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Zr(t),i=vs(),o=eu(n),s=Bu(e),a=IDBKeyRange.lowerBound(o,!0);return s.$t({index:Ia.readTimeIndex,range:a},(function(t,e){var n=Ja(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:nu(o)}}))}(e.On,t,e.$n)})).then((function(t){var n=t.wn,r=t.readTime;return e.$n=r,n}))}function dc(t){return(0,i.sH)(this,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(n){return[2,(e=Zr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Bu(t),n=oi.min();return e.$t({index:Ia.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=nu(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$n=t}))]}))}))}function yc(t,e,n,r){return(0,i.sH)(this,void 0,void 0,(function(){var o,s,a,u,c,l,f,h,p,d;return(0,i.YH)(this,(function(i){switch(i.label){case 0:for(o=Zr(t),s=Es(),a=vs(),u=ws(),c=0,l=n;c<l.length;c++)f=l[c],h=e.qn(f.metadata.name),f.document&&(s=s.add(h)),a=a.insert(h,e.Un(f)),u=u.insert(h,e.Kn(f.metadata.readTime));return p=o.On.newChangeBuffer({trackRemovals:!0}),[4,cc(o,function(t){return bo(fo(li.fromString("__bundle__/docs/"+t)))}(r))];case 1:return d=i.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return ac(t,p,a,oi.min(),u).next((function(e){return p.apply(t),e})).next((function(e){return o.qe.removeMatchingKeysForTargetId(t,d.targetId).next((function(){return o.qe.addMatchingKeys(t,s,d.targetId)})).next((function(){return o.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function vc(t,e,n){return void 0===n&&(n=Es()),(0,i.sH)(this,void 0,void 0,(function(){var r,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return[4,cc(t,bo(uu(e.bundledQuery)))];case 1:return r=i.sent(),[2,(o=Zr(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var i=Us(e.readTime);if(r.snapshotVersion.compareTo(i)>=0)return o.Ke.saveNamedQuery(t,e);var s=r.withResumeToken(di.EMPTY_BYTE_STRING,i);return o.kn=o.kn.insert(s.targetId,s),o.qe.updateTargetData(t,s).next((function(){return o.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return o.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return o.Ke.saveNamedQuery(t,e)}))}))]}}))}))
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var gc=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Fa.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:Us(n.createTime)}),Fa.resolve()},t.prototype.getNamedQuery=function(t,e){return Fa.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:uu(t.bundledQuery),readTime:Us(t.readTime)}}(e)),Fa.resolve()},t}(),mc=function(){function t(){this.Wn=new ps(bc.Gn),this.zn=new ps(bc.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new bc(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new bc(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new Si(new li([])),r=new bc(n,t),i=new bc(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new Si(new li([])),n=new bc(e,t),r=new bc(e,t+1),i=Es();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new bc(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),bc=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return Si.comparator(t.key,e.key)||ei(t.ns,e.ns)},t.Hn=function(t,e){return ei(t.ns,e.ns)||Si.comparator(t.key,e.key)},t}(),wc=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new ps(bc.Gn)}return t.prototype.checkEmpty=function(t){return Fa.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Wa(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new bc(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Fa.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Fa.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return Fa.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Fa.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Fa.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new bc(e,0),i=new bc(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),Fa.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new ps(ei);return e.forEach((function(t){var e=new bc(t,0),i=new bc(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),Fa.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Si.isDocumentKey(i)||(i=i.child(""));var o=new bc(new Si(i),0),s=new ps(ei);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)}),o),Fa.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Xr(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Fa.forEach(e.mutations,(function(i){var o=new bc(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new bc(e,0),r=this.rs.firstAfterOrEqual(n);return Fa.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,Fa.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),_c=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new ls(Si.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Fa.resolve(n?n.document.clone():Bi.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=vs();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Bi.newInvalidDocument(t))})),Fa.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=vs(),i=new Si(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.key,u=s.value,c=u.document,l=u.readTime;if(!e.path.isPrefixOf(a.path))break;l.compareTo(n)<=0||Io(e,c)&&(r=r.insert(c.key,c.clone()))}return Fa.resolve(r)},t.prototype.fs=function(t,e){return Fa.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new Ec(this)},t.prototype.getSize=function(t){return Fa.resolve(this.size)},t}(),Ec=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,i.C6)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),Fa.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(ju),Tc=function(){function t(t){this.persistence=t,this.ds=new Fu((function(t){return Gi(t)}),zi),this.lastRemoteSnapshotVersion=oi.min(),this.highestTargetId=0,this.ws=0,this._s=new mc,this.targetCount=0,this.ys=Su.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),Fa.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Fa.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Fa.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Fa.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Fa.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Su(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Fa.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Fa.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Fa.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)})),Fa.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return Fa.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Fa.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Fa.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),Fa.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Fa.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Fa.resolve(n)},t.prototype.containsKey=function(t,e){return Fa.resolve(this._s.containsKey(e))},t}(),Ic=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Hr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Tc(this),this.Ut=new hu,this.Ue=function(t,e){return new _c(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new Za(e),this.Ke=new gc(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new wc(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;zr("MemoryPersistence","Starting transaction:",t);var i=new Sc(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return Fa.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),Sc=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,i.C6)(e,t),e}(La),Ac=function(){function t(t){this.persistence=t,this.As=new mc,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Qr()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Fa.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Fa.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Fa.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Fa.forEach(this.vs,(function(r){var i=Si.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Fa.or([function(){return Fa.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Cc=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t,e){return"firestore_clients_"+t+"_"+e}function Nc(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Oc(t,e){return"firestore_targets_"+t+"_"+e}Cc.UNAUTHENTICATED=new Cc(null),Cc.GOOGLE_CREDENTIALS=new Cc("google-credentials-uid"),Cc.FIRST_PARTY=new Cc("first-party-uid"),Cc.MOCK_USER=new Cc("mock-user");var Dc=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new qr(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Yr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),kc=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new qr(i.error.code,i.error.message)),o?new t(e,i.state,r):(Yr("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Rc=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Is(),s=0;i&&s<r.activeTargetIds.length;++s)i=Ii(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Yr("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Pc=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Yr("SharedClientState","Failed to parse online state: "+e),null)},t}(),Lc=function(){function t(){this.activeTargetIds=Is()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Mc=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new ls(ei),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=xc(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new Lc),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,i.sH)(this,void 0,void 0,(function(){var t,e,n,r,o,s,a,u,c,l,f,h=this;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=i.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(o=this.getItem(xc(this.persistenceKey,r)))&&(s=Rc.Vs(r,o))&&(this.Fs=this.Fs.insert(s.clientId,s));for(this.Qs(),(a=this.storage.getItem(this.Us))&&(u=this.js(a))&&this.Ws(u),c=0,l=this.$s;c<l.length;c++)f=l[c],this.ks(f);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Oc(this.persistenceKey,t));if(n){var r=kc.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Oc(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return zr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){zr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){zr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(zr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Yr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return(0,i.sH)(e,void 0,void 0,(function(){var t,e,r,o,s,a;return(0,i.YH)(this,(function(i){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(o=this.ri(n.key,n.newValue)))return[2,this.oi(o)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(a=function(t){var e=Hr.o;if(null!=t)try{var n=JSON.parse(t);Xr("number"==typeof n),e=n}catch(t){Yr("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Hr.o&&this.sequenceNumberHandler(a);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Dc(this.currentUser,t,e,n),i=Nc(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Nc(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=Oc(this.persistenceKey,t),i=new kc(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Rc.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Dc.Vs(new Cc(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return kc.Vs(r,e)},t.prototype.js=function(t){return Pc.Vs(t)},t.prototype.ii=function(t){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(zr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.syncEngine.hi(s,a).then((function(){n.Fs=r}))},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Is();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),Fc=function(){function t(){this.li=new Lc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Lc,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),jc=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Vc=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){zr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){zr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Uc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Hc=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Bc=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return(0,i.C6)(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise((function(i,o){var s=new Ur;s.listenOnce(Lr.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Pr.NO_ERROR:var e=s.getResponseJson();zr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Pr.TIMEOUT:zr("Connection",'RPC "'+t+'" timed out'),o(new qr(Br.DEADLINE_EXCEEDED,"Request time out"));break;case Pr.HTTP_ERROR:var n=s.getStatus();if(zr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Br).indexOf(e)>=0?e:Br.UNKNOWN}(r.status);o(new qr(a,r.message))}else o(new qr(Br.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new qr(Br.UNAVAILABLE,"Connection failed."));break;default:Qr()}}finally{zr("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=kr(),i=Rr(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new jr({})),this.ki(s.initMessageHeaders,e),(0,o.jZ)()||(0,o.lV)()||(0,o.b8)()||(0,o.lT)()||(0,o.n4)()||(0,o.sr)()||(s.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");zr("Connection","Creating WebChannel: "+a,s);var u=r.createWebChannel(a,s),c=!1,l=!1,f=new Hc({Ei:function(t){l?zr("Connection","Not sending because WebChannel is closed:",t):(c||(zr("Connection","Opening WebChannel transport."),u.open(),c=!0),zr("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(u,Vr.EventType.OPEN,(function(){l||zr("Connection","WebChannel transport opened.")})),h(u,Vr.EventType.CLOSE,(function(){l||(l=!0,zr("Connection","WebChannel transport closed"),f.Vi())})),h(u,Vr.EventType.ERROR,(function(t){l||(l=!0,$r("Connection","WebChannel transport errored:",t),f.Vi(new qr(Br.UNAVAILABLE,"The operation could not be completed")))})),h(u,Vr.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];Xr(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){zr("Connection","WebChannel received error:",i);var o=i.status,s=function(t){var e=rs[t];if(void 0!==e)return cs(e)}(o),a=i.message;void 0===s&&(s=Br.INTERNAL,a="Unknown error status: "+o+" with message "+i.message),l=!0,f.Vi(new qr(s,a)),u.close()}else zr("Connection","WebChannel received:",n),f.Si(n)}})),h(i,Mr.STAT_EVENT,(function(t){t.stat===Fr.PROXY?zr("Connection","Detected buffering proxy"):t.stat===Fr.NOPROXY&&zr("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Pi()}),0),f},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);zr("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(t,i,o,n).then((function(t){return zr("RestConnection","Received: ",t),t}),(function(e){throw $r("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=Uc[t];return this.Di+"/v1/"+e+":"+n},t}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(){return"undefined"!=typeof window?window:null}function Kc(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t){return new Ms(t,!0)}var zc=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&zr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Yc=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new zc(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Br.RESOURCE_EXHAUSTED?(Yr(e.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Br.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new qr(Br.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return(0,i.sH)(t,void 0,void 0,(function(){return(0,i.YH)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return zr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(zr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),$c=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return(0,i.C6)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Qr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Xr(void 0===e||"string"==typeof e),di.fromBase64String(e||"")):(Xr(void 0===e||e instanceof Uint8Array),di.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Br.UNKNOWN:cs(t.code);return new qr(e,t.message||"")}(a);n=new Ns(r,i,o,s||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=Ks(t,r.document.name),o=Us(r.document.updateTime);var a=new Ui({mapValue:{fields:r.document.fields}}),u=(s=Bi.newFoundDocument(i,o,a),r.targetIds||[]),c=r.removedTargetIds||[];n=new Cs(u,c,s.key,s)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=Ks(t,r.document),o=r.readTime?Us(r.readTime):oi.min(),a=Bi.newNoDocument(i,o),s=r.removedTargetIds||[],n=new Cs([],s,a.key,a);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=Ks(t,r.document),o=r.removedTargetIds||[],n=new Cs([],o,i,null);else{if(!("filter"in e))return Qr();e.filter;var l=e.filter;l.targetId,r=l.count||0,i=new as(r),o=l.targetId,n=new xs(o,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return oi.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?oi.min():e.readTime?Us(e.readTime):oi.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Ys(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Yi(r)?{documents:Js(t,r)}:{query:ta(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=js(t,e.resumeToken):e.snapshotVersion.compareTo(oi.min())>0&&(n.readTime=Fs(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Qr()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Ys(this.R),e.removeTarget=t,this.cr(e)},e}(Yc),Wc=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return(0,i.C6)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Xr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Xr(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?Us(t.updateTime):Us(e);return n.isEqual(oi.min())&&(n=Us(e)),new qo(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Us(t.commitTime);return this.listener.Tr(n,e)}return Xr(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Ys(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Xs(e.R,t)}))};this.cr(n)},e}(Yc),Qc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,i.C6)(e,t),e.prototype.br=function(){if(this.Rr)throw new qr(Br.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Br.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new qr(Br.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Br.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new qr(Br.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),Xc=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Yr(e),this.Vr=!1):zr("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Zc=function(t,e,n,r,o){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di((function(t){n.enqueueAndForget((function(){return(0,i.sH)(s,void 0,void 0,(function(){return(0,i.YH)(this,(function(t){switch(t.label){case 0:return al(this)?(zr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,i.sH)(this,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return(e=Zr(t)).Or.add(4),[4,tl(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Jc(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new Xc(n,r)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(t){return(0,i.sH)(this,void 0,void 0,(function(){var e,n;return(0,i.YH)(this,(function(r){switch(r.label){case 0:if(!al(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function tl(t){return(0,i.sH)(this,void 0,void 0,(function(){var e,n;return(0,i.YH)(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function el(t,e){var n=Zr(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),sl(n)?ol(n):El(n).er()&&rl(n,e))}function nl(t,e){var n=Zr(t),r=El(n);n.$r.delete(e),r.er()&&il(n,e),0===n.$r.size&&(r.er()?r.ir():al(n)&&n.Br.set("Unknown"))}function rl(t,e){t.qr.U(e.targetId),El(t).mr(e)}function il(t,e){t.qr.U(e),El(t).yr(e)}function ol(t){t.qr=new Ds({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),El(t).start(),t.Br.Sr()}function sl(t){return al(t)&&!El(t).tr()&&t.$r.size>0}function al(t){return 0===Zr(t).Or.size}function ul(t){t.qr=void 0}function cl(t){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){return t.$r.forEach((function(e,n){rl(t,e)})),[2]}))}))}function ll(t,e){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(n){return ul(t),sl(t)?(t.Br.Nr(e),ol(t)):t.Br.set("Unknown"),[2]}))}))}function fl(t,e,n){return(0,i.sH)(this,void 0,void 0,(function(){var r,o,s;return(0,i.YH)(this,(function(a){switch(a.label){case 0:if(t.Br.set("Online"),!(e instanceof Ns&&2===e.state&&e.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o,s;return(0,i.YH)(this,(function(i){switch(i.label){case 0:n=e.cause,r=0,o=e.targetIds,i.label=1;case 1:return r<o.length?(s=o[r],t.$r.has(s)?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]):[3,5];case 2:i.sent(),t.$r.delete(s),t.qr.removeTarget(s),i.label=3;case 3:i.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),zr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,hl(t,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Cs?t.qr.X(e):e instanceof xs?t.qr.rt(e):t.qr.et(e),n.isEqual(oi.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,oc(t.localStore)];case 8:return o=a.sent(),n.compareTo(o)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(di.EMPTY_BYTE_STRING,n.snapshotVersion)),il(t,e);var r=new Xa(n.target,e,1,n.sequenceNumber);rl(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return zr("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,hl(t,s)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function hl(t,e,n){return(0,i.sH)(this,void 0,void 0,(function(){var r=this;return(0,i.YH)(this,(function(o){switch(o.label){case 0:if(!Ba(e))throw e;return t.Or.add(1),[4,tl(t)];case 1:return o.sent(),t.Br.set("Offline"),n||(n=function(){return oc(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return(0,i.sH)(r,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){switch(e.label){case 0:return zr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Jc(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function pl(t,e){return e().catch((function(n){return hl(t,n,e)}))}function dl(t){return(0,i.sH)(this,void 0,void 0,(function(){var e,n,r,o,s;return(0,i.YH)(this,(function(i){switch(i.label){case 0:e=Zr(t),n=Tl(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,i.label=1;case 1:if(!function(t){return al(t)&&t.Fr.length<10}(e))return[3,7];i.label=2;case 2:return i.trys.push([2,4,,6]),[4,uc(e.localStore,r)];case 3:return null===(o=i.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=o.batchId,function(t,e){t.Fr.push(e);var n=Tl(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,o),[3,6]);case 4:return s=i.sent(),[4,hl(e,s)];case 5:return i.sent(),[3,6];case 6:return[3,1];case 7:return yl(e)&&vl(e),[2]}}))}))}function yl(t){return al(t)&&!Tl(t).tr()&&t.Fr.length>0}function vl(t){Tl(t).start()}function gl(t){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){return Tl(t).Ar(),[2]}))}))}function ml(t){return(0,i.sH)(this,void 0,void 0,(function(){var e,n,r,o;return(0,i.YH)(this,(function(i){for(e=Tl(t),n=0,r=t.Fr;n<r.length;n++)o=r[n],e.Er(o.mutations);return[2]}))}))}function bl(t,e,n){return(0,i.sH)(this,void 0,void 0,(function(){var r,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return r=t.Fr.shift(),o=Qa.from(r,e,n),[4,pl(t,(function(){return t.remoteSyncer.applySuccessfulWrite(o)}))];case 1:return i.sent(),[4,dl(t)];case 2:return i.sent(),[2]}}))}))}function wl(t,e){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(n){switch(n.label){case 0:return e&&Tl(t).pr?[4,function(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return us(r=e.code)&&r!==Br.ABORTED?(n=t.Fr.shift(),Tl(t).sr(),[4,pl(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,dl(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return yl(t)&&vl(t),[2]}}))}))}function _l(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return n=Zr(t),e?(n.Or.delete(2),[4,Jc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,tl(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function El(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Zr(t);return r.br(),new $c(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:cl.bind(null,t),Ri:ll.bind(null,t),_r:fl.bind(null,t)}),t.Mr.push((function(n){return(0,i.sH)(e,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),sl(t)?ol(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),ul(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function Tl(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=Zr(t);return r.br(),new Wc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:gl.bind(null,t),Ri:wl.bind(null,t),Ir:ml.bind(null,t),Tr:bl.bind(null,t)}),t.Mr.push((function(n){return(0,i.sH)(e,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,dl(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(zr("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kr
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Il=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Ma,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new qr(Br.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Sl(t,e){if(Yr("AsyncQueue",e+": "+t),Ba(t))return new qr(Br.UNAVAILABLE,e+": "+t);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Al=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Si.comparator(e.key,n.key)}:function(t,e){return Si.comparator(t.key,e.key)},this.keyedMap=ms(),this.sortedSet=new ls(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Cl=function(){function t(){this.Qr=new ls(Si.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Qr():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),xl=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Al.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_o(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Nl=function(){this.Wr=void 0,this.listeners=[]},Ol=function(){this.queries=new Fu((function(t){return Eo(t)}),_o),this.onlineState="Unknown",this.Gr=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o,s,a,u,c;return(0,i.YH)(this,(function(i){switch(i.label){case 0:if(n=Zr(t),r=e.query,o=!1,(s=n.queries.get(r))||(o=!0,s=new Nl),!o)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),a=s,[4,n.onListen(r)];case 2:return a.Wr=i.sent(),[3,4];case 3:return u=i.sent(),c=Sl(u,"Initialization of query '"+To(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&Ll(n),[2]}}))}))}function kl(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o,s,a;return(0,i.YH)(this,(function(i){return n=Zr(t),r=e.query,o=!1,(s=n.queries.get(r))&&(a=s.listeners.indexOf(e))>=0&&(s.listeners.splice(a,1),o=0===s.listeners.length),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function Rl(t,e){for(var n=Zr(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=s.query,u=n.queries.get(a);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(s)&&(r=!0);u.Wr=s}}r&&Ll(n)}function Pl(t,e,n){var r=Zr(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Ll(t){t.Gr.forEach((function(t){t.next()}))}var Ml=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new xl(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=xl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Fl=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),jl=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Ks(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Qs(this.R,t.document,!1):Bi.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return Us(t)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=Vl(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new jl(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||Es()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,i.sH)(this,void 0,void 0,(function(){var t,e,n,r,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return[4,yc(this.localStore,new jl(this.R),this.documents,this.ro.id)];case 1:t=i.sent(),e=this.co(this.documents),n=0,r=this.queries,i.label=2;case 2:return n<r.length?(o=r[n],[4,vc(this.localStore,o,e.get(o.name))]):[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Xu(Object.assign({},this.progress),t))]}}))}))}})();function Vl(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ul=function(t){this.key=t},Hl=function(t){this.key=t},Bl=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Es(),this.mutatedKeys=Es(),this.lo=So(t),this.fo=new Al(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new Cl,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=ho(this.query)&&i.size===this.query.limit?i.last():null,c=po(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),f=Io(n.query,e)?e:null,h=!!l&&n.mutatedKeys.has(l.key),p=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),d=!1;l&&f?l.data.isEqual(f.data)?h!==p&&(r.track({type:3,doc:f}),d=!0):n.yo(l,f)||(r.track({type:2,doc:f}),d=!0,(u&&n.lo(f,u)>0||c&&n.lo(f,c)<0)&&(a=!0)):!l&&f?(r.track({type:0,doc:f}),d=!0):l&&!f&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(a=!0)),d&&(f?(s=s.add(f),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),ho(this.query)||po(this.query))for(;s.size>this.query.limit;){var l=ho(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qr()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new xl(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new Cl,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Es(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new Hl(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new Ul(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Es();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return xl.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),ql=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Kl=function(t){this.key=t,this.bo=!1},Gl=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Fu((function(t){return Eo(t)}),_o),this.Vo=new Map,this.So=new Set,this.Do=new ls(Si.comparator),this.Co=new Map,this.No=new mc,this.xo={},this.ko=new Map,this.Fo=Su.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function zl(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o,s,a,u;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return n=Ef(t),(s=n.Po.get(e))?(r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),o=s.view.Ro(),[3,4]):[3,1];case 1:return[4,cc(n.localStore,bo(e))];case 2:return a=i.sent(),u=n.sharedClientState.addLocalQueryTarget(a.targetId),r=a.targetId,[4,Yl(n,e,r,"current"===u)];case 3:o=i.sent(),n.isPrimaryClient&&el(n.remoteStore,a),i.label=4;case 4:return[2,o]}}))}))}function Yl(t,e,n,r){return(0,i.sH)(this,void 0,void 0,(function(){var o,s,a,u,c,l;return(0,i.YH)(this,(function(f){switch(f.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return(0,i.sH)(this,void 0,void 0,(function(){var o,s,a;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return o=e.view._o(n),o.Nn?[4,fc(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,o)}))]:[3,2];case 1:o=i.sent(),i.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(o,t.isPrimaryClient,s),[2,(af(t,e.targetId,a.To),a.snapshot)]}}))}))}(t,e,n,r)},[4,fc(t.localStore,e,!0)];case 1:return o=f.sent(),s=new Bl(e,o.Bn),a=s._o(o.documents),u=As.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=s.applyChanges(a,t.isPrimaryClient,u),af(t,n,c.To),l=new ql(e,n,s),[2,(t.Po.set(e,l),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}}))}))}function $l(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return n=Zr(t),r=n.Po.get(e),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter((function(t){return!_o(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,lc(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),nl(n.remoteStore,r.targetId),of(n,r.targetId)})).catch(Ou)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return of(n,r.targetId),[4,lc(n.localStore,r.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))}function Wl(t,e,n){return(0,i.sH)(this,void 0,void 0,(function(){var r,o,s,a;return(0,i.YH)(this,(function(i){switch(i.label){case 0:r=Tf(t),i.label=1;case 1:return i.trys.push([1,5,,6]),[4,function(t,e){var n,r=Zr(t),i=ii.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Es());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Wo(c,n.get(c.key));null!=l&&s.push(new Jo(c.key,l,Hi(l.value.mapValue),Ko.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return o=i.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new ls(ei)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,o.batchId,n),[4,lf(r,o.changes)];case 3:return i.sent(),[4,dl(r.remoteStore)];case 4:return i.sent(),[3,6];case 5:return s=i.sent(),a=Sl(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}function Ql(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r;return(0,i.YH)(this,(function(i){switch(i.label){case 0:n=Zr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,sc(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(Xr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Xr(r.bo):t.removedDocuments.size>0&&(Xr(r.bo),r.bo=!1))})),[4,lf(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Ou(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Xl(t,e,n){var r=Zr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Zr(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&Ll(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Zl(t,e,n){return(0,i.sH)(this,void 0,void 0,(function(){var r,o,s,a,u,c;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return(r=Zr(t)).sharedClientState.updateQueryState(e,"rejected",n),o=r.Co.get(e),(s=o&&o.key)?(a=(a=new ls(Si.comparator)).insert(s,Bi.newNoDocument(s,oi.min())),u=Es().add(s),c=new Ss(oi.min(),new Map,new ps(ei),a,u),[4,Ql(r,c)]):[3,2];case 1:return i.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),cf(r),[3,4];case 2:return[4,lc(r.localStore,e,!1).then((function(){return of(r,e,n)})).catch(Ou)];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))}function Jl(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:n=Zr(t),r=e.batch.batchId,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,ic(n.localStore,e)];case 2:return o=i.sent(),rf(n,r,null),nf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,lf(n,o)];case 3:return i.sent(),[3,6];case 4:return[4,Ou(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function tf(t,e,n){return(0,i.sH)(this,void 0,void 0,(function(){var r,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:r=Zr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,function(t,e){var n=Zr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return Xr(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return o=i.sent(),rf(r,e,n),nf(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,lf(r,o)];case 3:return i.sent(),[3,6];case 4:return[4,Ou(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function ef(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o,s,a;return(0,i.YH)(this,(function(i){switch(i.label){case 0:al((n=Zr(t)).remoteStore)||zr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,function(t){var e=Zr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=i.sent())?[2,void e.resolve()]:((o=n.ko.get(r)||[]).push(e),n.ko.set(r,o),[3,4]);case 3:return s=i.sent(),a=Sl(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(a),[3,4];case 4:return[2]}}))}))}function nf(t,e){(t.ko.get(e)||[]).forEach((function(t){t.resolve()})),t.ko.delete(e)}function rf(t,e,n){var r=Zr(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function of(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||sf(t,e)}))}function sf(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(nl(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),cf(t))}function af(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Ul?(t.No.addReference(o.key,e),uf(t,o)):o instanceof Hl?(zr("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||sf(t,o.key)):Qr()}}function uf(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(zr("SyncEngine","New document in limbo: "+n),t.So.add(r),cf(t))}function cf(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new Si(li.fromString(e)),r=t.Fo.next();t.Co.set(r,new Kl(n)),t.Do=t.Do.insert(n,r),el(t.remoteStore,new Xa(bo(fo(n.path)),r,2,Hr.o))}}function lf(t,e,n){return(0,i.sH)(this,void 0,void 0,(function(){var r,o,s,a;return(0,i.YH)(this,(function(u){switch(u.label){case 0:return r=Zr(t),o=[],s=[],a=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,i){a.push(r.Oo(i,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(i.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=Ju.Pn(i.targetId,t);s.push(e)}})))})),[4,Promise.all(a)]);case 1:return u.sent(),r.vo._r(o),[4,function(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o,s,a,u,c,l,f;return(0,i.YH)(this,(function(i){switch(i.label){case 0:n=Zr(t),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Fa.forEach(e,(function(e){return Fa.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return Fa.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return i.sent(),[3,4];case 3:if(!Ba(r=i.sent()))throw r;return zr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(o=0,s=e;o<s.length;o++)a=s[o],u=a.targetId,a.fromCache||(c=n.kn.get(u),l=c.snapshotVersion,f=c.withLastLimboFreeSnapshotVersion(l),n.kn=n.kn.insert(u,f));return[2]}}))}))}(r.localStore,s)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function ff(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return(n=Zr(t)).currentUser.isEqual(e)?[3,3]:(zr("SyncEngine","User change. New user:",e.toKey()),[4,rc(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.ko.forEach((function(t){t.forEach((function(t){t.reject(new qr(Br.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,lf(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function hf(t,e){var n=Zr(t),r=n.Co.get(e);if(r&&r.bo)return Es().add(r.key);var i=Es(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function pf(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return[4,fc((n=Zr(t)).localStore,e.query,!0)];case 1:return r=i.sent(),o=e.view.Ao(r),[2,(n.isPrimaryClient&&af(n,e.targetId,o.To),o)]}}))}))}function df(t){return(0,i.sH)(this,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(n){return[2,pc((e=Zr(t)).localStore).then((function(t){return lf(e,t)}))]}))}))}function yf(t,e,n,r){return(0,i.sH)(this,void 0,void 0,(function(){var o,s;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return[4,function(t,e){var n=Zr(t),r=Zr(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):Fa.resolve(null)}))}))}((o=Zr(t)).localStore,e)];case 1:return null===(s=i.sent())?[3,6]:"pending"!==n?[3,3]:[4,dl(o.remoteStore)];case 2:return i.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(rf(o,e,r||null),nf(o,e),function(t,e){Zr(Zr(t)._n).Gt(e)}(o.localStore,e)):Qr(),i.label=4;case 4:return[4,lf(o,s)];case 5:return i.sent(),[3,7];case 6:zr("SyncEngine","Cannot apply mutation batch with id: "+e),i.label=7;case 7:return[2]}}))}))}function vf(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o,s,a,u,c,l;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return Ef(n=Zr(t)),Tf(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,gf(n,r.toArray())]);case 1:return o=i.sent(),n.$o=!0,[4,_l(n.remoteStore,!0)];case 2:for(i.sent(),s=0,a=o;s<a.length;s++)u=a[s],el(n.remoteStore,u);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(c=[],l=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?c.push(e):l=l.then((function(){return of(n,e),lc(n.localStore,e,!0)})),nl(n.remoteStore,e)})),[4,l]);case 4:return i.sent(),[4,gf(n,c)];case 5:return i.sent(),function(t){var e=Zr(t);e.Co.forEach((function(t,n){nl(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new ls(Si.comparator)}(n),n.$o=!1,[4,_l(n.remoteStore,!1)];case 6:i.sent(),i.label=7;case 7:return[2]}}))}))}function gf(t,e,n){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o,s,a,u,c,l,f,h,p,d,y,v;return(0,i.YH)(this,(function(i){switch(i.label){case 0:n=Zr(t),r=[],o=[],s=0,a=e,i.label=1;case 1:return s<a.length?(u=a[s],c=void 0,(l=n.Vo.get(u))&&0!==l.length?[4,cc(n.localStore,bo(l[0]))]:[3,7]):[3,13];case 2:c=i.sent(),f=0,h=l,i.label=3;case 3:return f<h.length?(p=h[f],d=n.Po.get(p),[4,pf(n,d)]):[3,6];case 4:(y=i.sent()).snapshot&&o.push(y.snapshot),i.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,hc(n.localStore,u)];case 8:return v=i.sent(),[4,cc(n.localStore,v)];case 9:return c=i.sent(),[4,Yl(n,mf(v),u,!1)];case 10:i.sent(),i.label=11;case 11:r.push(c),i.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(o),r)]}}))}))}function mf(t){return lo(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function bf(t){var e=Zr(t);return Zr(Zr(e.localStore).persistence).fn()}function wf(t,e,n,r){return(0,i.sH)(this,void 0,void 0,(function(){var o,s,a;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return(o=Zr(t)).$o?(zr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,pc(o.localStore)];case 3:return s=i.sent(),a=Ss.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,lf(o,s,a)];case 4:return i.sent(),[3,8];case 5:return[4,lc(o.localStore,e,!0)];case 6:return i.sent(),of(o,e,r),[3,8];case 7:Qr(),i.label=8;case 8:return[2]}}))}))}function _f(t,e,n){return(0,i.sH)(this,void 0,void 0,(function(){var r,o,s,a,u,c,l,f,h,p;return(0,i.YH)(this,(function(d){switch(d.label){case 0:if(!(r=Ef(t)).$o)return[3,10];o=0,s=e,d.label=1;case 1:return o<s.length?(a=s[o],r.Vo.has(a)?(zr("SyncEngine","Adding an already active target "+a),[3,5]):[4,hc(r.localStore,a)]):[3,6];case 2:return u=d.sent(),[4,cc(r.localStore,u)];case 3:return c=d.sent(),[4,Yl(r,mf(u),c.targetId,!1)];case 4:d.sent(),el(r.remoteStore,c),d.label=5;case 5:return o++,[3,1];case 6:l=function(t){return(0,i.YH)(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,lc(r.localStore,t,!1).then((function(){nl(r.remoteStore,t),of(r,t)})).catch(Ou)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},f=0,h=n,d.label=7;case 7:return f<h.length?(p=h[f],[5,l(p)]):[3,10];case 8:d.sent(),d.label=9;case 9:return f++,[3,7];case 10:return[2]}}))}))}function Ef(t){var e=Zr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ql.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hf.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zl.bind(null,e),e.vo._r=Rl.bind(null,e.eventManager),e.vo.Mo=Pl.bind(null,e.eventManager),e}function Tf(t){var e=Zr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Jl.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tf.bind(null,e),e}var If=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){switch(e.label){case 0:return this.R=Gc(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return nc(this.persistence,new tc,t.initialUser,this.R)},t.prototype.qo=function(t){return new Ic(Ac.bs,this.R)},t.prototype.Bo=function(t){return new Fc},t.prototype.terminate=function(){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),Sf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,i.C6)(e,t),e.prototype.initialize=function(e){return(0,i.sH)(this,void 0,void 0,(function(){var n=this;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,dc(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,Tf(this.Qo.syncEngine)];case 4:return r.sent(),[4,dl(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},e.prototype.Ko=function(t){return nc(this.persistence,new tc,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new Ru(e,t.asyncQueue)},e.prototype.qo=function(t){var e=Qu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?gu.withCacheSize(this.cacheSizeBytes):gu.DEFAULT;return new Yu(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,qc(),Kc(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Fc},e}(If),Af=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,i.C6)(e,t),e.prototype.initialize=function(e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r=this;return(0,i.YH)(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof Mc?(this.sharedClientState.syncEngine={ui:yf.bind(null,n),ai:wf.bind(null,n),hi:_f.bind(null,n),fn:bf.bind(null,n),ci:df.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He((function(t){return(0,i.sH)(r,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){switch(e.label){case 0:return[4,vf(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=qc();if(!Mc.yt(e))throw new qr(Br.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Qu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Mc(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Sf),Cf=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n=this;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Xl(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ff.bind(null,this.syncEngine),[4,_l(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new Ol},t.prototype.createDatastore=function(t){var e,n=Gc(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new Bc(e));return function(t,e,n){return new Qc(t,e,n)}(t.credentials,r,n)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Xl(s.syncEngine,t,0)},o=Vc.yt()?new Vc:new jc,new Zc(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Gl(t,e,n,r,i,o);return s&&(a.$o=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,i.sH)(this,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return e=Zr(t),zr("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,tl(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var xf=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Nf=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new Ma,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return(0,i.sH)(this,void 0,void 0,(function(){var t,e,n,r;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Fl(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return(0,i.sH)(this,void 0,void 0,(function(){var t,e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return(0,i.sH)(this,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,i.sH)(this,void 0,void 0,(function(){var t,e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,i.sH)(this,void 0,void 0,(function(){var e,n=this;return(0,i.YH)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new qr(Br.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o,s,a,u;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return n=Zr(t),r=Ys(n.R)+"/documents",o={documents:e.map((function(t){return qs(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,o)];case 1:return s=i.sent(),a=new Map,s.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Xr(!!e.found),e.found.name,e.found.updateTime;var n=Ks(t,e.found.name),r=Us(e.found.updateTime),i=new Ui({mapValue:{fields:e.found.fields}});return Bi.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Xr(!!e.missing),Xr(!!e.readTime);var n=Ks(t,e.missing),r=Us(e.readTime);return Bi.newNoDocument(n,r)}(t,e):Qr()}(n.R,t);a.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=a.get(t.toString());Xr(!!e),u.push(e)})),u)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new os(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,i.sH)(this,void 0,void 0,(function(){var t,e=this;return(0,i.YH)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=Si.fromPath(n);e.mutations.push(new ss(r,e.precondition(r)))})),[4,function(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return n=Zr(t),r=Ys(n.R)+"/documents",o={writes:e.map((function(t){return Xs(n.R,t)}))},[4,n.Ni("Commit",r,o)];case 1:return i.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Qr();e=oi.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new qr(Br.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Ko.updateTime(e):Ko.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(oi.min()))throw new qr(Br.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ko.updateTime(e)}return Ko.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Of=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new zc(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return(0,i.sH)(t,void 0,void 0,(function(){var t,e,n=this;return(0,i.YH)(this,(function(r){return t=new Nf(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Ei(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!us(e)}return!1},t}(),Df=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Cc.UNAUTHENTICATED,this.clientId=ti.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return(0,i.sH)(r,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){switch(e.label){case 0:return zr("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new qr(Br.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new Ma;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,i.sH)(t,void 0,void 0,(function(){var t,n;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Sl(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r,o=this;return(0,i.YH)(this,(function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),zr("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return(0,i.sH)(o,void 0,void 0,(function(){return(0,i.YH)(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,rc(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function Rf(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r;return(0,i.YH)(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,Pf(t)];case 1:return n=o.sent(),zr("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=o.sent(),[4,e.initialize(n,r)];case 3:return o.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return(0,i.sH)(this,void 0,void 0,(function(){var n,r;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return(n=Zr(t)).asyncQueue.verifyOperationInProgress(),zr("RemoteStore","RemoteStore received new credentials"),r=al(n),n.Or.add(3),[4,tl(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Jc(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function Pf(t){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(zr("FirestoreClient","Using default OfflineComponentProvider"),[4,kf(t,new If)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function Lf(t){return(0,i.sH)(this,void 0,void 0,(function(){return(0,i.YH)(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(zr("FirestoreClient","Using default OnlineComponentProvider"),[4,Rf(t,new Cf)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function Mf(t){return Pf(t).then((function(t){return t.persistence}))}function Ff(t){return Pf(t).then((function(t){return t.localStore}))}function jf(t){return Lf(t).then((function(t){return t.remoteStore}))}function Vf(t){return Lf(t).then((function(t){return t.syncEngine}))}function Uf(t){return(0,i.sH)(this,void 0,void 0,(function(){var e,n;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return[4,Lf(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=zl.bind(null,e.syncEngine),n.onUnlisten=$l.bind(null,e.syncEngine),n)]}}))}))}function Hf(t,e,n){var r=this;void 0===n&&(n={});var o=new Ma;return t.asyncQueue.enqueueAndForget((function(){return(0,i.sH)(r,void 0,void 0,(function(){var r;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return r=function(t,e,n,r,i){var o=new xf({next:function(o){e.enqueueAndForget((function(){return kl(t,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new qr(Br.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new qr(Br.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Ml(fo(n.path),o,{includeMetadataChanges:!0,so:!0});return Dl(t,s)},[4,Uf(t)];case 1:return[2,r.apply(void 0,[i.sent(),t.asyncQueue,e,n,o])]}}))}))})),o.promise}function Bf(t,e,n){var r=this;void 0===n&&(n={});var o=new Ma;return t.asyncQueue.enqueueAndForget((function(){return(0,i.sH)(r,void 0,void 0,(function(){var r;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return r=function(t,e,n,r,i){var o=new xf({next:function(n){e.enqueueAndForget((function(){return kl(t,s)})),n.fromCache&&"server"===r.source?i.reject(new qr(Br.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Ml(n,o,{includeMetadataChanges:!0,so:!0});return Dl(t,s)},[4,Uf(t)];case 1:return[2,r.apply(void 0,[i.sent(),t.asyncQueue,e,n,o])]}}))}))})),o.promise}var qf=function(t,e,n,r,i,o,s,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a},Kf=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Gf=new Map,zf=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Yf=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(Cc.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),$f=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Wf=function(){function t(t){var e=this;this.currentUser=Cc.UNAUTHENTICATED,this.oc=new Ma,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){zr("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(zr("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(zr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Xr("string"==typeof n.accessToken),new zf(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return(0,i.sH)(n,void 0,void 0,(function(){return(0,i.YH)(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Xr(null===t||"string"==typeof t),new Cc(t)},t}(),Qf=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=Cc.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Xf=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Qf(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(Cc.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(t,e,n){if(!n)throw new qr(Br.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Jf(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new qr(Br.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function th(t,e,n,r){if(!0===e&&!0===r)throw new qr(Br.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function eh(t){if(!Si.isDocumentKey(t))throw new qr(Br.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function nh(t){if(Si.isDocumentKey(t))throw new qr(Br.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function rh(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Qr()}function ih(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new qr(Br.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=rh(t);throw new qr(Br.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function oh(t,e){if(e<=0)throw new qr(Br.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new qr(Br.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new qr(Br.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,th("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),ah=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sh({}),this._settingsFrozen=!1,t instanceof Kf?(this._databaseId=t,this._credentials=new Yf):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new qr(Br.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kf(t.options.projectId)}(t),this._credentials=new Wf(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new qr(Br.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new qr(Br.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sh(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Yf;switch(t.type){case"gapi":var e=t.client;return Xr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Xf(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new qr(Br.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return t=this,(e=Gf.get(t))&&(zr("ComponentProvider","Removing Datastore"),Gf.delete(t),e.terminate()),Promise.resolve();var t,e},t}(),uh=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new lh(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),ch=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),lh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,fo(r))||this)._path=r,i.type="collection",i}return(0,i.C6)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new uh(this.firestore,null,new Si(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(ch);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t,e){for(var n,r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];if(t=(0,o.Ku)(t),Zf("collection","path",e),t instanceof ah)return nh(n=li.fromString.apply(li,(0,i.fX)([e],r))),new lh(t,null,n);if(!(t instanceof uh||t instanceof lh))throw new qr(Br.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return nh(n=li.fromString.apply(li,(0,i.fX)([t.path],r)).child(li.fromString(e))),new lh(t.firestore,null,n)}function hh(t,e){for(var n,r=[],s=2;s<arguments.length;s++)r[s-2]=arguments[s];if(t=(0,o.Ku)(t),1===arguments.length&&(e=ti.u()),Zf("doc","path",e),t instanceof ah)return eh(n=li.fromString.apply(li,(0,i.fX)([e],r))),new uh(t,null,new Si(n));if(!(t instanceof uh||t instanceof lh))throw new qr(Br.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return eh(n=t._path.child(li.fromString.apply(li,(0,i.fX)([e],r)))),new uh(t.firestore,t instanceof lh?t.converter:null,new Si(n))}function ph(t,e){return t=(0,o.Ku)(t),e=(0,o.Ku)(e),(t instanceof uh||t instanceof lh)&&(e instanceof uh||e instanceof lh)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function dh(t,e){return t=(0,o.Ku)(t),e=(0,o.Ku)(e),t instanceof ch&&e instanceof ch&&t.firestore===e.firestore&&_o(t._query,e._query)&&t.converter===e.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var yh=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new zc(this,"async_queue_retry"),this.Ic=function(){var e=Kc();e&&zr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Kc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=Kc();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new Ma;return this.Rc((function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.bc()}))},t.prototype.bc=function(){return(0,i.sH)(this,void 0,void 0,(function(){var t,e=this;return(0,i.YH)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ba(t=n.sent()))throw t;return zr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.bc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Rc=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,Yr("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=Il.createAndSchedule(this,t,e,n,(function(t){return r.vc(t)}));return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Qr()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,i.sH)(this,void 0,void 0,(function(){var t;return(0,i.YH)(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()}))},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function vh(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}(function(){function t(){this._progressObserver={},this._taskCompletionResolver=new Ma,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}})();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gh=-1,mh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new yh,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,i.C6)(e,t),e.prototype._terminate=function(){return this._firestoreClient||wh(this),this._firestoreClient.terminate()},e}(ah);function bh(t){return t._firestoreClient||wh(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function wh(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new qf(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Df(t._credentials,t._queue,r)}function _h(t,e,n){var r=this,o=new Ma;return t.asyncQueue.enqueue((function(){return(0,i.sH)(r,void 0,void 0,(function(){var r;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,kf(t,n)];case 1:return i.sent(),[4,Rf(t,e)];case 2:return i.sent(),o.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Br.FAILED_PRECONDITION||t.code===Br.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=i.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),o.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return o.promise}))}function Eh(t){if(t._initialized||t._terminated)throw new qr(Br.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Th=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new qr(Br.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hi(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Ih=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(di.fromBase64String(e))}catch(e){throw new qr(Br.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(di.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Sh=function(t){this._methodName=t},Ah=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new qr(Br.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new qr(Br.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return ei(this._lat,t._lat)||ei(this._long,t._long)},t}(),Ch=/^__.*__$/,xh=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Jo(t,this.data,this.fieldMask,e,this.fieldTransforms):new Zo(t,this.data,e,this.fieldTransforms)},t}(),Nh=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Jo(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qr()}}var Dh=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return Xh(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(Oh(this.Nc)&&Ch.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),kh=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Gc(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new Dh({Nc:t,methodName:e,qc:n,path:hi.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Rh(t){var e=t._freezeSettings(),n=Gc(t._databaseId);return new kh(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ph(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);Yh("Data must be an object, but it was:",s,r);var a,u,c=Gh(r,s);if(o.merge)a=new pi(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var p=$h(e,h[f],n);if(!s.contains(p))throw new qr(Br.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Zh(l,p)||l.push(p)}a=new pi(l),u=s.fieldTransforms.filter((function(t){return a.covers(t.field)}))}else a=null,u=s.fieldTransforms;return new xh(new Ui(c),a,u)}var Lh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw 1===t.Nc?t.Lc(this._methodName+"() can only appear at the top level of your update data"):t.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Sh);function Mh(t,e,n){return new Dh({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var Fh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),e.prototype._toFieldTransform=function(t){return new Bo(t.path,new Po)},e.prototype.isEqual=function(t){return t instanceof e},e}(Sh),jh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,i.C6)(e,t),e.prototype._toFieldTransform=function(t){var e=Mh(this,t,!0),n=this.Kc.map((function(t){return Kh(t,e)})),r=new Lo(n);return new Bo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Sh),Vh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,i.C6)(e,t),e.prototype._toFieldTransform=function(t){var e=Mh(this,t,!0),n=this.Kc.map((function(t){return Kh(t,e)})),r=new Fo(n);return new Bo(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Sh),Uh=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return(0,i.C6)(e,t),e.prototype._toFieldTransform=function(t){var e=new Vo(t.R,No(t.R,this.Qc));return new Bo(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Sh);function Hh(t,e,n,r){var i=t.Uc(1,e,n);Yh("Data must be an object, but it was:",i,r);var s=[],a=Ui.empty();ai(r,(function(t,r){var u=Qh(e,t,n);r=(0,o.Ku)(r);var c=i.Oc(u);if(r instanceof Lh)s.push(u);else{var l=Kh(r,c);null!=l&&(s.push(u),a.set(u,l))}}));var u=new pi(s);return new Nh(a,u,i.fieldTransforms)}function Bh(t,e,n,r,i,s){var a=t.Uc(1,e,n),u=[$h(e,r,n)],c=[i];if(s.length%2!=0)throw new qr(Br.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<s.length;l+=2)u.push($h(e,s[l])),c.push(s[l+1]);for(var f=[],h=Ui.empty(),p=u.length-1;p>=0;--p)if(!Zh(f,u[p])){var d=u[p],y=c[p];y=(0,o.Ku)(y);var v=a.Oc(d);if(y instanceof Lh)f.push(d);else{var g=Kh(y,v);null!=g&&(f.push(d),h.set(d,g))}}var m=new pi(f);return new Nh(h,m,a.fieldTransforms)}function qh(t,e,n,r){return void 0===r&&(r=!1),Kh(n,t.Uc(r?4:3,e))}function Kh(t,e){if(zh(t=(0,o.Ku)(t)))return Yh("Unsupported field value:",e,t),Gh(t,e);if(t instanceof Sh)return function(t,e){if(!Oh(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=Kh(o[i],e.Mc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,o.Ku)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return No(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=ii.fromDate(t);return{timestampValue:Fs(e.R,n)}}if(t instanceof ii)return n=new ii(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Fs(e.R,n)};if(t instanceof Ah)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ih)return{bytesValue:js(e.R,t._byteString)};if(t instanceof uh){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Hs(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+rh(t))}(t,e)}function Gh(t,e){var n={};return ui(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ai(t,(function(t,r){var i=Kh(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function zh(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ii||t instanceof Ah||t instanceof Ih||t instanceof uh||t instanceof Sh)}function Yh(t,e,n){if(!zh(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=rh(n);throw"an object"===r?e.Lc(t+" a custom object"):e.Lc(t+" "+r)}}function $h(t,e,n){if((e=(0,o.Ku)(e))instanceof Th)return e._internalPath;if("string"==typeof e)return Qh(t,e);throw Xh("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Wh=new RegExp("[~\\*/\\[\\]]");function Qh(t,e,n){if(e.search(Wh)>=0)throw Xh("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Th.bind.apply(Th,(0,i.fX)([void 0],e.split(".")))))._internalPath}catch(r){throw Xh("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Xh(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new qr(Br.INVALID_ARGUMENT,(a+=". ")+t+u)}function Zh(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jh=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new uh(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new tp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(ep("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),tp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Jh);function ep(t,e){return"string"==typeof e?Qh(t,e):e instanceof Th?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var np=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),rp=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return(0,i.C6)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new ip(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(ep("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Jh),ip=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(rp),op=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new np(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new ip(n._firestore,n._userDataWriter,r.key,r,new np(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new qr(Br.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new ip(t._firestore,t._userDataWriter,e.doc.key,e.doc,new np(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new ip(t._firestore,t._userDataWriter,e.doc.key,e.doc,new np(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:sp(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function sp(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qr()}}function ap(t,e){return t instanceof rp&&e instanceof rp?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof op&&e instanceof op&&t._firestore===e._firestore&&dh(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(t){if(po(t)&&0===t.explicitOrderBy.length)throw new qr(Br.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var cp=function(){};function lp(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var fp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return(0,i.C6)(e,t),e.prototype._apply=function(t){var e=Rh(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new qr(Br.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){mp(s,o);for(var u=[],c=0,l=s;c<l.length;c++){var f=l[c];u.push(gp(r,t,f))}a={arrayValue:{values:u}}}else a=gp(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||mp(s,o),a=qh(n,"where",s,"in"===o||"not-in"===o);var h=$i.create(i,o,a);return function(t,e){if(e.g()){var n=vo(t);if(null!==n&&!n.isEqual(e.field))throw new qr(Br.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=yo(t);null!==r&&bp(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new qr(Br.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new qr(Br.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new ch(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new co(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(cp),hp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return(0,i.C6)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new qr(Br.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new qr(Br.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new oo(e,n);return function(t,e){if(null===yo(t)){var n=vo(t);null!==n&&bp(t,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new ch(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new co(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(cp),pp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return(0,i.C6)(e,t),e.prototype._apply=function(t){return new ch(t.firestore,t.converter,wo(t._query,this.Hc,this.Jc))},e}(cp),dp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,i.C6)(e,t),e.prototype._apply=function(t){var e=vp(t,this.type,this.Yc,this.Xc);return new ch(t.firestore,t.converter,function(t,e){return new co(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(cp),yp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,i.C6)(e,t),e.prototype._apply=function(t){var e=vp(t,this.type,this.Yc,this.Xc);return new ch(t.firestore,t.converter,function(t,e){return new co(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(cp);function vp(t,e,n,r){if(n[0]=(0,o.Ku)(n[0]),n[0]instanceof Jh)return function(t,e,n,r,i){if(!r)throw new qr(Br.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=mo(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(Ri(e,r.key));else{var c=r.data.field(u.field);if(bi(c))throw new qr(Br.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new qr(Br.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ro(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Rh(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new qr(Br.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new qr(Br.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!go(t)&&-1!==c.indexOf("/"))throw new qr(Br.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(li.fromString(c));if(!Si.isDocumentKey(l))throw new qr(Br.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new Si(l);a.push(Ri(e,f))}else{var h=qh(n,r,c);a.push(h)}}return new ro(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function gp(t,e,n){if("string"==typeof(n=(0,o.Ku)(n))){if(""===n)throw new qr(Br.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!go(e)&&-1!==n.indexOf("/"))throw new qr(Br.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(li.fromString(n));if(!Si.isDocumentKey(r))throw new qr(Br.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ri(t,new Si(r))}if(n instanceof uh)return Ri(t,n._key);throw new qr(Br.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+rh(n)+".")}function mp(t,e){if(!Array.isArray(t)||0===t.length)throw new qr(Br.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new qr(Br.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function bp(t,e,n){if(!n.isEqual(e))throw new qr(Br.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wp=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Ai(t)){case 0:return null;case 1:return t.booleanValue;case 2:return gi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(mi(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Qr()}},t.prototype.convertObject=function(t,e){var n=this,r={};return ai(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new Ah(gi(t.latitude),gi(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=wi(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(_i(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=vi(t);return new ii(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=li.fromString(t);Xr(ha(n));var r=new Kf(n.get(1),n.get(3)),i=new Si(n.popFirst(5));return r.isEqual(e)||Yr("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Ep=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,i.C6)(e,t),e.prototype.convertBytes=function(t){return new Ih(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new uh(this.firestore,null,e)},e}(wp),Tp=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Rh(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Ip(t,this._firestore),i=_p(r.converter,e,n),o=Ph(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Ko.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,a=Ip(t,this._firestore);return s="string"==typeof(e=(0,o.Ku)(e))||e instanceof Th?Bh(this._dataReader,"WriteBatch.update",a._key,e,n,r):Hh(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(s.toMutation(a._key,Ko.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Ip(t,this._firestore);return this._mutations=this._mutations.concat(new os(e._key,Ko.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new qr(Br.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(t,e){if((t=(0,o.Ku)(t)).firestore!==e)throw new qr(Br.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,i.C6)(e,t),e.prototype.convertBytes=function(t){return new Ih(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new uh(this.firestore,null,e)},e}(wp);function Ap(t,e,n){t=ih(t,uh);var r=ih(t.firestore,mh),i=_p(t.converter,e,n);return Np(r,[Ph(Rh(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Ko.none())])}function Cp(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=ih(t,uh);var s=ih(t.firestore,mh),a=Rh(s);return Np(s,[("string"==typeof(e=(0,o.Ku)(e))||e instanceof Th?Bh(a,"updateDoc",t._key,e,n,r):Hh(a,"updateDoc",t._key,e)).toMutation(t._key,Ko.exists(!0))])}function xp(t){for(var e,n,r,s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];t=(0,o.Ku)(t);var u={includeMetadataChanges:!1},c=0;"object"!=typeof s[c]||vh(s[c])||(u=s[c],c++);var l,f,h,p={includeMetadataChanges:u.includeMetadataChanges};if(vh(s[c])){var d=s[c];s[c]=null===(e=d.next)||void 0===e?void 0:e.bind(d),s[c+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),s[c+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof uh)f=ih(t.firestore,mh),h=fo(t._key.path),l={next:function(e){s[c]&&s[c](Op(f,t,e))},error:s[c+1],complete:s[c+2]};else{var y=ih(t,ch);f=ih(y.firestore,mh),h=y._query;var v=new Sp(f);l={next:function(t){s[c]&&s[c](new op(f,v,y,t))},error:s[c+1],complete:s[c+2]},up(t._query)}return function(t,e,n,r){var o=this,s=new xf(r),a=new Ml(e,s,n);return t.asyncQueue.enqueueAndForget((function(){return(0,i.sH)(o,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return e=Dl,[4,Uf(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))})),function(){s.Wo(),t.asyncQueue.enqueueAndForget((function(){return(0,i.sH)(o,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return e=kl,[4,Uf(t)];case 1:return[2,e.apply(void 0,[n.sent(),a])]}}))}))}))}}(bh(f),h,p,l)}function Np(t,e){return function(t,e){var n=this,r=new Ma;return t.asyncQueue.enqueueAndForget((function(){return(0,i.sH)(n,void 0,void 0,(function(){var n;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return n=Wl,[4,Vf(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(bh(t),e)}function Op(t,e,n){var r=n.docs.get(e._key),i=new Sp(t);return new rp(t,i,e._key,r,new np(n.hasPendingWrites,n.fromCache),e.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,i.C6)(e,t),e.prototype.get=function(e){var n=this,r=Ip(e,this._firestore),i=new Sp(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new rp(n._firestore,i,r._key,t._document,new np(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Rh(t)}return t.prototype.get=function(t){var e=this,n=Ip(t,this._firestore),r=new Ep(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Qr();var i=t[0];if(i.isFoundDocument())return new Jh(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Jh(e._firestore,r,n._key,null,n.converter);throw Qr()}))},t.prototype.set=function(t,e,n){var r=Ip(t,this._firestore),i=_p(r.converter,e,n),o=Ph(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,a=Ip(t,this._firestore);return s="string"==typeof(e=(0,o.Ku)(e))||e instanceof Th?Bh(this._dataReader,"Transaction.update",a._key,e,n,r):Hh(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,s),this},t.prototype.delete=function(t){var e=Ip(t,this._firestore);return this._transaction.delete(e._key),this},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(){if("undefined"==typeof Uint8Array)throw new qr(Br.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Rp(){if("undefined"==typeof atob)throw new qr(Br.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Pp=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return Rp(),new t(Ih.fromBase64String(e))},t.fromUint8Array=function(e){return kp(),new t(Ih.fromUint8Array(e))},t.prototype.toBase64=function(){return Rp(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return kp(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),Lp=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Eh(t=ih(t,mh));var n=bh(t),r=t._freezeSettings(),i=new Cf;return _h(n,i,new Sf(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Eh(t=ih(t,mh));var e=bh(t),n=t._freezeSettings(),r=new Cf;return _h(e,r,new Af(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new qr(Br.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Ma;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,i.sH)(e,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,i.sH)(this,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return Va.yt()?(e=t+"main",[4,Va.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Qu(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),Mp=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Kf||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||$r("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var i;void 0===r&&(r={});var s=(t=ih(t,ah))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&$r("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:e+":"+n,ssl:!1})),r.mockUserToken){var a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Cc.MOCK_USER;else{a=(0,o.Fy)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new qr(Br.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Cc(c)}t._credentials=new $f(new zf(a,u))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return(0,i.sH)(e,void 0,void 0,(function(){var e,n;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return[4,Mf(t)];case 1:return e=r.sent(),[4,jf(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Zr(t);return e.Or.delete(0),Jc(e)}(n))]}}))}))}))}(bh(ih(this._delegate,mh)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return(0,i.sH)(e,void 0,void 0,(function(){var e,n;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return[4,Mf(t)];case 1:return e=r.sent(),[4,jf(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,i.sH)(this,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return(e=Zr(t)).Or.add(0),[4,tl(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(bh(ih(this._delegate,mh)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&th("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Ma;return t.asyncQueue.enqueueAndForget((function(){return(0,i.sH)(e,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(r){switch(r.label){case 0:return e=ef,[4,Vf(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(bh(ih(this._delegate,mh)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new xf(e);return t.asyncQueue.enqueueAndForget((function(){return(0,i.sH)(n,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Zr(t).Gr.add(e),e.next()},[4,Uf(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return(0,i.sH)(n,void 0,void 0,(function(){var e;return(0,i.YH)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Zr(t).Gr.delete(e)},[4,Uf(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(bh(t=ih(t,mh)),vh(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new qr(Br.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Xp(this,fh(this._delegate,t))}catch(t){throw qp(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new Bp(this,hh(this._delegate,t))}catch(t){throw qp(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new $p(this,function(t,e){if(t=ih(t,ah),Zf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new qr(Br.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new ch(t,null,function(t){return new co(li.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw qp(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Ma;return t.asyncQueue.enqueueAndForget((function(){return(0,i.sH)(n,void 0,void 0,(function(){var n;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return[4,function(t){return Lf(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new Of(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}(bh(t),(function(n){return e(new Dp(t,n))}))}(this._delegate,(function(n){return t(new Vp(e,n))}))},t.prototype.batch=function(){var t=this;return bh(this._delegate),new Up(new Tp(this._delegate,(function(e){return Np(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new qr(Br.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new qr(Br.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),Fp=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,i.C6)(e,t),e.prototype.convertBytes=function(t){return new Pp(new Ih(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return Bp.eu(e,this.firestore,null)},e}(wp);function jp(t){var e;e=t,Kr.setLogLevel(e)}var Vp=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new Fp(t)}return t.prototype.get=function(t){var e=this,n=Zp(t);return this._delegate.get(n).then((function(t){return new zp(e._firestore,new rp(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=Zp(t);return n?(Jf("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=Zp(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,(0,i.fX)([a,e,n],o)),this},t.prototype.delete=function(t){var e=Zp(t);return this._delegate.delete(e),this},t}(),Up=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Zp(t);return n?(Jf("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];var a=Zp(t);return 2===arguments.length?this._delegate.update(a,e):(r=this._delegate).update.apply(r,(0,i.fX)([a,e,n],o)),this},t.prototype.delete=function(t){var e=Zp(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),Hp=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new ip(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Yp(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new Fp(e),n),i.set(n,o)),o},t}();Hp.su=new WeakMap;var Bp=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Fp(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new qr(Br.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new uh(n._delegate,r,new Si(e)))},t.eu=function(e,n,r){return new t(n,new uh(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Xp(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Xp(this.firestore,fh(this._delegate,t))}catch(t){throw qp(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,o.Ku)(t))instanceof uh&&ph(this._delegate,t)},t.prototype.set=function(t,e){e=Jf("DocumentReference.set",e);try{return e?Ap(this._delegate,t,e):Ap(this._delegate,t)}catch(t){throw qp(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Cp(this._delegate,t):Cp.apply(void 0,(0,i.fX)([this._delegate,t,e],n))}catch(t){throw qp(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return Np(ih((t=this._delegate).firestore,mh),[new os(t._key,Ko.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Kp(e),i=Gp(e,(function(e){return new zp(t.firestore,new rp(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return xp(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ih(t,uh);var e=ih(t.firestore,mh),n=bh(e),r=new Sp(e);return function(t,e){var n=this,r=new Ma;return t.asyncQueue.enqueueAndForget((function(){return(0,i.sH)(n,void 0,void 0,(function(){var n;return(0,i.YH)(this,(function(o){switch(o.label){case 0:return n=function(t,e,n){return(0,i.sH)(this,void 0,void 0,(function(){var r,o;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t,e){var n=Zr(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(o=i.sent()).isFoundDocument()?n.resolve(o):o.isNoDocument()?n.resolve(null):n.reject(new qr(Br.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=i.sent(),o=Sl(r,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}}))}))},[4,Ff(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new rp(e,r,t._key,n,new np(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=ih(t,uh);var e=ih(t.firestore,mh);return Hf(bh(e),t._key,{source:"server"}).then((function(n){return Op(e,t,n)}))}(this._delegate):function(t){t=ih(t,uh);var e=ih(t.firestore,mh);return Hf(bh(e),t._key).then((function(n){return Op(e,t,n)}))}(this._delegate)).then((function(t){return new zp(e.firestore,new rp(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Hp.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function qp(t,e,n){return t.message=t.message.replace(e,n),t}function Kp(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!vh(r))return r}return{}}function Gp(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=vh(t[0])?t[0]:vh(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var zp=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new Bp(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return ap(this._delegate,t._delegate)},t}(),Yp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.C6)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(zp),$p=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new Fp(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,lp(this._delegate,function(t,e,n){var r=e,i=ep("where",t);return new fp(i,r,n)}(e,n,r)))}catch(e){throw qp(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,lp(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=ep("orderBy",t);return new hp(r,n)}(e,n)))}catch(e){throw qp(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,lp(this._delegate,function(t){return oh("limit",t),new pp("limit",t,"F")}(e)))}catch(e){throw qp(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,lp(this._delegate,function(t){return oh("limitToLast",t),new pp("limitToLast",t,"L")}(e)))}catch(e){throw qp(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lp(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new dp("startAt",t,!0)}.apply(void 0,e)))}catch(e){throw qp(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lp(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new dp("startAfter",t,!1)}.apply(void 0,e)))}catch(e){throw qp(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lp(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yp("endBefore",t,!0)}.apply(void 0,e)))}catch(e){throw qp(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,lp(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yp("endAt",t,!1)}.apply(void 0,e)))}catch(e){throw qp(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return dh(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=ih(t,ch);var e=ih(t.firestore,mh),n=bh(e),r=new Sp(e);return function(t,e){var n=this,r=new Ma;return t.asyncQueue.enqueueAndForget((function(){return(0,i.sH)(n,void 0,void 0,(function(){var n;return(0,i.YH)(this,(function(o){switch(o.label){case 0:return n=function(t,e,n){return(0,i.sH)(this,void 0,void 0,(function(){var r,o,s,a,u;return(0,i.YH)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,fc(t,e,!0)];case 1:return u=i.sent(),r=new Bl(e,u.Bn),o=r._o(u.documents),s=r.applyChanges(o,!1),n.resolve(s.snapshot),[3,3];case 2:return a=i.sent(),u=Sl(a,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,Ff(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new op(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=ih(t,ch);var e=ih(t.firestore,mh),n=bh(e),r=new Sp(e);return Bf(n,t._query,{source:"server"}).then((function(n){return new op(e,r,t,n)}))}(this._delegate):function(t){t=ih(t,ch);var e=ih(t.firestore,mh),n=bh(e),r=new Sp(e);return up(t._query),Bf(n,t._query).then((function(n){return new op(e,r,t,n)}))}(this._delegate)).then((function(t){return new Qp(e.firestore,new op(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Kp(e),i=Gp(e,(function(e){return new Qp(t.firestore,new op(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return xp(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Hp.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),Wp=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new Yp(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),Qp=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new $p(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new Yp(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new Wp(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new Yp(n._firestore,r))}))},t.prototype.isEqual=function(t){return ap(this._delegate,t._delegate)},t}(),Xp=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,i.C6)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Bp(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Bp(this.firestore,void 0===t?hh(this._delegate):hh(this._delegate,t))}catch(t){throw qp(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=ih(t.firestore,mh),r=hh(t),i=_p(t.converter,e);return Np(n,[Ph(Rh(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Ko.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new Bp(e.firestore,t)}))},e.prototype.isEqual=function(t){return ph(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Hp.nu(this.firestore,t)):this._delegate.withConverter(null))},e}($p);function Zp(t){return ih(t,uh)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jp=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(Th.bind.apply(Th,(0,i.fX)([void 0],t)))}return t.documentId=function(){return new t(hi.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,o.Ku)(t))instanceof Th&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),td=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new Fh("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new Lh("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new jh("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vh("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new Uh("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ed=n(9813),nd={Firestore:Mp,GeoPoint:Ah,Timestamp:ii,Blob:Pp,Transaction:Vp,WriteBatch:Up,DocumentReference:Bp,DocumentSnapshot:zp,Query:$p,QueryDocumentSnapshot:Yp,QuerySnapshot:Qp,CollectionReference:Xp,FieldPath:Jp,FieldValue:td,setLogLevel:jp,CACHE_SIZE_UNLIMITED:gh};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function rd(t){!function(t,e){t.INTERNAL.registerComponent(new ed.uA("firestore",(function(t){var n=t.getProvider("app").getImmediate();return e(n,t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},nd)))}(t,(function(t,e){return new Mp(t,new mh(t,e),new Lp)})),t.registerVersion("@firebase/firestore","2.4.1")}rd(r.A)},1241:function(t,e){e.A=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n}},782:function(t,e,n){n.d(e,{y$:function(){return tt},PY:function(){return it},aH:function(){return rt}});n(4114);var r=n(6768),i=n(144);function o(){return s().__VUE_DEVTOOLS_GLOBAL_HOOK__}function s(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof globalThis?globalThis:{}}const a="function"===typeof Proxy,u="devtools-plugin:setup",c="plugin:settings:set";let l,f;function h(){var t;return void 0!==l||("undefined"!==typeof window&&window.performance?(l=!0,f=window.performance):"undefined"!==typeof globalThis&&(null===(t=globalThis.perf_hooks)||void 0===t?void 0:t.performance)?(l=!0,f=globalThis.perf_hooks.performance):l=!1),l}function p(){return h()?f.now():Date.now()}class d{constructor(t,e){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=t,this.hook=e;const n={};if(t.settings)for(const s in t.settings){const e=t.settings[s];n[s]=e.defaultValue}const r=`__vue-devtools-plugin-settings__${t.id}`;let i=Object.assign({},n);try{const t=localStorage.getItem(r),e=JSON.parse(t);Object.assign(i,e)}catch(o){}this.fallbacks={getSettings(){return i},setSettings(t){try{localStorage.setItem(r,JSON.stringify(t))}catch(o){}i=t},now(){return p()}},e&&e.on(c,((t,e)=>{t===this.plugin.id&&this.fallbacks.setSettings(e)})),this.proxiedOn=new Proxy({},{get:(t,e)=>this.target?this.target.on[e]:(...t)=>{this.onQueue.push({method:e,args:t})}}),this.proxiedTarget=new Proxy({},{get:(t,e)=>this.target?this.target[e]:"on"===e?this.proxiedOn:Object.keys(this.fallbacks).includes(e)?(...t)=>(this.targetQueue.push({method:e,args:t,resolve:()=>{}}),this.fallbacks[e](...t)):(...t)=>new Promise((n=>{this.targetQueue.push({method:e,args:t,resolve:n})}))})}async setRealTarget(t){this.target=t;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(await this.target[e.method](...e.args))}}function y(t,e){const n=t,r=s(),i=o(),c=a&&n.enableEarlyProxy;if(!i||!r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&c){const t=c?new d(n,i):null,o=r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[];o.push({pluginDescriptor:n,setupFn:e,proxy:t}),t&&e(t.proxiedTarget)}else i.emit(u,t,e)}
/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */
var v="store";function g(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function m(t){return null!==t&&"object"===typeof t}function b(t){return t&&"function"===typeof t.then}function w(t,e){return function(){return t(e)}}function _(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function E(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;I(t,n,[],t._modules.root,!0),T(t,n,e)}function T(t,e,n){var o=t._state,s=t._scope;t.getters={},t._makeLocalGettersCache=Object.create(null);var a=t._wrappedGetters,u={},c={},l=(0,i.uY)(!0);l.run((function(){g(a,(function(e,n){u[n]=w(e,t),c[n]=(0,r.EW)((function(){return u[n]()})),Object.defineProperty(t.getters,n,{get:function(){return c[n].value},enumerable:!0})}))})),t._state=(0,i.Kh)({data:e}),t._scope=l,t.strict&&O(t),o&&n&&t._withCommit((function(){o.data=null})),s&&s.stop()}function I(t,e,n,r,i){var o=!n.length,s=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[s],t._modulesNamespaceMap[s]=r),!o&&!i){var a=D(e,n.slice(0,-1)),u=n[n.length-1];t._withCommit((function(){a[u]=r.state}))}var c=r.context=S(t,s,n);r.forEachMutation((function(e,n){var r=s+n;C(t,r,e,c)})),r.forEachAction((function(e,n){var r=e.root?n:s+n,i=e.handler||e;x(t,r,i,c)})),r.forEachGetter((function(e,n){var r=s+n;N(t,r,e,c)})),r.forEachChild((function(r,o){I(t,e,n.concat(o),r,i)}))}function S(t,e,n){var r=""===e,i={dispatch:r?t.dispatch:function(n,r,i){var o=k(n,r,i),s=o.payload,a=o.options,u=o.type;return a&&a.root||(u=e+u),t.dispatch(u,s)},commit:r?t.commit:function(n,r,i){var o=k(n,r,i),s=o.payload,a=o.options,u=o.type;a&&a.root||(u=e+u),t.commit(u,s,a)}};return Object.defineProperties(i,{getters:{get:r?function(){return t.getters}:function(){return A(t,e)}},state:{get:function(){return D(t.state,n)}}}),i}function A(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach((function(i){if(i.slice(0,r)===e){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return t.getters[i]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}function C(t,e,n,r){var i=t._mutations[e]||(t._mutations[e]=[]);i.push((function(e){n.call(t,r.state,e)}))}function x(t,e,n,r){var i=t._actions[e]||(t._actions[e]=[]);i.push((function(e){var i=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e);return b(i)||(i=Promise.resolve(i)),t._devtoolHook?i.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):i}))}function N(t,e,n,r){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)})}function O(t){(0,r.wB)((function(){return t._state.data}),(function(){0}),{deep:!0,flush:"sync"})}function D(t,e){return e.reduce((function(t,e){return t[e]}),t)}function k(t,e,n){return m(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}var R="vuex bindings",P="vuex:mutations",L="vuex:actions",M="vuex",F=0;function j(t,e){y({id:"org.vuejs.vuex",app:t,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[R]},(function(n){n.addTimelineLayer({id:P,label:"Vuex Mutations",color:V}),n.addTimelineLayer({id:L,label:"Vuex Actions",color:V}),n.addInspector({id:M,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===t&&n.inspectorId===M)if(n.filter){var r=[];G(r,e._modules.root,n.filter,""),n.rootNodes=r}else n.rootNodes=[K(e._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===t&&n.inspectorId===M){var r=n.nodeId;A(e,r),n.state=z($(e._modules,r),"root"===r?e.getters:e._makeLocalGettersCache,r)}})),n.on.editInspectorState((function(n){if(n.app===t&&n.inspectorId===M){var r=n.nodeId,i=n.path;"root"!==r&&(i=r.split("/").filter(Boolean).concat(i)),e._withCommit((function(){n.set(e._state.data,i,n.state.value)}))}})),e.subscribe((function(t,e){var r={};t.payload&&(r.payload=t.payload),r.state=e,n.notifyComponentUpdate(),n.sendInspectorTree(M),n.sendInspectorState(M),n.addTimelineEvent({layerId:P,event:{time:Date.now(),title:t.type,data:r}})})),e.subscribeAction({before:function(t,e){var r={};t.payload&&(r.payload=t.payload),t._id=F++,t._time=Date.now(),r.state=e,n.addTimelineEvent({layerId:L,event:{time:t._time,title:t.type,groupId:t._id,subtitle:"start",data:r}})},after:function(t,e){var r={},i=Date.now()-t._time;r.duration={_custom:{type:"duration",display:i+"ms",tooltip:"Action duration",value:i}},t.payload&&(r.payload=t.payload),r.state=e,n.addTimelineEvent({layerId:L,event:{time:Date.now(),title:t.type,groupId:t._id,subtitle:"end",data:r}})}})}))}var V=8702998,U=6710886,H=16777215,B={label:"namespaced",textColor:H,backgroundColor:U};function q(t){return t&&"root"!==t?t.split("/").slice(-2,-1)[0]:"Root"}function K(t,e){return{id:e||"root",label:q(e),tags:t.namespaced?[B]:[],children:Object.keys(t._children).map((function(n){return K(t._children[n],e+n+"/")}))}}function G(t,e,n,r){r.includes(n)&&t.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:e.namespaced?[B]:[]}),Object.keys(e._children).forEach((function(i){G(t,e._children[i],n,r+i+"/")}))}function z(t,e,n){e="root"===n?e:e[n];var r=Object.keys(e),i={state:Object.keys(t.state).map((function(e){return{key:e,editable:!0,value:t.state[e]}}))};if(r.length){var o=Y(e);i.getters=Object.keys(o).map((function(t){return{key:t.endsWith("/")?q(t):t,editable:!1,value:W((function(){return o[t]}))}}))}return i}function Y(t){var e={};return Object.keys(t).forEach((function(n){var r=n.split("/");if(r.length>1){var i=e,o=r.pop();r.forEach((function(t){i[t]||(i[t]={_custom:{value:{},display:t,tooltip:"Module",abstract:!0}}),i=i[t]._custom.value})),i[o]=W((function(){return t[n]}))}else e[n]=W((function(){return t[n]}))})),e}function $(t,e){var n=e.split("/").filter((function(t){return t}));return n.reduce((function(t,r,i){var o=t[r];if(!o)throw new Error('Missing module "'+r+'" for path "'+e+'".');return i===n.length-1?o:o._children}),"root"===e?t:t.root._children)}function W(t){try{return t()}catch(e){return e}}var Q=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"===typeof n?n():n)||{}},X={namespaced:{configurable:!0}};X.namespaced.get=function(){return!!this._rawModule.namespaced},Q.prototype.addChild=function(t,e){this._children[t]=e},Q.prototype.removeChild=function(t){delete this._children[t]},Q.prototype.getChild=function(t){return this._children[t]},Q.prototype.hasChild=function(t){return t in this._children},Q.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},Q.prototype.forEachChild=function(t){g(this._children,t)},Q.prototype.forEachGetter=function(t){this._rawModule.getters&&g(this._rawModule.getters,t)},Q.prototype.forEachAction=function(t){this._rawModule.actions&&g(this._rawModule.actions,t)},Q.prototype.forEachMutation=function(t){this._rawModule.mutations&&g(this._rawModule.mutations,t)},Object.defineProperties(Q.prototype,X);var Z=function(t){this.register([],t,!1)};function J(t,e,n){if(e.update(n),n.modules)for(var r in n.modules){if(!e.getChild(r))return void 0;J(t.concat(r),e.getChild(r),n.modules[r])}}Z.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},Z.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")}),"")},Z.prototype.update=function(t){J([],this.root,t)},Z.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=new Q(e,n);if(0===t.length)this.root=i;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],i)}e.modules&&g(e.modules,(function(e,i){r.register(t.concat(i),e,n)}))},Z.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],r=e.getChild(n);r&&r.runtime&&e.removeChild(n)},Z.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};function tt(t){return new et(t)}var et=function(t){var e=this;void 0===t&&(t={});var n=t.plugins;void 0===n&&(n=[]);var r=t.strict;void 0===r&&(r=!1);var i=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Z(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=i;var o=this,s=this,a=s.dispatch,u=s.commit;this.dispatch=function(t,e){return a.call(o,t,e)},this.commit=function(t,e,n){return u.call(o,t,e,n)},this.strict=r;var c=this._modules.root.state;I(this,c,[],this._modules.root),T(this,c),n.forEach((function(t){return t(e)}))},nt={state:{configurable:!0}};et.prototype.install=function(t,e){t.provide(e||v,this),t.config.globalProperties.$store=this;var n=void 0!==this._devtools&&this._devtools;n&&j(t,this)},nt.state.get=function(){return this._state.data},nt.state.set=function(t){0},et.prototype.commit=function(t,e,n){var r=this,i=k(t,e,n),o=i.type,s=i.payload,a=(i.options,{type:o,payload:s}),u=this._mutations[o];u&&(this._withCommit((function(){u.forEach((function(t){t(s)}))})),this._subscribers.slice().forEach((function(t){return t(a,r.state)})))},et.prototype.dispatch=function(t,e){var n=this,r=k(t,e),i=r.type,o=r.payload,s={type:i,payload:o},a=this._actions[i];if(a){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(s,n.state)}))}catch(c){0}var u=a.length>1?Promise.all(a.map((function(t){return t(o)}))):a[0](o);return new Promise((function(t,e){u.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(s,n.state)}))}catch(c){0}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(s,n.state,t)}))}catch(c){0}e(t)}))}))}},et.prototype.subscribe=function(t,e){return _(t,this._subscribers,e)},et.prototype.subscribeAction=function(t,e){var n="function"===typeof t?{before:t}:t;return _(n,this._actionSubscribers,e)},et.prototype.watch=function(t,e,n){var i=this;return(0,r.wB)((function(){return t(i.state,i.getters)}),e,Object.assign({},n))},et.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._state.data=t}))},et.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),I(this,this.state,t,this._modules.get(t),n.preserveState),T(this,this.state)},et.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=D(e.state,t.slice(0,-1));delete n[t[t.length-1]]})),E(this)},et.prototype.hasModule=function(t){return"string"===typeof t&&(t=[t]),this._modules.isRegistered(t)},et.prototype.hotUpdate=function(t){this._modules.update(t),E(this,!0)},et.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(et.prototype,nt);var rt=at((function(t,e){var n={};return ot(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var r=ut(this.$store,"mapState",t);if(!r)return;e=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,e,n):e[i]},n[r].vuex=!0})),n})),it=at((function(t,e){var n={};return ot(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.commit;if(t){var o=ut(this.$store,"mapMutations",t);if(!o)return;r=o.context.commit}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n}));at((function(t,e){var n={};return ot(e).forEach((function(e){var r=e.key,i=e.val;i=t+i,n[r]=function(){if(!t||ut(this.$store,"mapGetters",t))return this.$store.getters[i]},n[r].vuex=!0})),n})),at((function(t,e){var n={};return ot(e).forEach((function(e){var r=e.key,i=e.val;n[r]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var r=this.$store.dispatch;if(t){var o=ut(this.$store,"mapActions",t);if(!o)return;r=o.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(e)):r.apply(this.$store,[i].concat(e))}})),n}));function ot(t){return st(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function st(t){return Array.isArray(t)||m(t)}function at(t){return function(e,n){return"string"!==typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function ut(t,e,n){var r=t._modulesNamespaceMap[n];return r}},9306:function(t,e,n){var r=n(4901),i=n(6823),o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not a function")}},3506:function(t,e,n){var r=n(3925),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw new o("Can't set "+i(t)+" as a prototype")}},679:function(t,e,n){var r=n(1625),i=TypeError;t.exports=function(t,e){if(r(e,t))return t;throw new i("Incorrect invocation")}},8551:function(t,e,n){var r=n(34),i=String,o=TypeError;t.exports=function(t){if(r(t))return t;throw new o(i(t)+" is not an object")}},7811:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},7394:function(t,e,n){var r=n(6706),i=n(4576),o=TypeError;t.exports=r(ArrayBuffer.prototype,"byteLength","get")||function(t){if("ArrayBuffer"!==i(t))throw new o("ArrayBuffer expected");return t.byteLength}},3238:function(t,e,n){var r=n(9504),i=n(7394),o=r(ArrayBuffer.prototype.slice);t.exports=function(t){if(0!==i(t))return!1;try{return o(t,0,0),!1}catch(e){return!0}}},5636:function(t,e,n){var r=n(4475),i=n(9504),o=n(6706),s=n(7696),a=n(3238),u=n(7394),c=n(4483),l=n(1548),f=r.structuredClone,h=r.ArrayBuffer,p=r.DataView,d=r.TypeError,y=Math.min,v=h.prototype,g=p.prototype,m=i(v.slice),b=o(v,"resizable","get"),w=o(v,"maxByteLength","get"),_=i(g.getInt8),E=i(g.setInt8);t.exports=(l||c)&&function(t,e,n){var r,i=u(t),o=void 0===e?i:s(e),v=!b||!b(t);if(a(t))throw new d("ArrayBuffer is detached");if(l&&(t=f(t,{transfer:[t]}),i===o&&(n||v)))return t;if(i>=o&&(!n||v))r=m(t,0,o);else{var g=n&&!v&&w?{maxByteLength:w(t)}:void 0;r=new h(o,g);for(var T=new p(t),I=new p(r),S=y(o,i),A=0;A<S;A++)E(I,A,_(T,A))}return l||c(t),r}},4644:function(t,e,n){var r,i,o,s=n(7811),a=n(3724),u=n(4475),c=n(4901),l=n(34),f=n(9297),h=n(6955),p=n(6823),d=n(6699),y=n(6840),v=n(2106),g=n(1625),m=n(2787),b=n(2967),w=n(8227),_=n(3392),E=n(1181),T=E.enforce,I=E.get,S=u.Int8Array,A=S&&S.prototype,C=u.Uint8ClampedArray,x=C&&C.prototype,N=S&&m(S),O=A&&m(A),D=Object.prototype,k=u.TypeError,R=w("toStringTag"),P=_("TYPED_ARRAY_TAG"),L="TypedArrayConstructor",M=s&&!!b&&"Opera"!==h(u.opera),F=!1,j={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},V={BigInt64Array:8,BigUint64Array:8},U=function(t){if(!l(t))return!1;var e=h(t);return"DataView"===e||f(j,e)||f(V,e)},H=function(t){var e=m(t);if(l(e)){var n=I(e);return n&&f(n,L)?n[L]:H(e)}},B=function(t){if(!l(t))return!1;var e=h(t);return f(j,e)||f(V,e)},q=function(t){if(B(t))return t;throw new k("Target is not a typed array")},K=function(t){if(c(t)&&(!b||g(N,t)))return t;throw new k(p(t)+" is not a typed array constructor")},G=function(t,e,n,r){if(a){if(n)for(var i in j){var o=u[i];if(o&&f(o.prototype,t))try{delete o.prototype[t]}catch(s){try{o.prototype[t]=e}catch(c){}}}O[t]&&!n||y(O,t,n?e:M&&A[t]||e,r)}},z=function(t,e,n){var r,i;if(a){if(b){if(n)for(r in j)if(i=u[r],i&&f(i,t))try{delete i[t]}catch(o){}if(N[t]&&!n)return;try{return y(N,t,n?e:M&&N[t]||e)}catch(o){}}for(r in j)i=u[r],!i||i[t]&&!n||y(i,t,e)}};for(r in j)i=u[r],o=i&&i.prototype,o?T(o)[L]=i:M=!1;for(r in V)i=u[r],o=i&&i.prototype,o&&(T(o)[L]=i);if((!M||!c(N)||N===Function.prototype)&&(N=function(){throw new k("Incorrect invocation")},M))for(r in j)u[r]&&b(u[r],N);if((!M||!O||O===D)&&(O=N.prototype,M))for(r in j)u[r]&&b(u[r].prototype,O);if(M&&m(x)!==O&&b(x,O),a&&!f(O,R))for(r in F=!0,v(O,R,{configurable:!0,get:function(){return l(this)?this[P]:void 0}}),j)u[r]&&d(u[r],P,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:M,TYPED_ARRAY_TAG:F&&P,aTypedArray:q,aTypedArrayConstructor:K,exportTypedArrayMethod:G,exportTypedArrayStaticMethod:z,getTypedArrayConstructor:H,isView:U,isTypedArray:B,TypedArray:N,TypedArrayPrototype:O}},5370:function(t,e,n){var r=n(6198);t.exports=function(t,e,n){var i=0,o=arguments.length>2?n:r(e),s=new t(o);while(o>i)s[i]=e[i++];return s}},9617:function(t,e,n){var r=n(5397),i=n(5610),o=n(6198),s=function(t){return function(e,n,s){var a=r(e),u=o(a);if(0===u)return!t&&-1;var c,l=i(s,u);if(t&&n!==n){while(u>l)if(c=a[l++],c!==c)return!0}else for(;u>l;l++)if((t||l in a)&&a[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},4527:function(t,e,n){var r=n(3724),i=n(4376),o=TypeError,s=Object.getOwnPropertyDescriptor,a=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(i(t)&&!s(t,"length").writable)throw new o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},7628:function(t,e,n){var r=n(6198);t.exports=function(t,e){for(var n=r(t),i=new e(n),o=0;o<n;o++)i[o]=t[n-o-1];return i}},9928:function(t,e,n){var r=n(6198),i=n(1291),o=RangeError;t.exports=function(t,e,n,s){var a=r(t),u=i(n),c=u<0?a+u:u;if(c>=a||c<0)throw new o("Incorrect index");for(var l=new e(a),f=0;f<a;f++)l[f]=f===c?s:t[f];return l}},4576:function(t,e,n){var r=n(9504),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},6955:function(t,e,n){var r=n(2140),i=n(4901),o=n(4576),s=n(8227),a=s("toStringTag"),u=Object,c="Arguments"===o(function(){return arguments}()),l=function(t,e){try{return t[e]}catch(n){}};t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=l(e=u(t),a))?n:c?o(e):"Object"===(r=o(e))&&i(e.callee)?"Arguments":r}},7740:function(t,e,n){var r=n(9297),i=n(5031),o=n(7347),s=n(4913);t.exports=function(t,e,n){for(var a=i(e),u=s.f,c=o.f,l=0;l<a.length;l++){var f=a[l];r(t,f)||n&&r(n,f)||u(t,f,c(e,f))}}},2211:function(t,e,n){var r=n(9039);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},6699:function(t,e,n){var r=n(3724),i=n(4913),o=n(6980);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},6980:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},2106:function(t,e,n){var r=n(283),i=n(4913);t.exports=function(t,e,n){return n.get&&r(n.get,e,{getter:!0}),n.set&&r(n.set,e,{setter:!0}),i.f(t,e,n)}},6840:function(t,e,n){var r=n(4901),i=n(4913),o=n(283),s=n(9433);t.exports=function(t,e,n,a){a||(a={});var u=a.enumerable,c=void 0!==a.name?a.name:e;if(r(n)&&o(n,c,a),a.global)u?t[e]=n:s(e,n);else{try{a.unsafe?t[e]&&(u=!0):delete t[e]}catch(l){}u?t[e]=n:i.f(t,e,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},9433:function(t,e,n){var r=n(4475),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},3724:function(t,e,n){var r=n(9039);t.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4483:function(t,e,n){var r,i,o,s,a=n(4475),u=n(9714),c=n(1548),l=a.structuredClone,f=a.ArrayBuffer,h=a.MessageChannel,p=!1;if(c)p=function(t){l(t,{transfer:[t]})};else if(f)try{h||(r=u("worker_threads"),r&&(h=r.MessageChannel)),h&&(i=new h,o=new f(2),s=function(t){i.port1.postMessage(null,[t])},2===o.byteLength&&(s(o),0===o.byteLength&&(p=s)))}catch(d){}t.exports=p},4055:function(t,e,n){var r=n(4475),i=n(34),o=r.document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},6837:function(t){var e=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw e("Maximum allowed index exceeded");return t}},5002:function(t){t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},7290:function(t,e,n){var r=n(516),i=n(9088);t.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},516:function(t){t.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},9088:function(t,e,n){var r=n(4475),i=n(4576);t.exports="process"===i(r.process)},9392:function(t){t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7388:function(t,e,n){var r,i,o=n(4475),s=n(9392),a=o.process,u=o.Deno,c=a&&a.versions||u&&u.version,l=c&&c.v8;l&&(r=l.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),t.exports=i},8727:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},6193:function(t,e,n){var r=n(9504),i=Error,o=r("".replace),s=function(t){return String(new i(t).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,u=a.test(s);t.exports=function(t,e){if(u&&"string"==typeof t&&!i.prepareStackTrace)while(e--)t=o(t,a,"");return t}},6518:function(t,e,n){var r=n(4475),i=n(7347).f,o=n(6699),s=n(6840),a=n(9433),u=n(7740),c=n(2796);t.exports=function(t,e){var n,l,f,h,p,d,y=t.target,v=t.global,g=t.stat;if(l=v?r:g?r[y]||a(y,{}):r[y]&&r[y].prototype,l)for(f in e){if(p=e[f],t.dontCallGetSet?(d=i(l,f),h=d&&d.value):h=l[f],n=c(v?f:y+(g?".":"#")+f,t.forced),!n&&void 0!==h){if(typeof p==typeof h)continue;u(p,h)}(t.sham||h&&h.sham)&&o(p,"sham",!0),s(l,f,p,t)}}},9039:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},616:function(t,e,n){var r=n(9039);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},9565:function(t,e,n){var r=n(616),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},350:function(t,e,n){var r=n(3724),i=n(9297),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),u=a&&"something"===function(){}.name,c=a&&(!r||r&&s(o,"name").configurable);t.exports={EXISTS:a,PROPER:u,CONFIGURABLE:c}},6706:function(t,e,n){var r=n(9504),i=n(9306);t.exports=function(t,e,n){try{return r(i(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(o){}}},9504:function(t,e,n){var r=n(616),i=Function.prototype,o=i.call,s=r&&i.bind.bind(o,o);t.exports=r?s:function(t){return function(){return o.apply(t,arguments)}}},7751:function(t,e,n){var r=n(4475),i=n(4901),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t]):r[t]&&r[t][e]}},5966:function(t,e,n){var r=n(9306),i=n(4117);t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},4475:function(t,e,n){var r=function(t){return t&&t.Math===Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:function(t,e,n){var r=n(9504),i=n(8981),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},421:function(t){t.exports={}},5917:function(t,e,n){var r=n(3724),i=n(9039),o=n(4055);t.exports=!r&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},7055:function(t,e,n){var r=n(9504),i=n(9039),o=n(4576),s=Object,a=r("".split);t.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"===o(t)?a(t,""):s(t)}:s},3167:function(t,e,n){var r=n(4901),i=n(34),o=n(2967);t.exports=function(t,e,n){var s,a;return o&&r(s=e.constructor)&&s!==n&&i(a=s.prototype)&&a!==n.prototype&&o(t,a),t}},3706:function(t,e,n){var r=n(9504),i=n(4901),o=n(7629),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return s(t)}),t.exports=o.inspectSource},1181:function(t,e,n){var r,i,o,s=n(8622),a=n(4475),u=n(34),c=n(6699),l=n(9297),f=n(7629),h=n(6119),p=n(421),d="Object already initialized",y=a.TypeError,v=a.WeakMap,g=function(t){return o(t)?i(t):r(t,{})},m=function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw new y("Incompatible receiver, "+t+" required");return n}};if(s||f.state){var b=f.state||(f.state=new v);b.get=b.get,b.has=b.has,b.set=b.set,r=function(t,e){if(b.has(t))throw new y(d);return e.facade=t,b.set(t,e),e},i=function(t){return b.get(t)||{}},o=function(t){return b.has(t)}}else{var w=h("state");p[w]=!0,r=function(t,e){if(l(t,w))throw new y(d);return e.facade=t,c(t,w,e),e},i=function(t){return l(t,w)?t[w]:{}},o=function(t){return l(t,w)}}t.exports={set:r,get:i,has:o,enforce:g,getterFor:m}},4376:function(t,e,n){var r=n(4576);t.exports=Array.isArray||function(t){return"Array"===r(t)}},1108:function(t,e,n){var r=n(6955);t.exports=function(t){var e=r(t);return"BigInt64Array"===e||"BigUint64Array"===e}},4901:function(t){var e="object"==typeof document&&document.all;t.exports="undefined"==typeof e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},2796:function(t,e,n){var r=n(9039),i=n(4901),o=/#|\.prototype\./,s=function(t,e){var n=u[a(t)];return n===l||n!==c&&(i(e)?r(e):!!e)},a=s.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=s.data={},c=s.NATIVE="N",l=s.POLYFILL="P";t.exports=s},4117:function(t){t.exports=function(t){return null===t||void 0===t}},34:function(t,e,n){var r=n(4901);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},3925:function(t,e,n){var r=n(34);t.exports=function(t){return r(t)||null===t}},6395:function(t){t.exports=!1},757:function(t,e,n){var r=n(7751),i=n(4901),o=n(1625),s=n(7040),a=Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&o(e.prototype,a(t))}},6198:function(t,e,n){var r=n(8014);t.exports=function(t){return r(t.length)}},283:function(t,e,n){var r=n(9504),i=n(9039),o=n(4901),s=n(9297),a=n(3724),u=n(350).CONFIGURABLE,c=n(3706),l=n(1181),f=l.enforce,h=l.get,p=String,d=Object.defineProperty,y=r("".slice),v=r("".replace),g=r([].join),m=a&&!i((function(){return 8!==d((function(){}),"length",{value:8}).length})),b=String(String).split("String"),w=t.exports=function(t,e,n){"Symbol("===y(p(e),0,7)&&(e="["+v(p(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!s(t,"name")||u&&t.name!==e)&&(a?d(t,"name",{value:e,configurable:!0}):t.name=e),m&&n&&s(n,"arity")&&t.length!==n.arity&&d(t,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&d(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(i){}var r=f(t);return s(r,"source")||(r.source=g(b,"string"==typeof e?e:"")),t};Function.prototype.toString=w((function(){return o(this)&&h(this).source||c(this)}),"toString")},741:function(t){var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},2603:function(t,e,n){var r=n(655);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},4913:function(t,e,n){var r=n(3724),i=n(5917),o=n(8686),s=n(8551),a=n(6969),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor,f="enumerable",h="configurable",p="writable";e.f=r?o?function(t,e,n){if(s(t),e=a(e),s(n),"function"===typeof t&&"prototype"===e&&"value"in n&&p in n&&!n[p]){var r=l(t,e);r&&r[p]&&(t[e]=n.value,n={configurable:h in n?n[h]:r[h],enumerable:f in n?n[f]:r[f],writable:!1})}return c(t,e,n)}:c:function(t,e,n){if(s(t),e=a(e),s(n),i)try{return c(t,e,n)}catch(r){}if("get"in n||"set"in n)throw new u("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},7347:function(t,e,n){var r=n(3724),i=n(9565),o=n(8773),s=n(6980),a=n(5397),u=n(6969),c=n(9297),l=n(5917),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=a(t),e=u(e),l)try{return f(t,e)}catch(n){}if(c(t,e))return s(!i(o.f,t,e),t[e])}},8480:function(t,e,n){var r=n(1828),i=n(8727),o=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},3717:function(t,e){e.f=Object.getOwnPropertySymbols},2787:function(t,e,n){var r=n(9297),i=n(4901),o=n(8981),s=n(6119),a=n(2211),u=s("IE_PROTO"),c=Object,l=c.prototype;t.exports=a?c.getPrototypeOf:function(t){var e=o(t);if(r(e,u))return e[u];var n=e.constructor;return i(n)&&e instanceof n?n.prototype:e instanceof c?l:null}},1625:function(t,e,n){var r=n(9504);t.exports=r({}.isPrototypeOf)},1828:function(t,e,n){var r=n(9504),i=n(9297),o=n(5397),s=n(9617).indexOf,a=n(421),u=r([].push);t.exports=function(t,e){var n,r=o(t),c=0,l=[];for(n in r)!i(a,n)&&i(r,n)&&u(l,n);while(e.length>c)i(r,n=e[c++])&&(~s(l,n)||u(l,n));return l}},8773:function(t,e){var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},2967:function(t,e,n){var r=n(6706),i=n(8551),o=n(3506);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=r(Object.prototype,"__proto__","set"),t(n,[]),e=n instanceof Array}catch(s){}return function(n,r){return i(n),o(r),e?t(n,r):n.__proto__=r,n}}():void 0)},4270:function(t,e,n){var r=n(9565),i=n(4901),o=n(34),s=TypeError;t.exports=function(t,e){var n,a;if("string"===e&&i(n=t.toString)&&!o(a=r(n,t)))return a;if(i(n=t.valueOf)&&!o(a=r(n,t)))return a;if("string"!==e&&i(n=t.toString)&&!o(a=r(n,t)))return a;throw new s("Can't convert object to primitive value")}},5031:function(t,e,n){var r=n(7751),i=n(9504),o=n(8480),s=n(3717),a=n(8551),u=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=s.f;return n?u(e,n(t)):e}},7750:function(t,e,n){var r=n(4117),i=TypeError;t.exports=function(t){if(r(t))throw new i("Can't call method on "+t);return t}},6119:function(t,e,n){var r=n(5745),i=n(3392),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},7629:function(t,e,n){var r=n(6395),i=n(4475),o=n(9433),s="__core-js_shared__",a=t.exports=i[s]||o(s,{});(a.versions||(a.versions=[])).push({version:"3.36.0",mode:r?"pure":"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.36.0/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:function(t,e,n){var r=n(7629);t.exports=function(t,e){return r[t]||(r[t]=e||{})}},1548:function(t,e,n){var r=n(4475),i=n(9039),o=n(7388),s=n(7290),a=n(516),u=n(9088),c=r.structuredClone;t.exports=!!c&&!i((function(){if(a&&o>92||u&&o>94||s&&o>97)return!1;var t=new ArrayBuffer(8),e=c(t,{transfer:[t]});return 0!==t.byteLength||8!==e.byteLength}))},4495:function(t,e,n){var r=n(7388),i=n(9039),o=n(4475),s=o.String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol("symbol detection");return!s(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},5610:function(t,e,n){var r=n(1291),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},5854:function(t,e,n){var r=n(2777),i=TypeError;t.exports=function(t){var e=r(t,"number");if("number"==typeof e)throw new i("Can't convert number to bigint");return BigInt(e)}},7696:function(t,e,n){var r=n(1291),i=n(8014),o=RangeError;t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw new o("Wrong length or index");return n}},5397:function(t,e,n){var r=n(7055),i=n(7750);t.exports=function(t){return r(i(t))}},1291:function(t,e,n){var r=n(741);t.exports=function(t){var e=+t;return e!==e||0===e?0:r(e)}},8014:function(t,e,n){var r=n(1291),i=Math.min;t.exports=function(t){var e=r(t);return e>0?i(e,9007199254740991):0}},8981:function(t,e,n){var r=n(7750),i=Object;t.exports=function(t){return i(r(t))}},2777:function(t,e,n){var r=n(9565),i=n(34),o=n(757),s=n(5966),a=n(4270),u=n(8227),c=TypeError,l=u("toPrimitive");t.exports=function(t,e){if(!i(t)||o(t))return t;var n,u=s(t,l);if(u){if(void 0===e&&(e="default"),n=r(u,t,e),!i(n)||o(n))return n;throw new c("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},6969:function(t,e,n){var r=n(2777),i=n(757);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},2140:function(t,e,n){var r=n(8227),i=r("toStringTag"),o={};o[i]="z",t.exports="[object z]"===String(o)},655:function(t,e,n){var r=n(6955),i=String;t.exports=function(t){if("Symbol"===r(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},9714:function(t,e,n){var r=n(9088);t.exports=function(t){try{if(r)return Function('return require("'+t+'")')()}catch(e){}}},6823:function(t){var e=String;t.exports=function(t){try{return e(t)}catch(n){return"Object"}}},3392:function(t,e,n){var r=n(9504),i=0,o=Math.random(),s=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+s(++i+o,36)}},7040:function(t,e,n){var r=n(4495);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:function(t,e,n){var r=n(3724),i=n(9039);t.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8622:function(t,e,n){var r=n(4475),i=n(4901),o=r.WeakMap;t.exports=i(o)&&/native code/.test(String(o))},8227:function(t,e,n){var r=n(4475),i=n(5745),o=n(9297),s=n(3392),a=n(4495),u=n(7040),c=r.Symbol,l=i("wks"),f=u?c["for"]||c:c&&c.withoutSetter||s;t.exports=function(t){return o(l,t)||(l[t]=a&&o(c,t)?c[t]:f("Symbol."+t)),l[t]}},6573:function(t,e,n){var r=n(3724),i=n(2106),o=n(3238),s=ArrayBuffer.prototype;r&&!("detached"in s)&&i(s,"detached",{configurable:!0,get:function(){return o(this)}})},7936:function(t,e,n){var r=n(6518),i=n(5636);i&&r({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return i(this,arguments.length?arguments[0]:void 0,!1)}})},8100:function(t,e,n){var r=n(6518),i=n(5636);i&&r({target:"ArrayBuffer",proto:!0},{transfer:function(){return i(this,arguments.length?arguments[0]:void 0,!0)}})},4114:function(t,e,n){var r=n(6518),i=n(8981),o=n(6198),s=n(4527),a=n(6837),u=n(9039),c=u((function(){return 4294967297!==[].push.call({length:4294967296},1)})),l=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},f=c||!l();r({target:"Array",proto:!0,arity:1,forced:f},{push:function(t){var e=i(this),n=o(e),r=arguments.length;a(n+r);for(var u=0;u<r;u++)e[n]=arguments[u],n++;return s(e,n),n}})},7467:function(t,e,n){var r=n(7628),i=n(4644),o=i.aTypedArray,s=i.exportTypedArrayMethod,a=i.getTypedArrayConstructor;s("toReversed",(function(){return r(o(this),a(this))}))},4732:function(t,e,n){var r=n(4644),i=n(9504),o=n(9306),s=n(5370),a=r.aTypedArray,u=r.getTypedArrayConstructor,c=r.exportTypedArrayMethod,l=i(r.TypedArrayPrototype.sort);c("toSorted",(function(t){void 0!==t&&o(t);var e=a(this),n=s(u(e),e);return l(n,t)}))},9577:function(t,e,n){var r=n(9928),i=n(4644),o=n(1108),s=n(1291),a=n(5854),u=i.aTypedArray,c=i.getTypedArrayConstructor,l=i.exportTypedArrayMethod,f=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();l("with",{with:function(t,e){var n=u(this),i=s(t),l=o(n)?a(e):+e;return r(n,c(n),i,l)}}["with"],!f)},6280:function(t,e,n){n(6573)},7801:function(t,e,n){n(7936)},7913:function(t,e,n){n(8100)},4979:function(t,e,n){var r=n(6518),i=n(4475),o=n(7751),s=n(6980),a=n(4913).f,u=n(9297),c=n(679),l=n(3167),f=n(2603),h=n(5002),p=n(6193),d=n(3724),y=n(6395),v="DOMException",g=o("Error"),m=o(v),b=function(){c(this,w);var t=arguments.length,e=f(t<1?void 0:arguments[0]),n=f(t<2?void 0:arguments[1],"Error"),r=new m(e,n),i=new g(e);return i.name=v,a(r,"stack",s(1,p(i.stack,1))),l(r,this,b),r},w=b.prototype=m.prototype,_="stack"in new g(v),E="stack"in new m(1,2),T=m&&d&&Object.getOwnPropertyDescriptor(i,v),I=!!T&&!(T.writable&&T.configurable),S=_&&!I&&!E;r({global:!0,constructor:!0,forced:y||S},{DOMException:S?b:m});var A=o(v),C=A.prototype;if(C.constructor!==A)for(var x in y||a(C,"constructor",s(1,A)),h)if(u(h,x)){var N=h[x],O=N.s;u(A,O)||a(A,O,s(6,N.c))}},8542:function(t,e,n){n.d(e,{C6:function(){return i},Cl:function(){return o},Ju:function(){return u},YH:function(){return a},fX:function(){return l},sH:function(){return s},zs:function(){return c}});n(4114);var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function s(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r["throw"](t))}catch(e){o(e)}}function u(t){t.done?n(t.value):i(t.value).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(t){return function(e){return u([t,e])}}function u(a){if(n)throw new TypeError("Generator is already executing.");while(o&&(o=0,a[0]&&(s=0)),s)try{if(n=1,r&&(i=2&a[0]?r["return"]:a[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(i=s.trys,!(i=i.length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}Object.create;function u(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create;"function"===typeof SuppressedError&&SuppressedError},1387:function(t,e,n){n.d(e,{LA:function(){return V},aE:function(){return ee}});n(4114);var r=n(6768),i=n(144);
/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */
const o="undefined"!==typeof window;function s(t){return t.__esModule||"Module"===t[Symbol.toStringTag]}const a=Object.assign;function u(t,e){const n={};for(const r in e){const i=e[r];n[r]=l(i)?i.map(t):t(i)}return n}const c=()=>{},l=Array.isArray;const f=/\/$/,h=t=>t.replace(f,"");function p(t,e,n="/"){let r,i={},o="",s="";const a=e.indexOf("#");let u=e.indexOf("?");return a<u&&a>=0&&(u=-1),u>-1&&(r=e.slice(0,u),o=e.slice(u+1,a>-1?a:e.length),i=t(o)),a>-1&&(r=r||e.slice(0,a),s=e.slice(a,e.length)),r=_(null!=r?r:e,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:s}}function d(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function y(t,e){return e&&t.toLowerCase().startsWith(e.toLowerCase())?t.slice(e.length)||"/":t}function v(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&g(e.matched[r],n.matched[i])&&m(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function g(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function m(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!b(t[n],e[n]))return!1;return!0}function b(t,e){return l(t)?w(t,e):l(e)?w(e,t):t===e}function w(t,e){return l(e)?t.length===e.length&&t.every(((t,n)=>t===e[n])):1===t.length&&t[0]===e}function _(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];".."!==i&&"."!==i||r.push("");let o,s,a=n.length-1;for(o=0;o<r.length;o++)if(s=r[o],"."!==s){if(".."!==s)break;a>1&&a--}return n.slice(0,a).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var E,T;(function(t){t["pop"]="pop",t["push"]="push"})(E||(E={})),function(t){t["back"]="back",t["forward"]="forward",t["unknown"]=""}(T||(T={}));function I(t){if(!t)if(o){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return"/"!==t[0]&&"#"!==t[0]&&(t="/"+t),h(t)}const S=/^[^#]+#/;function A(t,e){return t.replace(S,"#")+e}function C(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const x=()=>({left:window.pageXOffset,top:window.pageYOffset});function N(t){let e;if("el"in t){const n=t.el,r="string"===typeof n&&n.startsWith("#");0;const i="string"===typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=C(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(null!=e.left?e.left:window.pageXOffset,null!=e.top?e.top:window.pageYOffset)}function O(t,e){const n=history.state?history.state.position-e:-1;return n+t}const D=new Map;function k(t,e){D.set(t,e)}function R(t){const e=D.get(t);return D.delete(t),e}let P=()=>location.protocol+"//"+location.host;function L(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let e=i.includes(t.slice(o))?t.slice(o).length:1,n=i.slice(e);return"/"!==n[0]&&(n="/"+n),y(n,"")}const s=y(n,t);return s+r+i}function M(t,e,n,r){let i=[],o=[],s=null;const u=({state:o})=>{const a=L(t,location),u=n.value,c=e.value;let l=0;if(o){if(n.value=a,e.value=o,s&&s===u)return void(s=null);l=c?o.position-c.position:0}else r(a);i.forEach((t=>{t(n.value,u,{delta:l,type:E.pop,direction:l?l>0?T.forward:T.back:T.unknown})}))};function c(){s=n.value}function l(t){i.push(t);const e=()=>{const e=i.indexOf(t);e>-1&&i.splice(e,1)};return o.push(e),e}function f(){const{history:t}=window;t.state&&t.replaceState(a({},t.state,{scroll:x()}),"")}function h(){for(const t of o)t();o=[],window.removeEventListener("popstate",u),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",u),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:c,listen:l,destroy:h}}function F(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?x():null}}function j(t){const{history:e,location:n}=window,r={value:L(t,n)},i={value:e.state};function o(r,o,s){const a=t.indexOf("#"),u=a>-1?(n.host&&document.querySelector("base")?t:t.slice(a))+r:P()+t+r;try{e[s?"replaceState":"pushState"](o,"",u),i.value=o}catch(c){console.error(c),n[s?"replace":"assign"](u)}}function s(t,n){const s=a({},e.state,F(i.value.back,t,i.value.forward,!0),n,{position:i.value.position});o(t,s,!0),r.value=t}function u(t,n){const s=a({},i.value,e.state,{forward:t,scroll:x()});o(s.current,s,!0);const u=a({},F(r.value,t,null),{position:s.position+1},n);o(t,u,!1),r.value=t}return i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:u,replace:s}}function V(t){t=I(t);const e=j(t),n=M(t,e.state,e.location,e.replace);function r(t,e=!0){e||n.pauseListeners(),history.go(t)}const i=a({location:"",base:t,go:r,createHref:A.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function U(t){return"string"===typeof t||t&&"object"===typeof t}function H(t){return"string"===typeof t||"symbol"===typeof t}const B={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},q=Symbol("");var K;(function(t){t[t["aborted"]=4]="aborted",t[t["cancelled"]=8]="cancelled",t[t["duplicated"]=16]="duplicated"})(K||(K={}));function G(t,e){return a(new Error,{type:t,[q]:!0},e)}function z(t,e){return t instanceof Error&&q in t&&(null==e||!!(t.type&e))}const Y="[^/]+?",$={sensitive:!1,strict:!1,start:!0,end:!0},W=/[.+*?^${}()[\]/\\]/g;function Q(t,e){const n=a({},$,e),r=[];let i=n.start?"^":"";const o=[];for(const a of t){const t=a.length?[]:[90];n.strict&&!a.length&&(i+="/");for(let e=0;e<a.length;e++){const r=a[e];let s=40+(n.sensitive?.25:0);if(0===r.type)e||(i+="/"),i+=r.value.replace(W,"\\$&"),s+=40;else if(1===r.type){const{value:t,repeatable:n,optional:u,regexp:c}=r;o.push({name:t,repeatable:n,optional:u});const l=c||Y;if(l!==Y){s+=10;try{new RegExp(`(${l})`)}catch(f){throw new Error(`Invalid custom RegExp for param "${t}" (${l}): `+f.message)}}let h=n?`((?:${l})(?:/(?:${l}))*)`:`(${l})`;e||(h=u&&a.length<2?`(?:/${h})`:"/"+h),u&&(h+="?"),i+=h,s+=20,u&&(s+=-8),n&&(s+=-20),".*"===l&&(s+=-50)}t.push(s)}r.push(t)}if(n.strict&&n.end){const t=r.length-1;r[t][r[t].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function u(t){const e=t.match(s),n={};if(!e)return null;for(let r=1;r<e.length;r++){const t=e[r]||"",i=o[r-1];n[i.name]=t&&i.repeatable?t.split("/"):t}return n}function c(e){let n="",r=!1;for(const i of t){r&&n.endsWith("/")||(n+="/"),r=!1;for(const t of i)if(0===t.type)n+=t.value;else if(1===t.type){const{value:o,repeatable:s,optional:a}=t,u=o in e?e[o]:"";if(l(u)&&!s)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const c=l(u)?u.join("/"):u;if(!c){if(!a)throw new Error(`Missing required param "${o}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=c}}return n||"/"}return{re:s,score:r,keys:o,parse:u,stringify:c}}function X(t,e){let n=0;while(n<t.length&&n<e.length){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?1===t.length&&80===t[0]?-1:1:t.length>e.length?1===e.length&&80===e[0]?1:-1:0}function Z(t,e){let n=0;const r=t.score,i=e.score;while(n<r.length&&n<i.length){const t=X(r[n],i[n]);if(t)return t;n++}if(1===Math.abs(i.length-r.length)){if(J(r))return 1;if(J(i))return-1}return i.length-r.length}function J(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const tt={type:0,value:""},et=/[a-zA-Z0-9_]/;function nt(t){if(!t)return[[]];if("/"===t)return[[tt]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(t){throw new Error(`ERR (${n})/"${c}": ${t}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a,u=0,c="",l="";function f(){c&&(0===n?o.push({type:0,value:c}):1===n||2===n||3===n?(o.length>1&&("*"===a||"+"===a)&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:c,regexp:l,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):e("Invalid state to consume buffer"),c="")}function h(){c+=a}while(u<t.length)if(a=t[u++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(c&&f(),s()):":"===a?(f(),n=1):h();break;case 4:h(),n=r;break;case 1:"("===a?n=2:et.test(a)?h():(f(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&u--);break;case 2:")"===a?"\\"==l[l.length-1]?l=l.slice(0,-1)+a:n=3:l+=a;break;case 3:f(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&u--,l="";break;default:e("Unknown state");break}else r=n,n=4;return 2===n&&e(`Unfinished custom RegExp for param "${c}"`),f(),s(),i}function rt(t,e,n){const r=Q(nt(t.path),n);const i=a(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf===!e.record.aliasOf&&e.children.push(i),i}function it(t,e){const n=[],r=new Map;function i(t){return r.get(t)}function o(t,n,r){const i=!r,u=st(t);u.aliasOf=r&&r.record;const f=lt(e,t),h=[u];if("alias"in t){const e="string"===typeof t.alias?[t.alias]:t.alias;for(const t of e)h.push(a({},u,{components:r?r.record.components:u.components,path:t,aliasOf:r?r.record:u}))}let p,d;for(const e of h){const{path:a}=e;if(n&&"/"!==a[0]){const t=n.record.path,r="/"===t[t.length-1]?"":"/";e.path=n.record.path+(a&&r+a)}if(p=rt(e,n,f),r?r.alias.push(p):(d=d||p,d!==p&&d.alias.push(p),i&&t.name&&!ut(p)&&s(t.name)),u.children){const t=u.children;for(let e=0;e<t.length;e++)o(t[e],p,r&&r.children[e])}r=r||p,(p.record.components&&Object.keys(p.record.components).length||p.record.name||p.record.redirect)&&l(p)}return d?()=>{s(d)}:c}function s(t){if(H(t)){const e=r.get(t);e&&(r.delete(t),n.splice(n.indexOf(e),1),e.children.forEach(s),e.alias.forEach(s))}else{const e=n.indexOf(t);e>-1&&(n.splice(e,1),t.record.name&&r.delete(t.record.name),t.children.forEach(s),t.alias.forEach(s))}}function u(){return n}function l(t){let e=0;while(e<n.length&&Z(t,n[e])>=0&&(t.record.path!==n[e].record.path||!ft(t,n[e])))e++;n.splice(e,0,t),t.record.name&&!ut(t)&&r.set(t.record.name,t)}function f(t,e){let i,o,s,u={};if("name"in t&&t.name){if(i=r.get(t.name),!i)throw G(1,{location:t});0,s=i.record.name,u=a(ot(e.params,i.keys.filter((t=>!t.optional)).map((t=>t.name))),t.params&&ot(t.params,i.keys.map((t=>t.name)))),o=i.stringify(u)}else if("path"in t)o=t.path,i=n.find((t=>t.re.test(o))),i&&(u=i.parse(o),s=i.record.name);else{if(i=e.name?r.get(e.name):n.find((t=>t.re.test(e.path))),!i)throw G(1,{location:t,currentLocation:e});s=i.record.name,u=a({},e.params,t.params),o=i.stringify(u)}const c=[];let l=i;while(l)c.unshift(l.record),l=l.parent;return{name:s,path:o,params:u,matched:c,meta:ct(c)}}return e=lt({strict:!1,end:!0,sensitive:!1},e),t.forEach((t=>o(t))),{addRoute:o,resolve:f,removeRoute:s,getRoutes:u,getRecordMatcher:i}}function ot(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function st(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:at(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function at(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]="object"===typeof n?n[r]:n;return e}function ut(t){while(t){if(t.record.aliasOf)return!0;t=t.parent}return!1}function ct(t){return t.reduce(((t,e)=>a(t,e.meta)),{})}function lt(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function ft(t,e){return e.children.some((e=>e===t||ft(t,e)))}const ht=/#/g,pt=/&/g,dt=/\//g,yt=/=/g,vt=/\?/g,gt=/\+/g,mt=/%5B/g,bt=/%5D/g,wt=/%5E/g,_t=/%60/g,Et=/%7B/g,Tt=/%7C/g,It=/%7D/g,St=/%20/g;function At(t){return encodeURI(""+t).replace(Tt,"|").replace(mt,"[").replace(bt,"]")}function Ct(t){return At(t).replace(Et,"{").replace(It,"}").replace(wt,"^")}function xt(t){return At(t).replace(gt,"%2B").replace(St,"+").replace(ht,"%23").replace(pt,"%26").replace(_t,"`").replace(Et,"{").replace(It,"}").replace(wt,"^")}function Nt(t){return xt(t).replace(yt,"%3D")}function Ot(t){return At(t).replace(ht,"%23").replace(vt,"%3F")}function Dt(t){return null==t?"":Ot(t).replace(dt,"%2F")}function kt(t){try{return decodeURIComponent(""+t)}catch(e){}return""+t}function Rt(t){const e={};if(""===t||"?"===t)return e;const n="?"===t[0],r=(n?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const t=r[i].replace(gt," "),n=t.indexOf("="),o=kt(n<0?t:t.slice(0,n)),s=n<0?null:kt(t.slice(n+1));if(o in e){let t=e[o];l(t)||(t=e[o]=[t]),t.push(s)}else e[o]=s}return e}function Pt(t){let e="";for(let n in t){const r=t[n];if(n=Nt(n),null==r){void 0!==r&&(e+=(e.length?"&":"")+n);continue}const i=l(r)?r.map((t=>t&&xt(t))):[r&&xt(r)];i.forEach((t=>{void 0!==t&&(e+=(e.length?"&":"")+n,null!=t&&(e+="="+t))}))}return e}function Lt(t){const e={};for(const n in t){const r=t[n];void 0!==r&&(e[n]=l(r)?r.map((t=>null==t?null:""+t)):null==r?r:""+r)}return e}const Mt=Symbol(""),Ft=Symbol(""),jt=Symbol(""),Vt=Symbol(""),Ut=Symbol("");function Ht(){let t=[];function e(e){return t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Bt(t,e,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise(((s,a)=>{const u=t=>{!1===t?a(G(4,{from:n,to:e})):t instanceof Error?a(t):U(t)?a(G(2,{from:e,to:t})):(o&&r.enterCallbacks[i]===o&&"function"===typeof t&&o.push(t),s())},c=t.call(r&&r.instances[i],e,n,u);let l=Promise.resolve(c);t.length<3&&(l=l.then(u)),l.catch((t=>a(t)))}))}function qt(t,e,n,r){const i=[];for(const o of t){0;for(const t in o.components){let a=o.components[t];if("beforeRouteEnter"===e||o.instances[t])if(Kt(a)){const s=a.__vccOpts||a,u=s[e];u&&i.push(Bt(u,n,r,o,t))}else{let u=a();0,i.push((()=>u.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${t}" at "${o.path}"`));const a=s(i)?i.default:i;o.components[t]=a;const u=a.__vccOpts||a,c=u[e];return c&&Bt(c,n,r,o,t)()}))))}}}return i}function Kt(t){return"object"===typeof t||"displayName"in t||"props"in t||"__vccOpts"in t}function Gt(t){const e=(0,r.WQ)(jt),n=(0,r.WQ)(Vt),o=(0,r.EW)((()=>e.resolve((0,i.R1)(t.to)))),s=(0,r.EW)((()=>{const{matched:t}=o.value,{length:e}=t,r=t[e-1],i=n.matched;if(!r||!i.length)return-1;const s=i.findIndex(g.bind(null,r));if(s>-1)return s;const a=Qt(t[e-2]);return e>1&&Qt(r)===a&&i[i.length-1].path!==a?i.findIndex(g.bind(null,t[e-2])):s})),a=(0,r.EW)((()=>s.value>-1&&Wt(n.params,o.value.params))),u=(0,r.EW)((()=>s.value>-1&&s.value===n.matched.length-1&&m(n.params,o.value.params)));function l(n={}){return $t(n)?e[(0,i.R1)(t.replace)?"replace":"push"]((0,i.R1)(t.to)).catch(c):Promise.resolve()}return{route:o,href:(0,r.EW)((()=>o.value.href)),isActive:a,isExactActive:u,navigate:l}}const zt=(0,r.pM)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Gt,setup(t,{slots:e}){const n=(0,i.Kh)(Gt(t)),{options:o}=(0,r.WQ)(jt),s=(0,r.EW)((()=>({[Xt(t.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[Xt(t.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const i=e.default&&e.default(n);return t.custom?i:(0,r.h)("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Yt=zt;function $t(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Wt(t,e){for(const n in e){const r=e[n],i=t[n];if("string"===typeof r){if(r!==i)return!1}else if(!l(i)||i.length!==r.length||r.some(((t,e)=>t!==i[e])))return!1}return!0}function Qt(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Xt=(t,e,n)=>null!=t?t:null!=e?e:n,Zt=(0,r.pM)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const o=(0,r.WQ)(Ut),s=(0,r.EW)((()=>t.route||o.value)),u=(0,r.WQ)(Ft,0),c=(0,r.EW)((()=>{let t=(0,i.R1)(u);const{matched:e}=s.value;let n;while((n=e[t])&&!n.components)t++;return t})),l=(0,r.EW)((()=>s.value.matched[c.value]));(0,r.Gt)(Ft,(0,r.EW)((()=>c.value+1))),(0,r.Gt)(Mt,l),(0,r.Gt)(Ut,s);const f=(0,i.KR)();return(0,r.wB)((()=>[f.value,l.value,t.name]),(([t,e,n],[r,i,o])=>{e&&(e.instances[n]=t,i&&i!==e&&t&&t===r&&(e.leaveGuards.size||(e.leaveGuards=i.leaveGuards),e.updateGuards.size||(e.updateGuards=i.updateGuards))),!t||!e||i&&g(e,i)&&r||(e.enterCallbacks[n]||[]).forEach((e=>e(t)))}),{flush:"post"}),()=>{const i=s.value,o=t.name,u=l.value,c=u&&u.components[o];if(!c)return Jt(n.default,{Component:c,route:i});const h=u.props[o],p=h?!0===h?i.params:"function"===typeof h?h(i):h:null,d=t=>{t.component.isUnmounted&&(u.instances[o]=null)},y=(0,r.h)(c,a({},p,e,{onVnodeUnmounted:d,ref:f}));return Jt(n.default,{Component:y,route:i})||y}}});function Jt(t,e){if(!t)return null;const n=t(e);return 1===n.length?n[0]:n}const te=Zt;function ee(t){const e=it(t.routes,t),n=t.parseQuery||Rt,s=t.stringifyQuery||Pt,f=t.history;const h=Ht(),y=Ht(),g=Ht(),m=(0,i.IJ)(B);let b=B;o&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const w=u.bind(null,(t=>""+t)),_=u.bind(null,Dt),T=u.bind(null,kt);function I(t,n){let r,i;return H(t)?(r=e.getRecordMatcher(t),i=n):i=t,e.addRoute(i,r)}function S(t){const n=e.getRecordMatcher(t);n&&e.removeRoute(n)}function A(){return e.getRoutes().map((t=>t.record))}function C(t){return!!e.getRecordMatcher(t)}function D(t,r){if(r=a({},r||m.value),"string"===typeof t){const i=p(n,t,r.path),o=e.resolve({path:i.path},r),s=f.createHref(i.fullPath);return a(i,o,{params:T(o.params),hash:kt(i.hash),redirectedFrom:void 0,href:s})}let i;if("path"in t)i=a({},t,{path:p(n,t.path,r.path).path});else{const e=a({},t.params);for(const t in e)null==e[t]&&delete e[t];i=a({},t,{params:_(e)}),r.params=_(r.params)}const o=e.resolve(i,r),u=t.hash||"";o.params=w(T(o.params));const c=d(s,a({},t,{hash:Ct(u),path:o.path})),l=f.createHref(c);return a({fullPath:c,hash:u,query:s===Pt?Lt(t.query):t.query||{}},o,{redirectedFrom:void 0,href:l})}function P(t){return"string"===typeof t?p(n,t,m.value.path):a({},t)}function L(t,e){if(b!==t)return G(8,{from:e,to:t})}function M(t){return V(t)}function F(t){return M(a(P(t),{replace:!0}))}function j(t){const e=t.matched[t.matched.length-1];if(e&&e.redirect){const{redirect:n}=e;let r="function"===typeof n?n(t):n;return"string"===typeof r&&(r=r.includes("?")||r.includes("#")?r=P(r):{path:r},r.params={}),a({query:t.query,hash:t.hash,params:"path"in r?{}:t.params},r)}}function V(t,e){const n=b=D(t),r=m.value,i=t.state,o=t.force,u=!0===t.replace,c=j(n);if(c)return V(a(P(c),{state:"object"===typeof c?a({},i,c.state):i,force:o,replace:u}),e||n);const l=n;let f;return l.redirectedFrom=e,!o&&v(s,r,n)&&(f=G(16,{to:l,from:r}),rt(r,r,!0,!1)),(f?Promise.resolve(f):K(l,r)).catch((t=>z(t)?z(t,2)?t:nt(t):tt(t,l,r))).then((t=>{if(t){if(z(t,2))return V(a({replace:u},P(t.to),{state:"object"===typeof t.to?a({},i,t.to.state):i,force:o}),e||l)}else t=$(l,r,!0,u,i);return Y(l,r,t),t}))}function U(t,e){const n=L(t,e);return n?Promise.reject(n):Promise.resolve()}function q(t){const e=at.values().next().value;return e&&"function"===typeof e.runWithContext?e.runWithContext(t):t()}function K(t,e){let n;const[r,i,o]=ne(t,e);n=qt(r.reverse(),"beforeRouteLeave",t,e);for(const a of r)a.leaveGuards.forEach((r=>{n.push(Bt(r,t,e))}));const s=U.bind(null,t,e);return n.push(s),ct(n).then((()=>{n=[];for(const r of h.list())n.push(Bt(r,t,e));return n.push(s),ct(n)})).then((()=>{n=qt(i,"beforeRouteUpdate",t,e);for(const r of i)r.updateGuards.forEach((r=>{n.push(Bt(r,t,e))}));return n.push(s),ct(n)})).then((()=>{n=[];for(const r of o)if(r.beforeEnter)if(l(r.beforeEnter))for(const i of r.beforeEnter)n.push(Bt(i,t,e));else n.push(Bt(r.beforeEnter,t,e));return n.push(s),ct(n)})).then((()=>(t.matched.forEach((t=>t.enterCallbacks={})),n=qt(o,"beforeRouteEnter",t,e),n.push(s),ct(n)))).then((()=>{n=[];for(const r of y.list())n.push(Bt(r,t,e));return n.push(s),ct(n)})).catch((t=>z(t,8)?t:Promise.reject(t)))}function Y(t,e,n){g.list().forEach((r=>q((()=>r(t,e,n)))))}function $(t,e,n,r,i){const s=L(t,e);if(s)return s;const u=e===B,c=o?history.state:{};n&&(r||u?f.replace(t.fullPath,a({scroll:u&&c&&c.scroll},i)):f.push(t.fullPath,i)),m.value=t,rt(t,e,n,u),nt()}let W;function Q(){W||(W=f.listen(((t,e,n)=>{if(!ut.listening)return;const r=D(t),i=j(r);if(i)return void V(a(i,{replace:!0}),r).catch(c);b=r;const s=m.value;o&&k(O(s.fullPath,n.delta),x()),K(r,s).catch((t=>z(t,12)?t:z(t,2)?(V(t.to,r).then((t=>{z(t,20)&&!n.delta&&n.type===E.pop&&f.go(-1,!1)})).catch(c),Promise.reject()):(n.delta&&f.go(-n.delta,!1),tt(t,r,s)))).then((t=>{t=t||$(r,s,!1),t&&(n.delta&&!z(t,8)?f.go(-n.delta,!1):n.type===E.pop&&z(t,20)&&f.go(-1,!1)),Y(r,s,t)})).catch(c)})))}let X,Z=Ht(),J=Ht();function tt(t,e,n){nt(t);const r=J.list();return r.length?r.forEach((r=>r(t,e,n))):console.error(t),Promise.reject(t)}function et(){return X&&m.value!==B?Promise.resolve():new Promise(((t,e)=>{Z.add([t,e])}))}function nt(t){return X||(X=!t,Q(),Z.list().forEach((([e,n])=>t?n(t):e())),Z.reset()),t}function rt(e,n,i,s){const{scrollBehavior:a}=t;if(!o||!a)return Promise.resolve();const u=!i&&R(O(e.fullPath,0))||(s||!i)&&history.state&&history.state.scroll||null;return(0,r.dY)().then((()=>a(e,n,u))).then((t=>t&&N(t))).catch((t=>tt(t,e,n)))}const ot=t=>f.go(t);let st;const at=new Set,ut={currentRoute:m,listening:!0,addRoute:I,removeRoute:S,hasRoute:C,getRoutes:A,resolve:D,options:t,push:M,replace:F,go:ot,back:()=>ot(-1),forward:()=>ot(1),beforeEach:h.add,beforeResolve:y.add,afterEach:g.add,onError:J.add,isReady:et,install(t){const e=this;t.component("RouterLink",Yt),t.component("RouterView",te),t.config.globalProperties.$router=e,Object.defineProperty(t.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,i.R1)(m)}),o&&!st&&m.value===B&&(st=!0,M(f.location).catch((t=>{0})));const n={};for(const i in B)Object.defineProperty(n,i,{get:()=>m.value[i],enumerable:!0});t.provide(jt,e),t.provide(Vt,(0,i.Gc)(n)),t.provide(Ut,m);const r=t.unmount;at.add(t),t.unmount=function(){at.delete(t),at.size<1&&(b=B,W&&W(),W=null,m.value=B,st=!1,X=!1),r()}}};function ct(t){return t.reduce(((t,e)=>t.then((()=>q(e)))),Promise.resolve())}return ut}function ne(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let s=0;s<o;s++){const o=e.matched[s];o&&(t.matched.find((t=>g(t,o)))?r.push(o):n.push(o));const a=t.matched[s];a&&(e.matched.find((t=>g(t,a)))||i.push(a))}return[n,r,i]}}}]);
//# sourceMappingURL=chunk-vendors.e56d90e7.js.map